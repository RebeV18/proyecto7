(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function i2(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var qm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function s2(){if(bv)return tu;bv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return tu.Fragment=e,tu.jsx=t,tu.jsxs=t,tu}var xv;function a2(){return xv||(xv=1,qm.exports=s2()),qm.exports}var T=a2(),Hm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function o2(){if(Tv)return Pe;Tv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function N(D,ee,ce){this.props=D,this.context=ee,this.refs=k,this.updater=ce||R}N.prototype.isReactComponent={},N.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function L(){}L.prototype=N.prototype;function q(D,ee,ce){this.props=D,this.context=ee,this.refs=k,this.updater=ce||R}var j=q.prototype=new L;j.constructor=q,I(j,N.prototype),j.isPureReactComponent=!0;var $=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function P(D,ee,ce,he,_e,De){return ce=De.ref,{$$typeof:n,type:D,key:ee,ref:ce!==void 0?ce:null,props:De}}function A(D,ee){return P(D.type,ee,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function U(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return ee[ce]})}var M=/\/+/g;function z(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):ee.toString(36)}function O(){}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,ee,ce,he,_e){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(De){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case n:case e:xe=!0;break;case _:return xe=D._init,me(xe(D._payload),ee,ce,he,_e)}}if(xe)return _e=_e(D),xe=he===""?"."+z(D,0):he,$(_e)?(ce="",xe!=null&&(ce=xe.replace(M,"$&/")+"/"),me(_e,ee,ce,"",function(It){return It})):_e!=null&&(C(_e)&&(_e=A(_e,ce+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(M,"$&/")+"/")+xe)),ee.push(_e)),1;xe=0;var xt=he===""?".":he+":";if($(D))for(var Fe=0;Fe<D.length;Fe++)he=D[Fe],De=xt+z(he,Fe),xe+=me(he,ee,ce,De,_e);else if(Fe=x(D),typeof Fe=="function")for(D=Fe.call(D),Fe=0;!(he=D.next()).done;)he=he.value,De=xt+z(he,Fe++),xe+=me(he,ee,ce,De,_e);else if(De==="object"){if(typeof D.then=="function")return me(ie(D),ee,ce,he,_e);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return xe}function J(D,ee,ce){if(D==null)return D;var he=[],_e=0;return me(D,he,"","",function(De){return ee.call(ce,De,_e++)}),he}function de(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ue(){}return Pe.Children={map:J,forEach:function(D,ee,ce){J(D,function(){ee.apply(this,arguments)},ce)},count:function(D){var ee=0;return J(D,function(){ee++}),ee},toArray:function(D){return J(D,function(ee){return ee})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Pe.Component=N,Pe.Fragment=t,Pe.Profiler=a,Pe.PureComponent=q,Pe.StrictMode=i,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return W.H.useMemoCache(D)}},Pe.cache=function(D){return function(){return D.apply(null,arguments)}},Pe.cloneElement=function(D,ee,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var he=I({},D.props),_e=D.key,De=void 0;if(ee!=null)for(xe in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(_e=""+ee.key),ee)!le.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(he[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)he.children=ce;else if(1<xe){for(var xt=Array(xe),Fe=0;Fe<xe;Fe++)xt[Fe]=arguments[Fe+2];he.children=xt}return P(D.type,_e,void 0,void 0,De,he)},Pe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Pe.createElement=function(D,ee,ce){var he,_e={},De=null;if(ee!=null)for(he in ee.key!==void 0&&(De=""+ee.key),ee)le.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=ee[he]);var xe=arguments.length-2;if(xe===1)_e.children=ce;else if(1<xe){for(var xt=Array(xe),Fe=0;Fe<xe;Fe++)xt[Fe]=arguments[Fe+2];_e.children=xt}if(D&&D.defaultProps)for(he in xe=D.defaultProps,xe)_e[he]===void 0&&(_e[he]=xe[he]);return P(D,De,void 0,void 0,null,_e)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(D){return{$$typeof:d,render:D}},Pe.isValidElement=C,Pe.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:de}},Pe.memo=function(D,ee){return{$$typeof:p,type:D,compare:ee===void 0?null:ee}},Pe.startTransition=function(D){var ee=W.T,ce={};W.T=ce;try{var he=D(),_e=W.S;_e!==null&&_e(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,ge)}catch(De){ge(De)}finally{W.T=ee}},Pe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Pe.use=function(D){return W.H.use(D)},Pe.useActionState=function(D,ee,ce){return W.H.useActionState(D,ee,ce)},Pe.useCallback=function(D,ee){return W.H.useCallback(D,ee)},Pe.useContext=function(D){return W.H.useContext(D)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(D,ee){return W.H.useDeferredValue(D,ee)},Pe.useEffect=function(D,ee,ce){var he=W.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(D,ee)},Pe.useId=function(){return W.H.useId()},Pe.useImperativeHandle=function(D,ee,ce){return W.H.useImperativeHandle(D,ee,ce)},Pe.useInsertionEffect=function(D,ee){return W.H.useInsertionEffect(D,ee)},Pe.useLayoutEffect=function(D,ee){return W.H.useLayoutEffect(D,ee)},Pe.useMemo=function(D,ee){return W.H.useMemo(D,ee)},Pe.useOptimistic=function(D,ee){return W.H.useOptimistic(D,ee)},Pe.useReducer=function(D,ee,ce){return W.H.useReducer(D,ee,ce)},Pe.useRef=function(D){return W.H.useRef(D)},Pe.useState=function(D){return W.H.useState(D)},Pe.useSyncExternalStore=function(D,ee,ce){return W.H.useSyncExternalStore(D,ee,ce)},Pe.useTransition=function(){return W.H.useTransition()},Pe.version="19.1.0",Pe}var wv;function Lo(){return wv||(wv=1,Hm.exports=o2()),Hm.exports}var X=Lo();const wr=J1(X);var Fm={exports:{}},nu={},Gm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function l2(){return Sv||(Sv=1,function(n){function e(J,de){var ge=J.length;J.push(de);e:for(;0<ge;){var ue=ge-1>>>1,D=J[ue];if(0<a(D,de))J[ue]=de,J[ge]=D,ge=ue;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var de=J[0],ge=J.pop();if(ge!==de){J[0]=ge;e:for(var ue=0,D=J.length,ee=D>>>1;ue<ee;){var ce=2*(ue+1)-1,he=J[ce],_e=ce+1,De=J[_e];if(0>a(he,ge))_e<D&&0>a(De,he)?(J[ue]=De,J[_e]=ge,ue=_e):(J[ue]=he,J[ce]=ge,ue=ce);else if(_e<D&&0>a(De,ge))J[ue]=De,J[_e]=ge,ue=_e;else break e}}return de}function a(J,de){var ge=J.sortIndex-de.sortIndex;return ge!==0?ge:J.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,v=null,x=3,R=!1,I=!1,k=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(J){for(var de=t(p);de!==null;){if(de.callback===null)i(p);else if(de.startTime<=J)i(p),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(p)}}function W(J){if(k=!1,$(J),!I)if(t(m)!==null)I=!0,le||(le=!0,z());else{var de=t(p);de!==null&&me(W,de.startTime-J)}}var le=!1,P=-1,A=5,C=-1;function U(){return N?!0:!(n.unstable_now()-C<A)}function M(){if(N=!1,le){var J=n.unstable_now();C=J;var de=!0;try{e:{I=!1,k&&(k=!1,q(P),P=-1),R=!0;var ge=x;try{t:{for($(J),v=t(m);v!==null&&!(v.expirationTime>J&&U());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,x=v.priorityLevel;var D=ue(v.expirationTime<=J);if(J=n.unstable_now(),typeof D=="function"){v.callback=D,$(J),de=!0;break t}v===t(m)&&i(m),$(J)}else i(m);v=t(m)}if(v!==null)de=!0;else{var ee=t(p);ee!==null&&me(W,ee.startTime-J),de=!1}}break e}finally{v=null,x=ge,R=!1}de=void 0}}finally{de?z():le=!1}}}var z;if(typeof j=="function")z=function(){j(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ie=O.port2;O.port1.onmessage=M,z=function(){ie.postMessage(null)}}else z=function(){L(M,0)};function me(J,de){P=L(function(){J(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(J){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var ge=x;x=de;try{return J()}finally{x=ge}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(J,de){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=x;x=J;try{return de()}finally{x=ge}},n.unstable_scheduleCallback=function(J,de,ge){var ue=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ue+ge:ue):ge=ue,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ge+D,J={id:_++,callback:de,priorityLevel:J,startTime:ge,expirationTime:D,sortIndex:-1},ge>ue?(J.sortIndex=ge,e(p,J),t(m)===null&&J===t(p)&&(k?(q(P),P=-1):k=!0,me(W,ge-ue))):(J.sortIndex=D,e(m,J),I||R||(I=!0,le||(le=!0,z()))),J},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(J){var de=x;return function(){var ge=x;x=de;try{return J.apply(this,arguments)}finally{x=ge}}}}(Km)),Km}var Av;function u2(){return Av||(Av=1,Gm.exports=l2()),Gm.exports}var $m={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function c2(){if(Rv)return Jt;Rv=1;var n=Lo();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jt.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},Jt.flushSync=function(m){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=_,i.d.f()}},Jt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Jt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Jt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,v=d(_,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:R}):_==="script"&&i.d.X(m,{crossOrigin:v,integrity:x,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Jt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=d(_,p.crossOrigin);i.d.L(m,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Jt.requestFormReset=function(m){i.d.r(m)},Jt.unstable_batchedUpdates=function(m,p){return m(p)},Jt.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var Iv;function h2(){if(Iv)return $m.exports;Iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$m.exports=c2(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function f2(){if(Cv)return nu;Cv=1;var n=u2(),e=Lo(),t=h2();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),r;if(g===u)return d(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,u=g;break}if(w===u){b=!0,u=f,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=f;break}if(w===u){b=!0,u=g,o=f;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case j:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}var me=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ue=[],D=-1;function ee(r){return{current:r}}function ce(r){0>D||(r.current=ue[D],ue[D]=null,D--)}function he(r,s){D++,ue[D]=r.current,r.current=s}var _e=ee(null),De=ee(null),xe=ee(null),xt=ee(null);function Fe(r,s){switch(he(xe,s),he(De,r),he(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Q0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Q0(s),r=X0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(_e),he(_e,r)}function It(){ce(_e),ce(De),ce(xe)}function qr(r){r.memoizedState!==null&&he(xt,r);var s=_e.current,o=X0(s,r.type);s!==o&&(he(De,r),he(_e,o))}function Ia(r){De.current===r&&(ce(_e),ce(De)),xt.current===r&&(ce(xt),Xl._currentValue=ge)}var Ca=Object.prototype.hasOwnProperty,Rs=n.unstable_scheduleCallback,Oa=n.unstable_cancelCallback,qf=n.unstable_shouldYield,Xo=n.unstable_requestPaint,hn=n.unstable_now,Yu=n.unstable_getCurrentPriorityLevel,Ct=n.unstable_ImmediatePriority,Vt=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,Hf=n.unstable_LowPriority,Wo=n.unstable_IdlePriority,Ff=n.log,Is=n.unstable_setDisableYieldValue,bi=null,Xt=null;function On(r){if(typeof Ff=="function"&&Is(r),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(bi,r)}catch{}}var an=Math.clz32?Math.clz32:Xu,Gf=Math.log,Qu=Math.LN2;function Xu(r){return r>>>=0,r===0?32:31-(Gf(r)/Qu|0)|0}var ar=256,xi=4194304;function Hn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nn(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?f=Hn(u):(b&=w,b!==0?f=Hn(b):o||(o=w&~r,o!==0&&(f=Hn(o))))):(w=u&~g,w!==0?f=Hn(w):b!==0?f=Hn(b):o||(o=u&~r,o!==0&&(f=Hn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Ti(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Na(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var r=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),r}function wi(){var r=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),r}function Pa(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function mt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wu(r,s,o,u,f,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,V=r.expirationTimes,K=r.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-an(o),se=1<<ne;w[ne]=0,V[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var Q=Y[ne];Q!==null&&(Q.lane&=-536870913)}o&=~se}u!==0&&Si(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function Si(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-an(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Ai(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-an(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Jo(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function el(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fr(){var r=de.p;return r!==0?r:(r=window.event,r===void 0?32:pv(r.type))}function Kf(r,s){var o=de.p;try{return de.p=r,s()}finally{de.p=o}}var or=Math.random().toString(36).slice(2),pt="__reactFiber$"+or,qt="__reactProps$"+or,Gr="__reactContainer$"+or,Cs="__reactEvents$"+or,Os="__reactListeners$"+or,$f="__reactHandles$"+or,Fn="__reactResources$"+or,Ri="__reactMarker$"+or;function Da(r){delete r[pt],delete r[qt],delete r[Cs],delete r[Os],delete r[$f]}function lr(r){var s=r[pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Gr]||o[pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ev(r);r!==null;){if(o=r[pt])return o;r=ev(r)}return s}r=o,o=r.parentNode}return null}function ur(r){if(r=r[pt]||r[Gr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ii(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ci(r){var s=r[Fn];return s||(s=r[Fn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[Ri]=!0}var Zu=new Set,Ns={};function cr(r,s){hr(r,s),hr(r+"Capture",s)}function hr(r,s){for(Ns[r]=s,r=0;r<s.length;r++)Zu.add(s[r])}var Ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},Ma={};function Yf(r){return Ca.call(Ma,r)?!0:Ca.call(fr,r)?!1:Ps.test(r)?Ma[r]=!0:(fr[r]=!0,!1)}function Ds(r,s,o){if(Yf(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ms(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Pn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ks,ka;function Kr(r){if(ks===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ks=s&&s[1]||"",ka=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+r+ka}var Va=!1;function La(r,s){if(!r||Va)return"";Va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var Y=Q}Reflect.construct(r,[],se)}else{try{se.call()}catch(Q){Y=Q}r.call(se.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var V=b.split(`
`),K=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var ne=`
`+V[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{Va=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Kr(o):""}function Qf(r){switch(r.tag){case 26:case 27:case 5:return Kr(r.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return La(r.type,!1);case 11:return La(r.type.render,!1);case 1:return La(r.type,!0);case 31:return Kr("Activity");default:return""}}function Gn(r){try{var s="";do s+=Qf(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ot(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oi(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vs(r){var s=Oi(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ni(r){r._valueTracker||(r._valueTracker=Vs(r))}function Xe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Oi(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ls=/[\n"\\]/g;function Lt(r){return r.replace(Ls,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tl(r,s,o,u,f,g,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ot(s)):r.value!==""+ot(s)&&(r.value=""+ot(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?rl(r,b,ot(s)):o!=null?rl(r,b,ot(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+ot(w):r.removeAttribute("name")}function nl(r,s,o,u,f,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+ot(o):"",s=s!=null?""+ot(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function rl(r,s,o){s==="number"&&$r(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Pi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+ot(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ju(r,s,o){if(s!=null&&(s=""+ot(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+ot(o):""}function ec(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ot(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Dn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Yr.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function sl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&il(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&il(r,g,s[g])}function Ua(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(r){return nc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var al=null;function ol(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Di=null,on=null;function rc(r){var s=ur(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(tl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[qt]||null;if(!f)throw Error(i(90));tl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Xe(u)}break e;case"textarea":Ju(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Pi(r,!!o.multiple,s,!1)}}}var Us=!1;function js(r,s,o){if(Us)return r(s,o);Us=!0;try{var u=r(s);return u}finally{if(Us=!1,(Di!==null||on!==null)&&(Kc(),Di&&(s=Di,r=on,on=Di=null,rc(s),r)))for(s=0;s<r.length;s++)rc(r[s])}}function Mi(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(ln)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Qr=!1}var Mn=null,tt=null,ja=null;function ic(){if(ja)return ja;var r,s=tt,o=s.length,u,f="value"in Mn?Mn.value:Mn.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===f[g-u];u++);return ja=f.slice(r,1<u?1-u:void 0)}function zs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Bs(){return!0}function ll(){return!1}function Ot(r){function s(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:ll,this.isPropagationStopped=ll,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),s}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Ot(Wt),Hs=_({},Wt,{view:0,detail:0}),Fs=Ot(Hs),za,Gs,dr,Ks=_({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==dr&&(dr&&r.type==="mousemove"?(za=r.screenX-dr.screenX,Gs=r.screenY-dr.screenY):Gs=za=0,dr=r),za)},movementY:function(r){return"movementY"in r?r.movementY:Gs}}),$s=Ot(Ks),Xf=_({},Ks,{dataTransfer:0}),sc=Ot(Xf),Ys=_({},Hs,{relatedTarget:0}),Ba=Ot(Ys),ac=_({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),ul=Ot(ac),cl=_({},Wt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oc=Ot(cl),qa=_({},Wt,{data:0}),hl=Ot(qa),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uc[r])?!!s[r]:!1}function Ha(){return cc}var hc=_({},Hs,{key:function(r){if(r.key){var s=lc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=zs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xr[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(r){return r.type==="keypress"?zs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fa=Ot(hc),un=_({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ot(un),fc=_({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Vi=Ot(fc),h=_({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ot(h),E=_({},Ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Ot(E),G=_({},Wt,{newState:0,oldState:0}),Z=Ot(G),fe=[9,13,27,32],Ce=ln&&"CompositionEvent"in window,rt=null;ln&&"documentMode"in document&&(rt=document.documentMode);var $e=ln&&"TextEvent"in window&&!rt,yt=ln&&(!Ce||rt&&8<rt&&11>=rt),vn=" ",mr=!1;function $n(r,s){switch(r){case"keyup":return fe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qn=!1;function dl(r,s){switch(r){case"compositionend":return Yn(s);case"keypress":return s.which!==32?null:(mr=!0,vn);case"textInput":return r=s.data,r===vn&&mr?null:r;default:return null}}function Nw(r,s){if(Qn)return r==="compositionend"||!Ce&&$n(r,s)?(r=ic(),ja=tt=Mn=null,Qn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yt&&s.locale!=="ko"?null:s.data;default:return null}}var Pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Pw[r.type]:s==="textarea"}function cy(r,s,o,u){Di?on?on.push(u):on=[u]:Di=u,s=Zc(s,"onChange"),0<s.length&&(o=new qs("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ml=null,pl=null;function Dw(r){F0(r,0)}function dc(r){var s=Ii(r);if(Xe(s))return r}function hy(r,s){if(r==="change")return s}var fy=!1;if(ln){var Wf;if(ln){var Zf="oninput"in document;if(!Zf){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Zf=typeof dy.oninput=="function"}Wf=Zf}else Wf=!1;fy=Wf&&(!document.documentMode||9<document.documentMode)}function my(){ml&&(ml.detachEvent("onpropertychange",py),pl=ml=null)}function py(r){if(r.propertyName==="value"&&dc(pl)){var s=[];cy(s,pl,r,ol(r)),js(Dw,s)}}function Mw(r,s,o){r==="focusin"?(my(),ml=s,pl=o,ml.attachEvent("onpropertychange",py)):r==="focusout"&&my()}function kw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dc(pl)}function Vw(r,s){if(r==="click")return dc(s)}function Lw(r,s){if(r==="input"||r==="change")return dc(s)}function Uw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var En=typeof Object.is=="function"?Object.is:Uw;function gl(r,s){if(En(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ca.call(s,f)||!En(r[f],s[f]))return!1}return!0}function gy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function yy(r,s){var o=gy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gy(o)}}function _y(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_y(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function vy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=$r(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=$r(r.document)}return s}function Jf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var jw=ln&&"documentMode"in document&&11>=document.documentMode,Ga=null,ed=null,yl=null,td=!1;function Ey(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;td||Ga==null||Ga!==$r(u)||(u=Ga,"selectionStart"in u&&Jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yl&&gl(yl,u)||(yl=u,u=Zc(ed,"onSelect"),0<u.length&&(s=new qs("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ga)))}function Qs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ka={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},nd={},by={};ln&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Xs(r){if(nd[r])return nd[r];if(!Ka[r])return r;var s=Ka[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in by)return nd[r]=s[o];return r}var xy=Xs("animationend"),Ty=Xs("animationiteration"),wy=Xs("animationstart"),zw=Xs("transitionrun"),Bw=Xs("transitionstart"),qw=Xs("transitioncancel"),Sy=Xs("transitionend"),Ay=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function Xn(r,s){Ay.set(r,s),cr(s,[r])}var Ry=new WeakMap;function kn(r,s){if(typeof r=="object"&&r!==null){var o=Ry.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Gn(s)},Ry.set(r,s),s)}return{value:r,source:s,stack:Gn(s)}}var Vn=[],$a=0,id=0;function mc(){for(var r=$a,s=id=$a=0;s<r;){var o=Vn[s];Vn[s++]=null;var u=Vn[s];Vn[s++]=null;var f=Vn[s];Vn[s++]=null;var g=Vn[s];if(Vn[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Iy(o,f,g)}}function pc(r,s,o,u){Vn[$a++]=r,Vn[$a++]=s,Vn[$a++]=o,Vn[$a++]=u,id|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function sd(r,s,o,u){return pc(r,s,o,u),gc(r)}function Ya(r,s){return pc(r,null,null,s),gc(r)}function Iy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-an(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function gc(r){if(50<ql)throw ql=0,hm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qa={};function Hw(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,s,o,u){return new Hw(r,s,o,u)}function ad(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wr(r,s){var o=r.alternate;return o===null?(o=bn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Cy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function yc(r,s,o,u,f,g){var b=0;if(u=r,typeof r=="function")ad(r)&&(b=1);else if(typeof r=="string")b=GS(r,o,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=bn(31,o,s,f),r.elementType=C,r.lanes=g,r;case I:return Ws(o.children,f,g,s);case k:b=8,f|=24;break;case N:return r=bn(12,o,s,f|2),r.elementType=N,r.lanes=g,r;case W:return r=bn(13,o,s,f),r.elementType=W,r.lanes=g,r;case le:return r=bn(19,o,s,f),r.elementType=le,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case j:b=10;break e;case q:b=9;break e;case $:b=11;break e;case P:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=bn(b,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function Ws(r,s,o,u){return r=bn(7,r,u,s),r.lanes=o,r}function od(r,s,o){return r=bn(6,r,null,s),r.lanes=o,r}function ld(r,s,o){return s=bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Xa=[],Wa=0,_c=null,vc=0,Ln=[],Un=0,Zs=null,Zr=1,Jr="";function Js(r,s){Xa[Wa++]=vc,Xa[Wa++]=_c,_c=r,vc=s}function Oy(r,s,o){Ln[Un++]=Zr,Ln[Un++]=Jr,Ln[Un++]=Zs,Zs=r;var u=Zr;r=Jr;var f=32-an(u)-1;u&=~(1<<f),o+=1;var g=32-an(s)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Zr=1<<32-an(s)+f|o<<f|u,Jr=g+r}else Zr=1<<g|o<<f|u,Jr=r}function ud(r){r.return!==null&&(Js(r,1),Oy(r,1,0))}function cd(r){for(;r===_c;)_c=Xa[--Wa],Xa[Wa]=null,vc=Xa[--Wa],Xa[Wa]=null;for(;r===Zs;)Zs=Ln[--Un],Ln[Un]=null,Jr=Ln[--Un],Ln[Un]=null,Zr=Ln[--Un],Ln[Un]=null}var cn=null,ht=null,Ge=!1,ea=null,pr=!1,hd=Error(i(519));function ta(r){var s=Error(i(418,""));throw El(kn(s,r)),hd}function Ny(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[pt]=r,s[qt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<Fl.length;o++)Le(Fl[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),nl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ni(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ec(s,u.value,u.defaultValue,u.children),Ni(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Y0(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Jc),s=!0):s=!1,s||ta(r)}function Py(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:cn=cn.return}}function _l(r){if(r!==cn)return!1;if(!Ge)return Py(r),Ge=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Rm(r.type,r.memoizedProps)),o=!o),o&&ht&&ta(r),Py(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){ht=Zn(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}ht=null}}else s===27?(s=ht,Zi(r.type)?(r=Nm,Nm=null,ht=r):ht=s):ht=cn?Zn(r.stateNode.nextSibling):null;return!0}function vl(){ht=cn=null,Ge=!1}function Dy(){var r=ea;return r!==null&&(mn===null?mn=r:mn.push.apply(mn,r),ea=null),r}function El(r){ea===null?ea=[r]:ea.push(r)}var fd=ee(null),na=null,ei=null;function Li(r,s,o){he(fd,s._currentValue),s._currentValue=o}function ti(r){r._currentValue=fd.current,ce(fd)}function dd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function md(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=f;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),dd(g.return,o,r),u||(b=null);break e}g=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),dd(b,o,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function bl(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=f.type;En(f.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(f===xt.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Xl):r=[Xl])}f=f.return}r!==null&&md(s,r,o,u),s.flags|=262144}function Ec(r){for(r=r.firstContext;r!==null;){if(!En(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ra(r){na=r,ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zt(r){return My(na,r)}function bc(r,s){return na===null&&ra(r),My(r,s)}function My(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ei===null){if(r===null)throw Error(i(308));ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ei=ei.next=s;return o}var Fw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Gw=n.unstable_scheduleCallback,Kw=n.unstable_NormalPriority,Nt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new Fw,data:new Map,refCount:0}}function xl(r){r.refCount--,r.refCount===0&&Gw(Kw,function(){r.controller.abort()})}var Tl=null,gd=0,Za=0,Ja=null;function $w(r,s){if(Tl===null){var o=Tl=[];gd=0,Za=_m(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gd++,s.then(ky,ky),s}function ky(){if(--gd===0&&Tl!==null){Ja!==null&&(Ja.status="fulfilled");var r=Tl;Tl=null,Za=0,Ja=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Yw(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Vy=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&$w(r,s),Vy!==null&&Vy(r,s)};var ia=ee(null);function yd(){var r=ia.current;return r!==null?r:nt.pooledCache}function xc(r,s){s===null?he(ia,ia.current):he(ia,s.pool)}function Ly(){var r=yd();return r===null?null:{parent:Nt._currentValue,pool:r}}var wl=Error(i(460)),Uy=Error(i(474)),Tc=Error(i(542)),_d={then:function(){}};function jy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wc(){}function zy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(wc,wc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,qy(r),r;default:if(typeof s.status=="string")s.then(wc,wc);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,qy(r),r}throw Sl=s,wl}}var Sl=null;function By(){if(Sl===null)throw Error(i(459));var r=Sl;return Sl=null,r}function qy(r){if(r===wl||r===Tc)throw Error(i(483))}var Ui=!1;function vd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ji(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=gc(r),Iy(r,null,o),s}return pc(r,u,s,o),gc(r)}function Al(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ai(r,o)}}function bd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var xd=!1;function Rl(){if(xd){var r=Ja;if(r!==null)throw r}}function Il(r,s,o,u){xd=!1;var f=r.updateQueue;Ui=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,K=V.next;V.next=null,b===null?g=K:b.next=K,b=V;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==b&&(w===null?ne.firstBaseUpdate=K:w.next=K,ne.lastBaseUpdate=V))}if(g!==null){var se=f.baseState;b=0,ne=K=V=null,w=g;do{var Y=w.lane&-536870913,Q=Y!==w.lane;if(Q?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===Za&&(xd=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Re=r,Te=w;Y=s;var Je=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){se=Re.call(Je,se,Y);break e}se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,Y=typeof Re=="function"?Re.call(Je,se,Y):Re,Y==null)break e;se=_({},se,Y);break e;case 2:Ui=!0}}Y=w.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(K=ne=Q,V=se):ne=ne.next=Q,b|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ne===null&&(V=se),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Yi|=b,r.lanes=b,r.memoizedState=se}}function Hy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Fy(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Hy(o[r],s)}var eo=ee(null),Sc=ee(0);function Gy(r,s){r=li,he(Sc,r),he(eo,s),li=r|s.baseLanes}function Td(){he(Sc,li),he(eo,eo.current)}function wd(){li=Sc.current,ce(eo),ce(Sc)}var Bi=0,Me=null,We=null,Tt=null,Ac=!1,to=!1,sa=!1,Rc=0,Cl=0,no=null,Qw=0;function _t(){throw Error(i(321))}function Sd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!En(r[o],s[o]))return!1;return!0}function Ad(r,s,o,u,f,g){return Bi=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?I_:C_,sa=!1,g=o(u,f),sa=!1,to&&(g=$y(s,o,u,f)),Ky(r),g}function Ky(r){J.H=Dc;var s=We!==null&&We.next!==null;if(Bi=0,Tt=We=Me=null,Ac=!1,Cl=0,no=null,s)throw Error(i(300));r===null||Ut||(r=r.dependencies,r!==null&&Ec(r)&&(Ut=!0))}function $y(r,s,o,u){Me=r;var f=0;do{if(to&&(no=null),Cl=0,to=!1,25<=f)throw Error(i(301));if(f+=1,Tt=We=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=nS,g=s(o,u)}while(to);return g}function Xw(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?Ol(s):s,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(Me.flags|=1024),s}function Rd(){var r=Rc!==0;return Rc=0,r}function Id(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Cd(r){if(Ac){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ac=!1}Bi=0,Tt=We=Me=null,to=!1,Cl=Rc=0,no=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Me.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function wt(){if(We===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var s=Tt===null?Me.memoizedState:Tt.next;if(s!==null)Tt=s,We=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?Me.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(r){var s=Cl;return Cl+=1,no===null&&(no=[]),r=zy(no,r,s),s=Me,(Tt===null?s.memoizedState:Tt.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?I_:C_),r}function Ic(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ol(r);if(r.$$typeof===j)return Zt(r)}throw Error(i(438,String(r)))}function Nd(r){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Od(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=U;return s.index++,o}function ni(r,s){return typeof s=="function"?s(r):s}function Cc(r){var s=wt();return Pd(s,We,r)}function Pd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var w=b=null,V=null,K=s,ne=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Be&se)===se:(Bi&se)===se){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===Za&&(ne=!0);else if((Bi&Y)===Y){K=K.next,Y===Za&&(ne=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=se,b=g):V=V.next=se,Me.lanes|=Y,Yi|=Y;se=K.action,sa&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else Y={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=Y,b=g):V=V.next=Y,Me.lanes|=se,Yi|=se;K=K.next}while(K!==null&&K!==s);if(V===null?b=g:V.next=w,!En(g,r.memoizedState)&&(Ut=!0,ne&&(o=Ja,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Dd(r){var s=wt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=r(g,b.action),b=b.next;while(b!==f);En(g,s.memoizedState)||(Ut=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Yy(r,s,o){var u=Me,f=wt(),g=Ge;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!En((We||f).memoizedState,o);b&&(f.memoizedState=o,Ut=!0),f=f.queue;var w=Wy.bind(null,u,f,r);if(Nl(2048,8,w,[r]),f.getSnapshot!==s||b||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,ro(9,Oc(),Xy.bind(null,u,f,o,s),null),nt===null)throw Error(i(349));g||(Bi&124)!==0||Qy(u,s,o)}return o}function Qy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=Od(),Me.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Xy(r,s,o,u){s.value=o,s.getSnapshot=u,Zy(s)&&Jy(r)}function Wy(r,s,o){return o(function(){Zy(s)&&Jy(r)})}function Zy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!En(r,o)}catch{return!0}}function Jy(r){var s=Ya(r,2);s!==null&&An(s,r,2)}function Md(r){var s=fn();if(typeof r=="function"){var o=r;if(r=o(),sa){On(!0);try{o()}finally{On(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:r},s}function e_(r,s,o,u){return r.baseState=o,Pd(r,We,typeof u=="function"?u:ni)}function Ww(r,s,o,u,f){if(Pc(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,t_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function t_(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=J.T,b={};J.T=b;try{var w=o(f,u),V=J.S;V!==null&&V(b,w),n_(r,s,w)}catch(K){kd(r,s,K)}finally{J.T=g}}else try{g=o(f,u),n_(r,s,g)}catch(K){kd(r,s,K)}}function n_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){r_(r,s,u)},function(u){return kd(r,s,u)}):r_(r,s,o)}function r_(r,s,o){s.status="fulfilled",s.value=o,i_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,t_(r,o)))}function kd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,i_(s),s=s.next;while(s!==u)}r.action=null}function i_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function s_(r,s){return s}function a_(r,s){if(Ge){var o=nt.formState;if(o!==null){e:{var u=Me;if(Ge){if(ht){t:{for(var f=ht,g=pr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ht=Zn(f.nextSibling),u=f.data==="F!";break e}}ta(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:s},o.queue=u,o=S_.bind(null,Me,u),u.dispatch=o,u=Md(!1),g=zd.bind(null,Me,!1,u.queue),u=fn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=Ww.bind(null,Me,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function o_(r){var s=wt();return l_(s,We,r)}function l_(r,s,o){if(s=Pd(r,s,s_)[0],r=Cc(ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ol(s)}catch(b){throw b===wl?Tc:b}else u=s;s=wt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,ro(9,Oc(),Zw.bind(null,f,o),null)),[u,g,r]}function Zw(r,s){r.action=s}function u_(r){var s=wt(),o=We;if(o!==null)return l_(s,o,r);wt(),s=s.memoizedState,o=wt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ro(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Me.updateQueue,s===null&&(s=Od(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Oc(){return{destroy:void 0,resource:void 0}}function c_(){return wt().memoizedState}function Nc(r,s,o,u){var f=fn();u=u===void 0?null:u,Me.flags|=r,f.memoizedState=ro(1|s,Oc(),o,u)}function Nl(r,s,o,u){var f=wt();u=u===void 0?null:u;var g=f.memoizedState.inst;We!==null&&u!==null&&Sd(u,We.memoizedState.deps)?f.memoizedState=ro(s,g,o,u):(Me.flags|=r,f.memoizedState=ro(1|s,g,o,u))}function h_(r,s){Nc(8390656,8,r,s)}function f_(r,s){Nl(2048,8,r,s)}function d_(r,s){return Nl(4,2,r,s)}function m_(r,s){return Nl(4,4,r,s)}function p_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function g_(r,s,o){o=o!=null?o.concat([r]):null,Nl(4,4,p_.bind(null,s,r),o)}function Vd(){}function y_(r,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Sd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function __(r,s){var o=wt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Sd(s,u[1]))return u[0];if(u=r(),sa){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,s],u}function Ld(r,s,o){return o===void 0||(Bi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=b0(),Me.lanes|=r,Yi|=r,o)}function v_(r,s,o,u){return En(o,s)?o:eo.current!==null?(r=Ld(r,o,u),En(r,s)||(Ut=!0),r):(Bi&42)===0?(Ut=!0,r.memoizedState=o):(r=b0(),Me.lanes|=r,Yi|=r,s)}function E_(r,s,o,u,f){var g=de.p;de.p=g!==0&&8>g?g:8;var b=J.T,w={};J.T=w,zd(r,!1,s,o);try{var V=f(),K=J.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=Yw(V,u);Pl(r,s,ne,Sn(r))}else Pl(r,s,u,Sn(r))}catch(se){Pl(r,s,{then:function(){},status:"rejected",reason:se},Sn())}finally{de.p=g,J.T=b}}function Jw(){}function Ud(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=b_(r).queue;E_(r,f,s,ge,o===null?Jw:function(){return x_(r),o(u)})}function b_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function x_(r){var s=b_(r).next.queue;Pl(r,s,{},Sn())}function jd(){return Zt(Xl)}function T_(){return wt().memoizedState}function w_(){return wt().memoizedState}function eS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();r=ji(o);var u=zi(s,r,o);u!==null&&(An(u,s,o),Al(u,s,o)),s={cache:pd()},r.payload=s;return}s=s.return}}function tS(r,s,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(r)?A_(s,o):(o=sd(r,s,o,u),o!==null&&(An(o,r,u),R_(o,s,u)))}function S_(r,s,o){var u=Sn();Pl(r,s,o,u)}function Pl(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pc(r))A_(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,o);if(f.hasEagerState=!0,f.eagerState=w,En(w,b))return pc(r,s,f,0),nt===null&&mc(),!1}catch{}finally{}if(o=sd(r,s,f,u),o!==null)return An(o,r,u),R_(o,s,u),!0}return!1}function zd(r,s,o,u){if(u={lane:2,revertLane:_m(),action:u,hasEagerState:!1,eagerState:null,next:null},Pc(r)){if(s)throw Error(i(479))}else s=sd(r,o,u,2),s!==null&&An(s,r,2)}function Pc(r){var s=r.alternate;return r===Me||s!==null&&s===Me}function A_(r,s){to=Ac=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function R_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ai(r,o)}}var Dc={readContext:Zt,use:Ic,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},I_={readContext:Zt,use:Ic,useCallback:function(r,s){return fn().memoizedState=[r,s===void 0?null:s],r},useContext:Zt,useEffect:h_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Nc(4194308,4,p_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Nc(4194308,4,r,s)},useInsertionEffect:function(r,s){Nc(4,2,r,s)},useMemo:function(r,s){var o=fn();s=s===void 0?null:s;var u=r();if(sa){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=fn();if(o!==void 0){var f=o(s);if(sa){On(!0);try{o(s)}finally{On(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=tS.bind(null,Me,r),[u.memoizedState,r]},useRef:function(r){var s=fn();return r={current:r},s.memoizedState=r},useState:function(r){r=Md(r);var s=r.queue,o=S_.bind(null,Me,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Vd,useDeferredValue:function(r,s){var o=fn();return Ld(o,r,s)},useTransition:function(){var r=Md(!1);return r=E_.bind(null,Me,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Me,f=fn();if(Ge){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),nt===null)throw Error(i(349));(Be&124)!==0||Qy(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,h_(Wy.bind(null,u,g,r),[r]),u.flags|=2048,ro(9,Oc(),Xy.bind(null,u,g,o,s),null),o},useId:function(){var r=fn(),s=nt.identifierPrefix;if(Ge){var o=Jr,u=Zr;o=(u&~(1<<32-an(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Rc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Qw++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:jd,useFormState:a_,useActionState:a_,useOptimistic:function(r){var s=fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zd.bind(null,Me,!0,o),o.dispatch=s,[r,s]},useMemoCache:Nd,useCacheRefresh:function(){return fn().memoizedState=eS.bind(null,Me)}},C_={readContext:Zt,use:Ic,useCallback:y_,useContext:Zt,useEffect:f_,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:Cc,useRef:c_,useState:function(){return Cc(ni)},useDebugValue:Vd,useDeferredValue:function(r,s){var o=wt();return v_(o,We.memoizedState,r,s)},useTransition:function(){var r=Cc(ni)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Ol(r),s]},useSyncExternalStore:Yy,useId:T_,useHostTransitionStatus:jd,useFormState:o_,useActionState:o_,useOptimistic:function(r,s){var o=wt();return e_(o,We,r,s)},useMemoCache:Nd,useCacheRefresh:w_},nS={readContext:Zt,use:Ic,useCallback:y_,useContext:Zt,useEffect:f_,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:__,useReducer:Dd,useRef:c_,useState:function(){return Dd(ni)},useDebugValue:Vd,useDeferredValue:function(r,s){var o=wt();return We===null?Ld(o,r,s):v_(o,We.memoizedState,r,s)},useTransition:function(){var r=Dd(ni)[0],s=wt().memoizedState;return[typeof r=="boolean"?r:Ol(r),s]},useSyncExternalStore:Yy,useId:T_,useHostTransitionStatus:jd,useFormState:u_,useActionState:u_,useOptimistic:function(r,s){var o=wt();return We!==null?e_(o,We,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:w_},io=null,Dl=0;function Mc(r){var s=Dl;return Dl+=1,io===null&&(io=[]),zy(io,r,s)}function Ml(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function kc(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function O_(r){var s=r._init;return s(r._payload)}function N_(r){function s(H,B){if(r){var F=H.deletions;F===null?(H.deletions=[B],H.flags|=16):F.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Wr(H,B),H.index=0,H.sibling=null,H}function g(H,B,F){return H.index=F,r?(F=H.alternate,F!==null?(F=F.index,F<B?(H.flags|=67108866,B):F):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function b(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function w(H,B,F,re){return B===null||B.tag!==6?(B=od(F,H.mode,re),B.return=H,B):(B=f(B,F),B.return=H,B)}function V(H,B,F,re){var ye=F.type;return ye===I?ne(H,B,F.props.children,re,F.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&O_(ye)===B.type)?(B=f(B,F.props),Ml(B,F),B.return=H,B):(B=yc(F.type,F.key,F.props,null,H.mode,re),Ml(B,F),B.return=H,B)}function K(H,B,F,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=ld(F,H.mode,re),B.return=H,B):(B=f(B,F.children||[]),B.return=H,B)}function ne(H,B,F,re,ye){return B===null||B.tag!==7?(B=Ws(F,H.mode,re,ye),B.return=H,B):(B=f(B,F),B.return=H,B)}function se(H,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=od(""+B,H.mode,F),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return F=yc(B.type,B.key,B.props,null,H.mode,F),Ml(F,B),F.return=H,F;case R:return B=ld(B,H.mode,F),B.return=H,B;case A:var re=B._init;return B=re(B._payload),se(H,B,F)}if(me(B)||z(B))return B=Ws(B,H.mode,F,null),B.return=H,B;if(typeof B.then=="function")return se(H,Mc(B),F);if(B.$$typeof===j)return se(H,bc(H,B),F);kc(H,B)}return null}function Y(H,B,F,re){var ye=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:w(H,B,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===ye?V(H,B,F,re):null;case R:return F.key===ye?K(H,B,F,re):null;case A:return ye=F._init,F=ye(F._payload),Y(H,B,F,re)}if(me(F)||z(F))return ye!==null?null:ne(H,B,F,re,null);if(typeof F.then=="function")return Y(H,B,Mc(F),re);if(F.$$typeof===j)return Y(H,B,bc(H,F),re);kc(H,F)}return null}function Q(H,B,F,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(F)||null,w(B,H,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return H=H.get(re.key===null?F:re.key)||null,V(B,H,re,ye);case R:return H=H.get(re.key===null?F:re.key)||null,K(B,H,re,ye);case A:var ke=re._init;return re=ke(re._payload),Q(H,B,F,re,ye)}if(me(re)||z(re))return H=H.get(F)||null,ne(B,H,re,ye,null);if(typeof re.then=="function")return Q(H,B,F,Mc(re),ye);if(re.$$typeof===j)return Q(H,B,F,bc(B,re),ye);kc(B,re)}return null}function Re(H,B,F,re){for(var ye=null,ke=null,Ee=B,we=B=0,zt=null;Ee!==null&&we<F.length;we++){Ee.index>we?(zt=Ee,Ee=null):zt=Ee.sibling;var He=Y(H,Ee,F[we],re);if(He===null){Ee===null&&(Ee=zt);break}r&&Ee&&He.alternate===null&&s(H,Ee),B=g(He,B,we),ke===null?ye=He:ke.sibling=He,ke=He,Ee=zt}if(we===F.length)return o(H,Ee),Ge&&Js(H,we),ye;if(Ee===null){for(;we<F.length;we++)Ee=se(H,F[we],re),Ee!==null&&(B=g(Ee,B,we),ke===null?ye=Ee:ke.sibling=Ee,ke=Ee);return Ge&&Js(H,we),ye}for(Ee=u(Ee);we<F.length;we++)zt=Q(Ee,H,we,F[we],re),zt!==null&&(r&&zt.alternate!==null&&Ee.delete(zt.key===null?we:zt.key),B=g(zt,B,we),ke===null?ye=zt:ke.sibling=zt,ke=zt);return r&&Ee.forEach(function(rs){return s(H,rs)}),Ge&&Js(H,we),ye}function Te(H,B,F,re){if(F==null)throw Error(i(151));for(var ye=null,ke=null,Ee=B,we=B=0,zt=null,He=F.next();Ee!==null&&!He.done;we++,He=F.next()){Ee.index>we?(zt=Ee,Ee=null):zt=Ee.sibling;var rs=Y(H,Ee,He.value,re);if(rs===null){Ee===null&&(Ee=zt);break}r&&Ee&&rs.alternate===null&&s(H,Ee),B=g(rs,B,we),ke===null?ye=rs:ke.sibling=rs,ke=rs,Ee=zt}if(He.done)return o(H,Ee),Ge&&Js(H,we),ye;if(Ee===null){for(;!He.done;we++,He=F.next())He=se(H,He.value,re),He!==null&&(B=g(He,B,we),ke===null?ye=He:ke.sibling=He,ke=He);return Ge&&Js(H,we),ye}for(Ee=u(Ee);!He.done;we++,He=F.next())He=Q(Ee,H,we,He.value,re),He!==null&&(r&&He.alternate!==null&&Ee.delete(He.key===null?we:He.key),B=g(He,B,we),ke===null?ye=He:ke.sibling=He,ke=He);return r&&Ee.forEach(function(r2){return s(H,r2)}),Ge&&Js(H,we),ye}function Je(H,B,F,re){if(typeof F=="object"&&F!==null&&F.type===I&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var ye=F.key;B!==null;){if(B.key===ye){if(ye=F.type,ye===I){if(B.tag===7){o(H,B.sibling),re=f(B,F.props.children),re.return=H,H=re;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&O_(ye)===B.type){o(H,B.sibling),re=f(B,F.props),Ml(re,F),re.return=H,H=re;break e}o(H,B);break}else s(H,B);B=B.sibling}F.type===I?(re=Ws(F.props.children,H.mode,re,F.key),re.return=H,H=re):(re=yc(F.type,F.key,F.props,null,H.mode,re),Ml(re,F),re.return=H,H=re)}return b(H);case R:e:{for(ye=F.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){o(H,B.sibling),re=f(B,F.children||[]),re.return=H,H=re;break e}else{o(H,B);break}else s(H,B);B=B.sibling}re=ld(F,H.mode,re),re.return=H,H=re}return b(H);case A:return ye=F._init,F=ye(F._payload),Je(H,B,F,re)}if(me(F))return Re(H,B,F,re);if(z(F)){if(ye=z(F),typeof ye!="function")throw Error(i(150));return F=ye.call(F),Te(H,B,F,re)}if(typeof F.then=="function")return Je(H,B,Mc(F),re);if(F.$$typeof===j)return Je(H,B,bc(H,F),re);kc(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(o(H,B.sibling),re=f(B,F),re.return=H,H=re):(o(H,B),re=od(F,H.mode,re),re.return=H,H=re),b(H)):o(H,B)}return function(H,B,F,re){try{Dl=0;var ye=Je(H,B,F,re);return io=null,ye}catch(Ee){if(Ee===wl||Ee===Tc)throw Ee;var ke=bn(29,Ee,null,H.mode);return ke.lanes=re,ke.return=H,ke}finally{}}}var so=N_(!0),P_=N_(!1),jn=ee(null),gr=null;function qi(r){var s=r.alternate;he(Pt,Pt.current&1),he(jn,r),gr===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(gr=r)}function D_(r){if(r.tag===22){if(he(Pt,Pt.current),he(jn,r),gr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(gr=r)}}else Hi()}function Hi(){he(Pt,Pt.current),he(jn,jn.current)}function ri(r){ce(jn),gr===r&&(gr=null),ce(Pt)}var Pt=ee(0);function Vc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Om(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qd={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Sn(),f=ji(u);f.payload=s,o!=null&&(f.callback=o),s=zi(r,f,u),s!==null&&(An(s,r,u),Al(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Sn(),f=ji(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=zi(r,f,u),s!==null&&(An(s,r,u),Al(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Sn(),u=ji(o);u.tag=2,s!=null&&(u.callback=s),s=zi(r,u,o),s!==null&&(An(s,r,o),Al(s,r,o))}};function M_(r,s,o,u,f,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!gl(o,u)||!gl(f,g):!0}function k_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&qd.enqueueReplaceState(s,s.state,null)}function aa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Lc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function V_(r){Lc(r)}function L_(r){console.error(r)}function U_(r){Lc(r)}function Uc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function j_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hd(r,s,o){return o=ji(o),o.tag=3,o.payload={element:null},o.callback=function(){Uc(r,s)},o}function z_(r){return r=ji(r),r.tag=3,r}function B_(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){j_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){j_(s,o,u),typeof f!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function rS(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&bl(s,o,f,!0),o=jn.current,o!==null){switch(o.tag){case 13:return gr===null?dm():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===_d?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),pm(r,u,f)),!1;case 22:return o.flags|=65536,u===_d?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),pm(r,u,f)),!1}throw Error(i(435,o.tag))}return pm(r,u,f),dm(),!1}if(Ge)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==hd&&(r=Error(i(422),{cause:u}),El(kn(r,o)))):(u!==hd&&(s=Error(i(423),{cause:u}),El(kn(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=kn(u,o),f=Hd(r.stateNode,u,f),bd(r,f),ft!==4&&(ft=2)),!1;var g=Error(i(520),{cause:u});if(g=kn(g,o),Bl===null?Bl=[g]:Bl.push(g),ft!==4&&(ft=2),s===null)return!0;u=kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Hd(o.stateNode,u,r),bd(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qi===null||!Qi.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=z_(f),B_(f,r,o,u),bd(o,f),!1}o=o.return}while(o!==null);return!1}var q_=Error(i(461)),Ut=!1;function Ht(r,s,o,u){s.child=r===null?P_(s,null,o,u):so(s,r.child,o,u)}function H_(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ra(s),u=Ad(r,s,o,b,g,f),w=Rd(),r!==null&&!Ut?(Id(r,s,f),ii(r,s,f)):(Ge&&w&&ud(s),s.flags|=1,Ht(r,s,u,f),s.child)}function F_(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!ad(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,G_(r,s,g,u,f)):(r=yc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Wd(r,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(b,u)&&r.ref===s.ref)return ii(r,s,f)}return s.flags|=1,r=Wr(g,u),r.ref=s.ref,r.return=s,s.child=r}function G_(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(gl(g,u)&&r.ref===s.ref)if(Ut=!1,s.pendingProps=u=g,Wd(r,f))(r.flags&131072)!==0&&(Ut=!0);else return s.lanes=r.lanes,ii(r,s,f)}return Fd(r,s,o,u,f)}function K_(r,s,o){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return $_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&xc(s,g!==null?g.cachePool:null),g!==null?Gy(s,g):Td(),D_(s);else return s.lanes=s.childLanes=536870912,$_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(xc(s,g.cachePool),Gy(s,g),Hi(),s.memoizedState=null):(r!==null&&xc(s,null),Td(),Hi());return Ht(r,s,f,o),s.child}function $_(r,s,o,u){var f=yd();return f=f===null?null:{parent:Nt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&xc(s,null),Td(),D_(s),r!==null&&bl(r,s,u,!0),null}function jc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Fd(r,s,o,u,f){return ra(s),o=Ad(r,s,o,u,void 0,f),u=Rd(),r!==null&&!Ut?(Id(r,s,f),ii(r,s,f)):(Ge&&u&&ud(s),s.flags|=1,Ht(r,s,o,f),s.child)}function Y_(r,s,o,u,f,g){return ra(s),s.updateQueue=null,o=$y(s,u,o,f),Ky(r),u=Rd(),r!==null&&!Ut?(Id(r,s,g),ii(r,s,g)):(Ge&&u&&ud(s),s.flags|=1,Ht(r,s,o,g),s.child)}function Q_(r,s,o,u,f){if(ra(s),s.stateNode===null){var g=Qa,b=o.contextType;typeof b=="object"&&b!==null&&(g=Zt(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},vd(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Zt(b):Qa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Bd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&qd.enqueueReplaceState(g,g.state,null),Il(s,u,g,f),Rl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,V=aa(o,w);g.props=V;var K=g.context,ne=o.contextType;b=Qa,typeof ne=="object"&&ne!==null&&(b=Zt(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==b)&&k_(s,g,u,b),Ui=!1;var Y=s.memoizedState;g.state=Y,Il(s,u,g,f),Rl(),K=s.memoizedState,w||Y!==K||Ui?(typeof se=="function"&&(Bd(s,o,se,u),K=s.memoizedState),(V=Ui||M_(s,o,V,u,Y,K,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Ed(r,s),b=s.memoizedProps,ne=aa(o,b),g.props=ne,se=s.pendingProps,Y=g.context,K=o.contextType,V=Qa,typeof K=="object"&&K!==null&&(V=Zt(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==se||Y!==V)&&k_(s,g,u,V),Ui=!1,Y=s.memoizedState,g.state=Y,Il(s,u,g,f),Rl();var Q=s.memoizedState;b!==se||Y!==Q||Ui||r!==null&&r.dependencies!==null&&Ec(r.dependencies)?(typeof w=="function"&&(Bd(s,o,w,u),Q=s.memoizedState),(ne=Ui||M_(s,o,ne,u,Y,Q,V)||r!==null&&r.dependencies!==null&&Ec(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=V,u=ne):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,jc(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=so(s,r.child,null,f),s.child=so(s,null,o,f)):Ht(r,s,o,f),s.memoizedState=g.state,r=s.child):r=ii(r,s,f),r}function X_(r,s,o,u){return vl(),s.flags|=256,Ht(r,s,o,u),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(r){return{baseLanes:r,cachePool:Ly()}}function $d(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=zn),r}function W_(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ge){if(f?qi(s):Hi(),Ge){var w=ht,V;if(V=w){e:{for(V=w,w=pr;V.nodeType!==8;){if(!w){w=null;break e}if(V=Zn(V.nextSibling),V===null){w=null;break e}}w=V}w!==null?(s.memoizedState={dehydrated:w,treeContext:Zs!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},V=bn(18,null,null,0),V.stateNode=w,V.return=s,s.child=V,cn=s,ht=null,V=!0):V=!1}V||ta(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Om(w)?s.lanes=32:s.lanes=536870912,null;ri(s)}return w=u.children,u=u.fallback,f?(Hi(),f=s.mode,w=zc({mode:"hidden",children:w},f),u=Ws(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,f=s.child,f.memoizedState=Kd(o),f.childLanes=$d(r,b,o),s.memoizedState=Gd,u):(qi(s),Yd(s,w))}if(V=r.memoizedState,V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(qi(s),s.flags&=-257,s=Qd(r,s,o)):s.memoizedState!==null?(Hi(),s.child=r.child,s.flags|=128,s=null):(Hi(),f=u.fallback,w=s.mode,u=zc({mode:"visible",children:u.children},w),f=Ws(f,w,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,so(s,r.child,null,o),u=s.child,u.memoizedState=Kd(o),u.childLanes=$d(r,b,o),s.memoizedState=Gd,s=f);else if(qi(s),Om(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var K=b.dgst;b=K,u=Error(i(419)),u.stack="",u.digest=b,El({value:u,source:null,stack:null}),s=Qd(r,s,o)}else if(Ut||bl(r,s,o,!1),b=(o&r.childLanes)!==0,Ut||b){if(b=nt,b!==null&&(u=o&-o,u=(u&42)!==0?1:Jo(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,Ya(r,u),An(b,r,u),q_;w.data==="$?"||dm(),s=Qd(r,s,o)}else w.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,ht=Zn(w.nextSibling),cn=s,Ge=!0,ea=null,pr=!1,r!==null&&(Ln[Un++]=Zr,Ln[Un++]=Jr,Ln[Un++]=Zs,Zr=r.id,Jr=r.overflow,Zs=s),s=Yd(s,u.children),s.flags|=4096);return s}return f?(Hi(),f=u.fallback,w=s.mode,V=r.child,K=V.sibling,u=Wr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?f=Wr(K,f):(f=Ws(f,w,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,w=r.child.memoizedState,w===null?w=Kd(o):(V=w.cachePool,V!==null?(K=Nt._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=Ly(),w={baseLanes:w.baseLanes|o,cachePool:V}),f.memoizedState=w,f.childLanes=$d(r,b,o),s.memoizedState=Gd,u):(qi(s),o=r.child,r=o.sibling,o=Wr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Yd(r,s){return s=zc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function zc(r,s){return r=bn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Qd(r,s,o){return so(s,r.child,null,o),r=Yd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Z_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),dd(r.return,s,o)}function Xd(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function J_(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Ht(r,s,u.children,o),u=Pt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z_(r,o,s);else if(r.tag===19)Z_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(he(Pt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Vc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Xd(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Vc(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Xd(s,!0,o,null,g);break;case"together":Xd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ii(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Yi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(bl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Wr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Wr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Wd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ec(r)))}function iS(r,s,o){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),Li(s,Nt,r.memoizedState.cache),vl();break;case 27:case 5:qr(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(qi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?W_(r,s,o):(qi(s),r=ii(r,s,o),r!==null?r.sibling:null);qi(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(bl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return J_(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Pt,Pt.current),u)break;return null;case 22:case 23:return s.lanes=0,K_(r,s,o);case 24:Li(s,Nt,r.memoizedState.cache)}return ii(r,s,o)}function e0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ut=!0;else{if(!Wd(r,o)&&(s.flags&128)===0)return Ut=!1,iS(r,s,o);Ut=(r.flags&131072)!==0}else Ut=!1,Ge&&(s.flags&1048576)!==0&&Oy(s,vc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")ad(u)?(r=aa(u,r),s.tag=1,s=Q_(null,s,u,r,o)):(s.tag=0,s=Fd(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===$){s.tag=11,s=H_(null,s,u,r,o);break e}else if(f===P){s.tag=14,s=F_(null,s,u,r,o);break e}}throw s=ie(u)||u,Error(i(306,s,""))}}return s;case 0:return Fd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=aa(u,s.pendingProps),Q_(r,s,u,f,o);case 3:e:{if(Fe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Ed(r,s),Il(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Li(s,Nt,u),u!==g.cache&&md(s,[Nt],o,!0),Rl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=X_(r,s,u,o);break e}else if(u!==f){f=kn(Error(i(424)),s),El(f),s=X_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ht=Zn(r.firstChild),cn=s,Ge=!0,ea=null,pr=!0,o=P_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(vl(),u===f){s=ii(r,s,o);break e}Ht(r,s,u,o)}s=s.child}return s;case 26:return jc(r,s),r===null?(o=iv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,r=s.pendingProps,u=eh(xe.current).createElement(o),u[pt]=s,u[qt]=r,Gt(u,o,r),gt(u),s.stateNode=u):s.memoizedState=iv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return qr(s),r===null&&Ge&&(u=s.stateNode=tv(s.type,s.pendingProps,xe.current),cn=s,pr=!0,f=ht,Zi(s.type)?(Nm=f,ht=Zn(u.firstChild)):ht=f),Ht(r,s,s.pendingProps.children,o),jc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ge&&((f=u=ht)&&(u=PS(u,s.type,s.pendingProps,pr),u!==null?(s.stateNode=u,cn=s,ht=Zn(u.firstChild),pr=!1,f=!0):f=!1),f||ta(s)),qr(s),f=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Rm(f,g)?u=null:b!==null&&Rm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Ad(r,s,Xw,null,null,o),Xl._currentValue=f),jc(r,s),Ht(r,s,u,o),s.child;case 6:return r===null&&Ge&&((r=o=ht)&&(o=DS(o,s.pendingProps,pr),o!==null?(s.stateNode=o,cn=s,ht=null,r=!0):r=!1),r||ta(s)),null;case 13:return W_(r,s,o);case 4:return Fe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=so(s,null,u,o):Ht(r,s,u,o),s.child;case 11:return H_(r,s,s.type,s.pendingProps,o);case 7:return Ht(r,s,s.pendingProps,o),s.child;case 8:return Ht(r,s,s.pendingProps.children,o),s.child;case 12:return Ht(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Li(s,s.type,u.value),Ht(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ra(s),f=Zt(f),u=u(f),s.flags|=1,Ht(r,s,u,o),s.child;case 14:return F_(r,s,s.type,s.pendingProps,o);case 15:return G_(r,s,s.type,s.pendingProps,o);case 19:return J_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=zc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wr(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return K_(r,s,o);case 24:return ra(s),u=Zt(Nt),r===null?(f=yd(),f===null&&(f=nt,g=pd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},vd(s),Li(s,Nt,f)):((r.lanes&o)!==0&&(Ed(r,s),Il(s,null,null,o),Rl()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Li(s,Nt,u)):(u=g.cache,Li(s,Nt,u),u!==f.cache&&md(s,[Nt],o,!0))),Ht(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function si(r){r.flags|=4}function t0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!uv(s)){if(s=jn.current,s!==null&&((Be&4194048)===Be?gr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==gr))throw Sl=_d,Uy;r.flags|=8192}}function Bc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?wi():536870912,r.lanes|=s,uo|=s)}function kl(r,s){if(!Ge)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function sS(r,s,o){var u=s.pendingProps;switch(cd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ti(Nt),It(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(_l(s)?si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dy())),lt(s),null;case 26:return o=s.memoizedState,r===null?(si(s),o!==null?(lt(s),t0(s,o)):(lt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(si(s),lt(s),t0(s,o)):(lt(s),s.flags&=-16777217):(r.memoizedProps!==u&&si(s),lt(s),s.flags&=-16777217),null;case 27:Ia(s),o=xe.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return lt(s),null}r=_e.current,_l(s)?Ny(s):(r=tv(f,u,o),s.stateNode=r,si(s))}return lt(s),null;case 5:if(Ia(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return lt(s),null}if(r=_e.current,_l(s))Ny(s);else{switch(f=eh(xe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[pt]=s,r[qt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Gt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&si(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=xe.current,_l(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Y0(r.nodeValue,o)),r||ta(s)}else r=eh(r).createTextNode(u),r[pt]=s,s.stateNode=r}return lt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=_l(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[pt]=s}else vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),f=!1}else f=Dy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ri(s),s):(ri(s),null)}if(ri(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Bc(s,s.updateQueue),lt(s),null;case 4:return It(),r===null&&xm(s.stateNode.containerInfo),lt(s),null;case 10:return ti(s.type),lt(s),null;case 19:if(ce(Pt),f=s.memoizedState,f===null)return lt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)kl(f,!1);else{if(ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Vc(r),g!==null){for(s.flags|=128,kl(f,!1),r=g.updateQueue,s.updateQueue=r,Bc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Cy(o,r),o=o.sibling;return he(Pt,Pt.current&1|2),s.child}r=r.sibling}f.tail!==null&&hn()>Fc&&(s.flags|=128,u=!0,kl(f,!1),s.lanes=4194304)}else{if(!u)if(r=Vc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Bc(s,r),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ge)return lt(s),null}else 2*hn()-f.renderingStartTime>Fc&&o!==536870912&&(s.flags|=128,u=!0,kl(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=hn(),s.sibling=null,r=Pt.current,he(Pt,u?r&1|2:r&1),s):(lt(s),null);case 22:case 23:return ri(s),wd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&Bc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ce(ia),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ti(Nt),lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function aS(r,s){switch(cd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ti(Nt),It(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ia(s),null;case 13:if(ri(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));vl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return It(),null;case 10:return ti(s.type),null;case 22:case 23:return ri(s),wd(),r!==null&&ce(ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ti(Nt),null;case 25:return null;default:return null}}function n0(r,s){switch(cd(s),s.tag){case 3:ti(Nt),It();break;case 26:case 27:case 5:Ia(s);break;case 4:It();break;case 13:ri(s);break;case 19:ce(Pt);break;case 10:ti(s.type);break;case 22:case 23:ri(s),wd(),r!==null&&ce(ia);break;case 24:ti(Nt)}}function Vl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(w){et(s,s.return,w)}}function Fi(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=s;var V=o,K=w;try{K()}catch(ne){et(f,V,ne)}}}u=u.next}while(u!==g)}}catch(ne){et(s,s.return,ne)}}function r0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Fy(s,o)}catch(u){et(r,r.return,u)}}}function i0(r,s,o){o.props=aa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){et(r,s,u)}}function Ll(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){et(r,s,f)}}function yr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){et(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){et(r,s,f)}else o.current=null}function s0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){et(r,r.return,f)}}function Zd(r,s,o){try{var u=r.stateNode;RS(u,r.type,o,s),u[qt]=s}catch(f){et(r,r.return,f)}}function a0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zi(r.type)||r.tag===4}function Jd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||a0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function em(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Jc));else if(u!==4&&(u===27&&Zi(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(em(r,s,o),r=r.sibling;r!==null;)em(r,s,o),r=r.sibling}function qc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Zi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(qc(r,s,o),r=r.sibling;r!==null;)qc(r,s,o),r=r.sibling}function o0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Gt(s,u,o),s[pt]=r,s[qt]=o}catch(g){et(r,r.return,g)}}var ai=!1,vt=!1,tm=!1,l0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function oS(r,s){if(r=r.containerInfo,Sm=ah,r=vy(r),Jf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,w=-1,V=-1,K=0,ne=0,se=r,Y=null;t:for(;;){for(var Q;se!==o||f!==0&&se.nodeType!==3||(w=b+f),se!==g||u!==0&&se.nodeType!==3||(V=b+u),se.nodeType===3&&(b+=se.nodeValue.length),(Q=se.firstChild)!==null;)Y=se,se=Q;for(;;){if(se===r)break t;if(Y===o&&++K===f&&(w=b),Y===g&&++ne===u&&(V=b),(Q=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=Q}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Am={focusedElem:r,selectionRange:o},ah=!1,jt=s;jt!==null;)if(s=jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,jt=r;else for(;jt!==null;){switch(s=jt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Re=aa(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Re,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){et(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Cm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,jt=r;break}jt=s.return}}function u0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(r,o),u&4&&Vl(5,o);break;case 1:if(Gi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){et(o,o.return,b)}else{var f=aa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}u&64&&r0(o),u&512&&Ll(o,o.return);break;case 3:if(Gi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Fy(r,s)}catch(b){et(o,o.return,b)}}break;case 27:s===null&&u&4&&o0(o);case 26:case 5:Gi(r,o),s===null&&u&4&&s0(o),u&512&&Ll(o,o.return);break;case 12:Gi(r,o);break;case 13:Gi(r,o),u&4&&f0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=gS.bind(null,o),MS(r,o))));break;case 22:if(u=o.memoizedState!==null||ai,!u){s=s!==null&&s.memoizedState!==null||vt,f=ai;var g=vt;ai=u,(vt=s)&&!g?Ki(r,o,(o.subtreeFlags&8772)!==0):Gi(r,o),ai=f,vt=g}break;case 30:break;default:Gi(r,o)}}function c0(r){var s=r.alternate;s!==null&&(r.alternate=null,c0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Da(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var at=null,dn=!1;function oi(r,s,o){for(o=o.child;o!==null;)h0(r,s,o),o=o.sibling}function h0(r,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(bi,o)}catch{}switch(o.tag){case 26:vt||yr(o,s),oi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||yr(o,s);var u=at,f=dn;Zi(o.type)&&(at=o.stateNode,dn=!1),oi(r,s,o),Kl(o.stateNode),at=u,dn=f;break;case 5:vt||yr(o,s);case 6:if(u=at,f=dn,at=null,oi(r,s,o),at=u,dn=f,at!==null)if(dn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(o.stateNode)}catch(g){et(o,s,g)}else try{at.removeChild(o.stateNode)}catch(g){et(o,s,g)}break;case 18:at!==null&&(dn?(r=at,J0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),eu(r)):J0(at,o.stateNode));break;case 4:u=at,f=dn,at=o.stateNode.containerInfo,dn=!0,oi(r,s,o),at=u,dn=f;break;case 0:case 11:case 14:case 15:vt||Fi(2,o,s),vt||Fi(4,o,s),oi(r,s,o);break;case 1:vt||(yr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&i0(o,s,u)),oi(r,s,o);break;case 21:oi(r,s,o);break;case 22:vt=(u=vt)||o.memoizedState!==null,oi(r,s,o),vt=u;break;default:oi(r,s,o)}}function f0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{eu(r)}catch(o){et(s,s.return,o)}}function lS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new l0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new l0),s;default:throw Error(i(435,r.tag))}}function nm(r,s){var o=lS(r);s.forEach(function(u){var f=yS.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function xn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Zi(w.type)){at=w.stateNode,dn=!1;break e}break;case 5:at=w.stateNode,dn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(at===null)throw Error(i(160));h0(g,b,f),at=null,dn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)d0(s,r),s=s.sibling}var Wn=null;function d0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:xn(s,r),Tn(r),u&4&&(Fi(3,r,r.return),Vl(3,r),Fi(5,r,r.return));break;case 1:xn(s,r),Tn(r),u&512&&(vt||o===null||yr(o,o.return)),u&64&&ai&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Wn;if(xn(s,r),Tn(r),u&512&&(vt||o===null||yr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ri]||g[pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Gt(g,u,o),g[pt]=r,gt(g),u=g;break e;case"link":var b=ov("link","href",f).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}g=f.createElement(u),Gt(g,u,o),f.head.appendChild(g);break;case"meta":if(b=ov("meta","content",f).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}g=f.createElement(u),Gt(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[pt]=r,gt(g),u=g}r.stateNode=u}else lv(f,r.type,r.stateNode);else r.stateNode=av(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?lv(f,r.type,r.stateNode):av(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Zd(r,r.memoizedProps,o.memoizedProps)}break;case 27:xn(s,r),Tn(r),u&512&&(vt||o===null||yr(o,o.return)),o!==null&&u&4&&Zd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(xn(s,r),Tn(r),u&512&&(vt||o===null||yr(o,o.return)),r.flags&32){f=r.stateNode;try{Dn(f,"")}catch(Q){et(r,r.return,Q)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Zd(r,f,o!==null?o.memoizedProps:f)),u&1024&&(tm=!0);break;case 6:if(xn(s,r),Tn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Q){et(r,r.return,Q)}}break;case 3:if(rh=null,f=Wn,Wn=th(s.containerInfo),xn(s,r),Wn=f,Tn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(Q){et(r,r.return,Q)}tm&&(tm=!1,m0(r));break;case 4:u=Wn,Wn=th(r.stateNode.containerInfo),xn(s,r),Tn(r),Wn=u;break;case 12:xn(s,r),Tn(r);break;case 13:xn(s,r),Tn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lm=hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,nm(r,u)));break;case 22:f=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=ai,ne=vt;if(ai=K||f,vt=ne||V,xn(s,r),vt=ne,ai=K,Tn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||ai||vt||oa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=V.stateNode;var se=V.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){et(V,V.return,Q)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Q){et(V,V.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,nm(r,o))));break;case 19:xn(s,r),Tn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,nm(r,u)));break;case 30:break;case 21:break;default:xn(s,r),Tn(r)}}function Tn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(a0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Jd(r);qc(r,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Dn(b,""),o.flags&=-33);var w=Jd(r);qc(r,w,b);break;case 3:case 4:var V=o.stateNode.containerInfo,K=Jd(r);em(r,K,V);break;default:throw Error(i(161))}}catch(ne){et(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function m0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;m0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Gi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)u0(r,s.alternate,s),s=s.sibling}function oa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Fi(4,s,s.return),oa(s);break;case 1:yr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&i0(s,s.return,o),oa(s);break;case 27:Kl(s.stateNode);case 26:case 5:yr(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}r=r.sibling}}function Ki(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ki(f,g,o),Vl(4,g);break;case 1:if(Ki(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){et(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Hy(V[f],w)}catch(K){et(u,u.return,K)}}o&&b&64&&r0(g),Ll(g,g.return);break;case 27:o0(g);case 26:case 5:Ki(f,g,o),o&&u===null&&b&4&&s0(g),Ll(g,g.return);break;case 12:Ki(f,g,o);break;case 13:Ki(f,g,o),o&&b&4&&f0(f,g);break;case 22:g.memoizedState===null&&Ki(f,g,o),Ll(g,g.return);break;case 30:break;default:Ki(f,g,o)}s=s.sibling}}function rm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&xl(o))}function im(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xl(r))}function _r(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)p0(r,s,o,u),s=s.sibling}function p0(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:_r(r,s,o,u),f&2048&&Vl(9,s);break;case 1:_r(r,s,o,u);break;case 3:_r(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&xl(r)));break;case 12:if(f&2048){_r(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){et(s,s.return,V)}}else _r(r,s,o,u);break;case 13:_r(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?_r(r,s,o,u):Ul(r,s):g._visibility&2?_r(r,s,o,u):(g._visibility|=2,ao(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&rm(b,s);break;case 24:_r(r,s,o,u),f&2048&&im(s.alternate,s);break;default:_r(r,s,o,u)}}function ao(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,w=o,V=u,K=b.flags;switch(b.tag){case 0:case 11:case 15:ao(g,b,w,V,f),Vl(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?ao(g,b,w,V,f):Ul(g,b):(ne._visibility|=2,ao(g,b,w,V,f)),f&&K&2048&&rm(b.alternate,b);break;case 24:ao(g,b,w,V,f),f&&K&2048&&im(b.alternate,b);break;default:ao(g,b,w,V,f)}s=s.sibling}}function Ul(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Ul(o,u),f&2048&&rm(u.alternate,u);break;case 24:Ul(o,u),f&2048&&im(u.alternate,u);break;default:Ul(o,u)}s=s.sibling}}var jl=8192;function oo(r){if(r.subtreeFlags&jl)for(r=r.child;r!==null;)g0(r),r=r.sibling}function g0(r){switch(r.tag){case 26:oo(r),r.flags&jl&&r.memoizedState!==null&&$S(Wn,r.memoizedState,r.memoizedProps);break;case 5:oo(r);break;case 3:case 4:var s=Wn;Wn=th(r.stateNode.containerInfo),oo(r),Wn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=jl,jl=16777216,oo(r),jl=s):oo(r));break;default:oo(r)}}function y0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function zl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];jt=u,v0(u,r)}y0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_0(r),r=r.sibling}function _0(r){switch(r.tag){case 0:case 11:case 15:zl(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:zl(r);break;case 12:zl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Hc(r)):zl(r);break;default:zl(r)}}function Hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];jt=u,v0(u,r)}y0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Fi(8,s,s.return),Hc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Hc(s));break;default:Hc(s)}r=r.sibling}}function v0(r,s){for(;jt!==null;){var o=jt;switch(o.tag){case 0:case 11:case 15:Fi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,jt=u;else e:for(o=r;jt!==null;){u=jt;var f=u.sibling,g=u.return;if(c0(u),u===o){jt=null;break e}if(f!==null){f.return=g,jt=f;break e}jt=g}}}var uS={getCacheForType:function(r){var s=Zt(Nt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},cS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ve=null,Be=0,Qe=0,wn=null,$i=!1,lo=!1,sm=!1,li=0,ft=0,Yi=0,la=0,am=0,zn=0,uo=0,Bl=null,mn=null,om=!1,lm=0,Fc=1/0,Gc=null,Qi=null,Ft=0,Xi=null,co=null,ho=0,um=0,cm=null,E0=null,ql=0,hm=null;function Sn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(J.T!==null){var r=Za;return r!==0?r:_m()}return Fr()}function b0(){zn===0&&(zn=(Be&536870912)===0||Ge?Zo():536870912);var r=jn.current;return r!==null&&(r.flags|=32),zn}function An(r,s,o){(r===nt&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)&&(fo(r,0),Wi(r,Be,zn,!1)),mt(r,o),((Ye&2)===0||r!==nt)&&(r===nt&&((Ye&2)===0&&(la|=o),ft===4&&Wi(r,Be,zn,!1)),vr(r))}function x0(r,s,o){if((Ye&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ti(r,s),f=u?dS(r,s):mm(r,s,!0),g=u;do{if(f===0){lo&&!u&&Wi(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!hS(o)){f=mm(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=r;f=Bl;var V=w.current.memoizedState.isDehydrated;if(V&&(fo(w,b).flags|=256),b=mm(w,b,!1),b!==2){if(sm&&!V){w.errorRecoveryDisabledLanes|=g,la|=g,f=4;break e}g=mn,mn=f,g!==null&&(mn===null?mn=g:mn.push.apply(mn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){fo(r,0),Wi(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Wi(u,s,zn,!$i);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=lm+300-hn(),10<f)){if(Wi(u,s,zn,!$i),Nn(u,0,!0)!==0)break e;u.timeoutHandle=W0(T0.bind(null,u,o,mn,Gc,om,s,zn,la,uo,$i,g,2,-0,0),f);break e}T0(u,o,mn,Gc,om,s,zn,la,uo,$i,g,0,-0,0)}}break}while(!0);vr(r)}function T0(r,s,o,u,f,g,b,w,V,K,ne,se,Y,Q){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:KS},g0(s),se=YS(),se!==null)){r.cancelPendingCommit=se(O0.bind(null,r,s,g,o,u,f,b,w,V,ne,1,Y,Q)),Wi(r,g,b,!K);return}O0(r,s,g,o,u,f,b,w,V)}function hS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!En(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(r,s,o,u){s&=~am,s&=~la,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-an(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Si(r,o,s)}function Kc(){return(Ye&6)===0?(Hl(0),!1):!0}function fm(){if(Ve!==null){if(Qe===0)var r=Ve.return;else r=Ve,ei=na=null,Cd(r),io=null,Dl=0,r=Ve;for(;r!==null;)n0(r.alternate,r),r=r.return;Ve=null}}function fo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,CS(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),fm(),nt=r,Ve=o=Wr(r.current,null),Be=s,Qe=0,wn=null,$i=!1,lo=Ti(r,s),sm=!1,uo=zn=am=la=Yi=ft=0,mn=Bl=null,om=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-an(u),g=1<<f;s|=r[f],u&=~g}return li=s,mc(),o}function w0(r,s){Me=null,J.H=Dc,s===wl||s===Tc?(s=By(),Qe=3):s===Uy?(s=By(),Qe=4):Qe=s===q_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Ve===null&&(ft=1,Uc(r,kn(s,r.current)))}function S0(){var r=J.H;return J.H=Dc,r===null?Dc:r}function A0(){var r=J.A;return J.A=uS,r}function dm(){ft=4,$i||(Be&4194048)!==Be&&jn.current!==null||(lo=!0),(Yi&134217727)===0&&(la&134217727)===0||nt===null||Wi(nt,Be,zn,!1)}function mm(r,s,o){var u=Ye;Ye|=2;var f=S0(),g=A0();(nt!==r||Be!==s)&&(Gc=null,fo(r,s)),s=!1;var b=ft;e:do try{if(Qe!==0&&Ve!==null){var w=Ve,V=wn;switch(Qe){case 8:fm(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var K=Qe;if(Qe=0,wn=null,mo(r,w,V,K),o&&lo){b=0;break e}break;default:K=Qe,Qe=0,wn=null,mo(r,w,V,K)}}fS(),b=ft;break}catch(ne){w0(r,ne)}while(!0);return s&&r.shellSuspendCounter++,ei=na=null,Ye=u,J.H=f,J.A=g,Ve===null&&(nt=null,Be=0,mc()),b}function fS(){for(;Ve!==null;)R0(Ve)}function dS(r,s){var o=Ye;Ye|=2;var u=S0(),f=A0();nt!==r||Be!==s?(Gc=null,Fc=hn()+500,fo(r,s)):lo=Ti(r,s);e:do try{if(Qe!==0&&Ve!==null){s=Ve;var g=wn;t:switch(Qe){case 1:Qe=0,wn=null,mo(r,s,g,1);break;case 2:case 9:if(jy(g)){Qe=0,wn=null,I0(s);break}s=function(){Qe!==2&&Qe!==9||nt!==r||(Qe=7),vr(r)},g.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:jy(g)?(Qe=0,wn=null,I0(s)):(Qe=0,wn=null,mo(r,s,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var w=Ve;if(!b||uv(b)){Qe=0,wn=null;var V=w.sibling;if(V!==null)Ve=V;else{var K=w.return;K!==null?(Ve=K,$c(K)):Ve=null}break t}}Qe=0,wn=null,mo(r,s,g,5);break;case 6:Qe=0,wn=null,mo(r,s,g,6);break;case 8:fm(),ft=6;break e;default:throw Error(i(462))}}mS();break}catch(ne){w0(r,ne)}while(!0);return ei=na=null,J.H=u,J.A=f,Ye=o,Ve!==null?0:(nt=null,Be=0,mc(),ft)}function mS(){for(;Ve!==null&&!qf();)R0(Ve)}function R0(r){var s=e0(r.alternate,r,li);r.memoizedProps=r.pendingProps,s===null?$c(r):Ve=s}function I0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Y_(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Y_(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Cd(s);default:n0(o,s),s=Ve=Cy(s,li),s=e0(o,s,li)}r.memoizedProps=r.pendingProps,s===null?$c(r):Ve=s}function mo(r,s,o,u){ei=na=null,Cd(s),io=null,Dl=0;var f=s.return;try{if(rS(r,f,s,o,Be)){ft=1,Uc(r,kn(o,r.current)),Ve=null;return}}catch(g){if(f!==null)throw Ve=f,g;ft=1,Uc(r,kn(o,r.current)),Ve=null;return}s.flags&32768?(Ge||u===1?r=!0:lo||(Be&536870912)!==0?r=!1:($i=r=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),C0(s,r)):$c(s)}function $c(r){var s=r;do{if((s.flags&32768)!==0){C0(s,$i);return}r=s.return;var o=sS(s.alternate,s,li);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);ft===0&&(ft=5)}function C0(r,s){do{var o=aS(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);ft=6,Ve=null}function O0(r,s,o,u,f,g,b,w,V){r.cancelPendingCommit=null;do Yc();while(Ft!==0);if((Ye&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=id,Wu(r,o,g,b,w,V),r===nt&&(Ve=nt=null,Be=0),co=s,Xi=r,ho=o,um=g,cm=f,E0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,_S(Hr,function(){return k0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=de.p,de.p=2,b=Ye,Ye|=4;try{oS(r,s,o)}finally{Ye=b,de.p=f,J.T=u}}Ft=1,N0(),P0(),D0()}}function N0(){if(Ft===1){Ft=0;var r=Xi,s=co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=de.p;de.p=2;var f=Ye;Ye|=4;try{d0(s,r);var g=Am,b=vy(r.containerInfo),w=g.focusedElem,V=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&_y(w.ownerDocument.documentElement,w)){if(V!==null&&Jf(w)){var K=V.start,ne=V.end;if(ne===void 0&&(ne=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ne,w.value.length);else{var se=w.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Re=w.textContent.length,Te=Math.min(V.start,Re),Je=V.end===void 0?Te:Math.min(V.end,Re);!Q.extend&&Te>Je&&(b=Je,Je=Te,Te=b);var H=yy(w,Te),B=yy(w,Je);if(H&&B&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var F=se.createRange();F.setStart(H.node,H.offset),Q.removeAllRanges(),Te>Je?(Q.addRange(F),Q.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Q.addRange(F))}}}}for(se=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ah=!!Sm,Am=Sm=null}finally{Ye=f,de.p=u,J.T=o}}r.current=s,Ft=2}}function P0(){if(Ft===2){Ft=0;var r=Xi,s=co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=de.p;de.p=2;var f=Ye;Ye|=4;try{u0(r,s.alternate,s)}finally{Ye=f,de.p=u,J.T=o}}Ft=3}}function D0(){if(Ft===4||Ft===3){Ft=0,Xo();var r=Xi,s=co,o=ho,u=E0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,co=Xi=null,M0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Qi=null),el(o),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(bi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=J.T,f=de.p,de.p=2,J.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{J.T=s,de.p=f}}(ho&3)!==0&&Yc(),vr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===hm?ql++:(ql=0,hm=r):ql=0,Hl(0)}}function M0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,xl(s)))}function Yc(r){return N0(),P0(),D0(),k0()}function k0(){if(Ft!==5)return!1;var r=Xi,s=um;um=0;var o=el(ho),u=J.T,f=de.p;try{de.p=32>o?32:o,J.T=null,o=cm,cm=null;var g=Xi,b=ho;if(Ft=0,co=Xi=null,ho=0,(Ye&6)!==0)throw Error(i(331));var w=Ye;if(Ye|=4,_0(g.current),p0(g,g.current,b,o),Ye=w,Hl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(bi,g)}catch{}return!0}finally{de.p=f,J.T=u,M0(r,s)}}function V0(r,s,o){s=kn(o,s),s=Hd(r.stateNode,s,2),r=zi(r,s,2),r!==null&&(mt(r,2),vr(r))}function et(r,s,o){if(r.tag===3)V0(r,r,o);else for(;s!==null;){if(s.tag===3){V0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qi===null||!Qi.has(u))){r=kn(o,r),o=z_(2),u=zi(s,o,2),u!==null&&(B_(o,u,s,r),mt(u,2),vr(u));break}}s=s.return}}function pm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new cS;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(sm=!0,f.add(o),r=pS.bind(null,r,s,o),s.then(r,r))}function pS(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(Be&o)===o&&(ft===4||ft===3&&(Be&62914560)===Be&&300>hn()-lm?(Ye&2)===0&&fo(r,0):am|=o,uo===Be&&(uo=0)),vr(r)}function L0(r,s){s===0&&(s=wi()),r=Ya(r,s),r!==null&&(mt(r,s),vr(r))}function gS(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),L0(r,o)}function yS(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),L0(r,o)}function _S(r,s){return Rs(r,s)}var Qc=null,po=null,gm=!1,Xc=!1,ym=!1,ua=0;function vr(r){r!==po&&r.next===null&&(po===null?Qc=po=r:po=po.next=r),Xc=!0,gm||(gm=!0,ES())}function Hl(r,s){if(!ym&&Xc){ym=!0;do for(var o=!1,u=Qc;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-an(42|r)+1)-1,g&=f&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,B0(u,g))}else g=Be,g=Nn(u,u===nt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ti(u,g)||(o=!0,B0(u,g));u=u.next}while(o);ym=!1}}function vS(){U0()}function U0(){Xc=gm=!1;var r=0;ua!==0&&(IS()&&(r=ua),ua=0);for(var s=hn(),o=null,u=Qc;u!==null;){var f=u.next,g=j0(u,s);g===0?(u.next=null,o===null?Qc=f:o.next=f,f===null&&(po=o)):(o=u,(r!==0||(g&3)!==0)&&(Xc=!0)),u=f}Hl(r)}function j0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-an(g),w=1<<b,V=f[b];V===-1?((w&o)===0||(w&u)!==0)&&(f[b]=Na(w,s)):V<=s&&(r.expiredLanes|=w),g&=~w}if(s=nt,o=Be,o=Nn(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Oa(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ti(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Oa(u),el(o)){case 2:case 8:o=Vt;break;case 32:o=Hr;break;case 268435456:o=Wo;break;default:o=Hr}return u=z0.bind(null,r),o=Rs(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Oa(u),r.callbackPriority=2,r.callbackNode=null,2}function z0(r,s){if(Ft!==0&&Ft!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Yc()&&r.callbackNode!==o)return null;var u=Be;return u=Nn(r,r===nt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(x0(r,u,s),j0(r,hn()),r.callbackNode!=null&&r.callbackNode===o?z0.bind(null,r):null)}function B0(r,s){if(Yc())return null;x0(r,s,!0)}function ES(){OS(function(){(Ye&6)!==0?Rs(Ct,vS):U0()})}function _m(){return ua===0&&(ua=Zo()),ua}function q0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Kn(""+r)}function H0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function bS(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=q0((f[qt]||null).action),b=u.submitter;b&&(s=(s=b[qt]||null)?q0(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new qs("action","action",null,u,f);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ua!==0){var V=b?H0(f,b):new FormData(f);Ud(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=b?H0(f,b):new FormData(f),Ud(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var vm=0;vm<rd.length;vm++){var Em=rd[vm],xS=Em.toLowerCase(),TS=Em[0].toUpperCase()+Em.slice(1);Xn(xS,"on"+TS)}Xn(xy,"onAnimationEnd"),Xn(Ty,"onAnimationIteration"),Xn(wy,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(zw,"onTransitionRun"),Xn(Bw,"onTransitionStart"),Xn(qw,"onTransitionCancel"),Xn(Sy,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function F0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(ne){Lc(ne)}f.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(w=u[b],V=w.instance,K=w.currentTarget,w=w.listener,V!==g&&f.isPropagationStopped())break e;g=w,f.currentTarget=K;try{g(f)}catch(ne){Lc(ne)}f.currentTarget=null,g=V}}}}function Le(r,s){var o=s[Cs];o===void 0&&(o=s[Cs]=new Set);var u=r+"__bubble";o.has(u)||(G0(s,r,2,!1),o.add(u))}function bm(r,s,o){var u=0;s&&(u|=4),G0(o,r,u,s)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function xm(r){if(!r[Wc]){r[Wc]=!0,Zu.forEach(function(o){o!=="selectionchange"&&(wS.has(o)||bm(o,!1,r),bm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Wc]||(s[Wc]=!0,bm("selectionchange",!1,s))}}function G0(r,s,o,u){switch(pv(s)){case 2:var f=WS;break;case 8:f=ZS;break;default:f=Vm}o=f.bind(null,s,o,r),f=void 0,!Qr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Tm(r,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=lr(w),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}w=w.parentNode}}u=u.return}js(function(){var K=g,ne=ol(o),se=[];e:{var Y=Ay.get(r);if(Y!==void 0){var Q=qs,Re=r;switch(r){case"keypress":if(zs(o)===0)break e;case"keydown":case"keyup":Q=Fa;break;case"focusin":Re="focus",Q=Ba;break;case"focusout":Re="blur",Q=Ba;break;case"beforeblur":case"afterblur":Q=Ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Vi;break;case xy:case Ty:case wy:Q=ul;break;case Sy:Q=y;break;case"scroll":case"scrollend":Q=Fs;break;case"wheel":Q=S;break;case"copy":case"cut":case"paste":Q=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=fl;break;case"toggle":case"beforetoggle":Q=Z}var Te=(s&4)!==0,Je=!Te&&(r==="scroll"||r==="scrollend"),H=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var B=K,F;B!==null;){var re=B;if(F=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||F===null||H===null||(re=Mi(B,H),re!=null&&Te.push(Gl(B,re,F))),Je)break;B=B.return}0<Te.length&&(Y=new Q(Y,Re,null,o,ne),se.push({event:Y,listeners:Te}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&o!==al&&(Re=o.relatedTarget||o.fromElement)&&(lr(Re)||Re[Gr]))break e;if((Q||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Re=o.relatedTarget||o.toElement,Q=K,Re=Re?lr(Re):null,Re!==null&&(Je=l(Re),Te=Re.tag,Re!==Je||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(Q=null,Re=K),Q!==Re)){if(Te=$s,re="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Te=fl,re="onPointerLeave",H="onPointerEnter",B="pointer"),Je=Q==null?Y:Ii(Q),F=Re==null?Y:Ii(Re),Y=new Te(re,B+"leave",Q,o,ne),Y.target=Je,Y.relatedTarget=F,re=null,lr(ne)===K&&(Te=new Te(H,B+"enter",Re,o,ne),Te.target=F,Te.relatedTarget=Je,re=Te),Je=re,Q&&Re)t:{for(Te=Q,H=Re,B=0,F=Te;F;F=go(F))B++;for(F=0,re=H;re;re=go(re))F++;for(;0<B-F;)Te=go(Te),B--;for(;0<F-B;)H=go(H),F--;for(;B--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=go(Te),H=go(H)}Te=null}else Te=null;Q!==null&&K0(se,Y,Q,Te,!1),Re!==null&&Je!==null&&K0(se,Je,Re,Te,!0)}}e:{if(Y=K?Ii(K):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ye=hy;else if(uy(Y))if(fy)ye=Lw;else{ye=kw;var ke=Mw}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ua(K.elementType)&&(ye=hy):ye=Vw;if(ye&&(ye=ye(r,K))){cy(se,ye,o,ne);break e}ke&&ke(r,Y,K),r==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&rl(Y,"number",Y.value)}switch(ke=K?Ii(K):window,r){case"focusin":(uy(ke)||ke.contentEditable==="true")&&(Ga=ke,ed=K,yl=null);break;case"focusout":yl=ed=Ga=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Ey(se,o,ne);break;case"selectionchange":if(jw)break;case"keydown":case"keyup":Ey(se,o,ne)}var Ee;if(Ce)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Qn?$n(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(yt&&o.locale!=="ko"&&(Qn||we!=="onCompositionStart"?we==="onCompositionEnd"&&Qn&&(Ee=ic()):(Mn=ne,tt="value"in Mn?Mn.value:Mn.textContent,Qn=!0)),ke=Zc(K,we),0<ke.length&&(we=new hl(we,r,null,o,ne),se.push({event:we,listeners:ke}),Ee?we.data=Ee:(Ee=Yn(o),Ee!==null&&(we.data=Ee)))),(Ee=$e?dl(r,o):Nw(r,o))&&(we=Zc(K,"onBeforeInput"),0<we.length&&(ke=new hl("onBeforeInput","beforeinput",null,o,ne),se.push({event:ke,listeners:we}),ke.data=Ee)),bS(se,r,K,o,ne)}F0(se,s)})}function Gl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Zc(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Mi(r,o),f!=null&&u.unshift(Gl(r,f,g)),f=Mi(r,s),f!=null&&u.push(Gl(r,f,g))),r.tag===3)return u;r=r.return}return[]}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function K0(r,s,o,u,f){for(var g=s._reactName,b=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,f?(K=Mi(o,g),K!=null&&b.unshift(Gl(o,K,V))):f||(K=Mi(o,g),K!=null&&b.push(Gl(o,K,V)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var SS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function $0(r){return(typeof r=="string"?r:""+r).replace(SS,`
`).replace(AS,"")}function Y0(r,s){return s=$0(s),$0(r)===s}function Jc(){}function Ze(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Dn(r,""+u);break;case"className":Ms(r,"class",u);break;case"tabIndex":Ms(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(r,o,u);break;case"style":sl(r,u,g);break;case"data":if(s!=="object"){Ms(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Kn(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ze(r,s,"name",f.name,f,null),Ze(r,s,"formEncType",f.formEncType,f,null),Ze(r,s,"formMethod",f.formMethod,f,null),Ze(r,s,"formTarget",f.formTarget,f,null)):(Ze(r,s,"encType",f.encType,f,null),Ze(r,s,"method",f.method,f,null),Ze(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Kn(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Jc);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Kn(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Ds(r,"popover",u);break;case"xlinkActuate":Pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ds(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=tc.get(o)||o,Ds(r,o,u))}}function wm(r,s,o,u,f,g){switch(o){case"style":sl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Dn(r,u):(typeof u=="number"||typeof u=="bigint")&&Dn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ds(r,o,u)}}}function Gt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,g,b,o,null)}}f&&Ze(r,s,"srcSet",o.srcSet,o,null),u&&Ze(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var w=g=b=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":b=ne;break;case"checked":V=ne;break;case"defaultChecked":K=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:Ze(r,s,u,ne,o,null)}}nl(r,g,w,V,K,b,f,!1),Ni(r);return;case"select":Le("invalid",r),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Ze(r,s,f,w,o,null)}s=g,o=b,r.multiple=!!u,s!=null?Pi(r,!!u,s,!1):o!=null&&Pi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ze(r,s,b,w,o,null)}ec(r,u,f,g),Ni(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,s,V,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Fl.length;u++)Le(Fl[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,K,u,o,null)}return;default:if(Ua(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&wm(r,s,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Ze(r,s,w,u,o,null))}function RS(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,w=null,V=null,K=null,ne=null;for(Q in o){var se=o[Q];if(o.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=se;default:u.hasOwnProperty(Q)||Ze(r,s,Q,null,u,se)}}for(var Y in u){var Q=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(Q!=null||se!=null))switch(Y){case"type":g=Q;break;case"name":f=Q;break;case"checked":K=Q;break;case"defaultChecked":ne=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==se&&Ze(r,s,Y,Q,u,se)}}tl(r,b,w,V,K,ne,g,f);return;case"select":Q=b=w=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(g)||Ze(r,s,g,null,u,V)}for(f in u)if(g=u[f],V=o[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==V&&Ze(r,s,f,g,u,V)}s=w,o=b,u=Q,Y!=null?Pi(r,!!o,Y,!1):!!u!=!!o&&(s!=null?Pi(r,!!o,s,!0):Pi(r,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(r,s,w,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ze(r,s,b,f,u,g)}Ju(r,Y,Q);return;case"option":for(var Re in o)if(Y=o[Re],o.hasOwnProperty(Re)&&Y!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:Ze(r,s,Re,null,u,Y)}for(V in u)if(Y=u[V],Q=o[V],u.hasOwnProperty(V)&&Y!==Q&&(Y!=null||Q!=null))switch(V){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(r,s,V,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Y=o[Te],o.hasOwnProperty(Te)&&Y!=null&&!u.hasOwnProperty(Te)&&Ze(r,s,Te,null,u,Y);for(K in u)if(Y=u[K],Q=o[K],u.hasOwnProperty(K)&&Y!==Q&&(Y!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Ze(r,s,K,Y,u,Q)}return;default:if(Ua(s)){for(var Je in o)Y=o[Je],o.hasOwnProperty(Je)&&Y!==void 0&&!u.hasOwnProperty(Je)&&wm(r,s,Je,void 0,u,Y);for(ne in u)Y=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||Y===Q||Y===void 0&&Q===void 0||wm(r,s,ne,Y,u,Q);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&Ze(r,s,H,null,u,Y);for(se in u)Y=u[se],Q=o[se],!u.hasOwnProperty(se)||Y===Q||Y==null&&Q==null||Ze(r,s,se,Y,u,Q)}var Sm=null,Am=null;function eh(r){return r.nodeType===9?r:r.ownerDocument}function Q0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Rm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Im=null;function IS(){var r=window.event;return r&&r.type==="popstate"?r===Im?!1:(Im=r,!0):(Im=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(r){return Z0.resolve(null).then(r).catch(NS)}:W0;function NS(r){setTimeout(function(){throw r})}function Zi(r){return r==="head"}function J0(r,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&Kl(b.documentElement),o&2&&Kl(b.body),o&4)for(o=b.head,Kl(o),b=o.firstChild;b;){var w=b.nextSibling,V=b.nodeName;b[Ri]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){r.removeChild(g),eu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);eu(s)}function Cm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cm(o),Da(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function PS(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ri])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Zn(r.nextSibling),r===null)break}return null}function DS(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Zn(r.nextSibling),r===null))return null;return r}function Om(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function MS(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Zn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Nm=null;function ev(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function tv(r,s,o){switch(s=eh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Kl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Da(r)}var Bn=new Map,nv=new Set;function th(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ui=de.d;de.d={f:kS,r:VS,D:LS,C:US,L:jS,m:zS,X:qS,S:BS,M:HS};function kS(){var r=ui.f(),s=Kc();return r||s}function VS(r){var s=ur(r);s!==null&&s.tag===5&&s.type==="form"?x_(s):ui.r(r)}var yo=typeof document>"u"?null:document;function rv(r,s,o){var u=yo;if(u&&typeof s=="string"&&s){var f=Lt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),nv.has(f)||(nv.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Gt(s,"link",r),gt(s),u.head.appendChild(s)))}}function LS(r){ui.D(r),rv("dns-prefetch",r,null)}function US(r,s){ui.C(r,s),rv("preconnect",r,s)}function jS(r,s,o){ui.L(r,s,o);var u=yo;if(u&&r&&s){var f='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Lt(o.imageSizes)+'"]')):f+='[href="'+Lt(r)+'"]';var g=f;switch(s){case"style":g=_o(r);break;case"script":g=vo(r)}Bn.has(g)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Bn.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector($l(g))||s==="script"&&u.querySelector(Yl(g))||(s=u.createElement("link"),Gt(s,"link",r),gt(s),u.head.appendChild(s)))}}function zS(r,s){ui.m(r,s);var o=yo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=vo(r)}if(!Bn.has(g)&&(r=_({rel:"modulepreload",href:r},s),Bn.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yl(g)))return}u=o.createElement("link"),Gt(u,"link",r),gt(u),o.head.appendChild(u)}}}function BS(r,s,o){ui.S(r,s,o);var u=yo;if(u&&r){var f=Ci(u).hoistableStyles,g=_o(r);s=s||"default";var b=f.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector($l(g)))w.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Bn.get(g))&&Pm(r,o);var V=b=u.createElement("link");gt(V),Gt(V,"link",r),V._p=new Promise(function(K,ne){V.onload=K,V.onerror=ne}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(g,b)}}}function qS(r,s){ui.X(r,s);var o=yo;if(o&&r){var u=Ci(o).hoistableScripts,f=vo(r),g=u.get(f);g||(g=o.querySelector(Yl(f)),g||(r=_({src:r,async:!0},s),(s=Bn.get(f))&&Dm(r,s),g=o.createElement("script"),gt(g),Gt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function HS(r,s){ui.M(r,s);var o=yo;if(o&&r){var u=Ci(o).hoistableScripts,f=vo(r),g=u.get(f);g||(g=o.querySelector(Yl(f)),g||(r=_({src:r,async:!0,type:"module"},s),(s=Bn.get(f))&&Dm(r,s),g=o.createElement("script"),gt(g),Gt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function iv(r,s,o,u){var f=(f=xe.current)?th(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=_o(o.href),o=Ci(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=_o(o.href);var g=Ci(f).hoistableStyles,b=g.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=f.querySelector($l(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Bn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(r,o),g||FS(f,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vo(o),o=Ci(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _o(r){return'href="'+Lt(r)+'"'}function $l(r){return'link[rel="stylesheet"]['+r+"]"}function sv(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function FS(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Gt(s,"link",o),gt(s),r.head.appendChild(s))}function vo(r){return'[src="'+Lt(r)+'"]'}function Yl(r){return"script[async]"+r}function av(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(u)return s.instance=u,gt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),gt(u),Gt(u,"style",f),nh(u,o.precedence,r),s.instance=u;case"stylesheet":f=_o(o.href);var g=r.querySelector($l(f));if(g)return s.state.loading|=4,s.instance=g,gt(g),g;u=sv(o),(f=Bn.get(f))&&Pm(u,f),g=(r.ownerDocument||r).createElement("link"),gt(g);var b=g;return b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),Gt(g,"link",u),s.state.loading|=4,nh(g,o.precedence,r),s.instance=g;case"script":return g=vo(o.src),(f=r.querySelector(Yl(g)))?(s.instance=f,gt(f),f):(u=o,(f=Bn.get(g))&&(u=_({},o),Dm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),gt(f),Gt(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,nh(u,o.precedence,r));return s.instance}function nh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Pm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Dm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var rh=null;function ov(r,s,o){if(rh===null){var u=new Map,f=rh=new Map;f.set(o,u)}else f=rh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[Ri]||g[pt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function lv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function GS(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function uv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ql=null;function KS(){}function $S(r,s,o){if(Ql===null)throw Error(i(475));var u=Ql;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=_o(o.href),g=r.querySelector($l(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=ih.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,gt(g);return}g=r.ownerDocument||r,o=sv(o),(f=Bn.get(f))&&Pm(o,f),g=g.createElement("link"),gt(g);var b=g;b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),Gt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=ih.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function YS(){if(Ql===null)throw Error(i(475));var r=Ql;return r.stylesheets&&r.count===0&&Mm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Mm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sh=null;function Mm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sh=new Map,s.forEach(QS,r),sh=null,ih.call(r))}function QS(r,s){if(!(s.state.loading&4)){var o=sh.get(r);if(o)var u=o.get(null);else{o=new Map,sh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=ih.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Xl={$$typeof:j,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function XS(r,s,o,u,f,g,b,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cv(r,s,o,u,f,g,b,w,V,K,ne,se){return r=new XS(r,s,o,b,w,V,K,se),s=1,g===!0&&(s|=24),g=bn(3,null,null,s),r.current=g,g.stateNode=r,s=pd(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},vd(g),r}function hv(r){return r?(r=Qa,r):Qa}function fv(r,s,o,u,f,g){f=hv(f),u.context===null?u.context=f:u.pendingContext=f,u=ji(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=zi(r,u,s),o!==null&&(An(o,r,s),Al(o,r,s))}function dv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function km(r,s){dv(r,s),(r=r.alternate)&&dv(r,s)}function mv(r){if(r.tag===13){var s=Ya(r,67108864);s!==null&&An(s,r,67108864),km(r,67108864)}}var ah=!0;function WS(r,s,o,u){var f=J.T;J.T=null;var g=de.p;try{de.p=2,Vm(r,s,o,u)}finally{de.p=g,J.T=f}}function ZS(r,s,o,u){var f=J.T;J.T=null;var g=de.p;try{de.p=8,Vm(r,s,o,u)}finally{de.p=g,J.T=f}}function Vm(r,s,o,u){if(ah){var f=Lm(u);if(f===null)Tm(r,s,u,oh,o),gv(r,u);else if(e2(f,r,s,o,u))u.stopPropagation();else if(gv(r,u),s&4&&-1<JS.indexOf(r)){for(;f!==null;){var g=ur(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Hn(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var V=1<<31-an(b);w.entanglements[1]|=V,b&=~V}vr(g),(Ye&6)===0&&(Fc=hn()+500,Hl(0))}}break;case 13:w=Ya(g,2),w!==null&&An(w,g,2),Kc(),km(g,2)}if(g=Lm(u),g===null&&Tm(r,s,u,oh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Tm(r,s,u,null,o)}}function Lm(r){return r=ol(r),Um(r)}var oh=null;function Um(r){if(oh=null,r=lr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return oh=r,null}function pv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yu()){case Ct:return 2;case Vt:return 8;case Hr:case Hf:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var jm=!1,Ji=null,es=null,ts=null,Wl=new Map,Zl=new Map,ns=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(r,s){switch(r){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Jl(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ur(s),s!==null&&mv(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function e2(r,s,o,u,f){switch(s){case"focusin":return Ji=Jl(Ji,r,s,o,u,f),!0;case"dragenter":return es=Jl(es,r,s,o,u,f),!0;case"mouseover":return ts=Jl(ts,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Wl.set(g,Jl(Wl.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Zl.set(g,Jl(Zl.get(g)||null,r,s,o,u,f)),!0}return!1}function yv(r){var s=lr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Kf(r.priority,function(){if(o.tag===13){var u=Sn();u=Jo(u);var f=Ya(o,u);f!==null&&An(f,o,u),km(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Lm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);al=u,o.target.dispatchEvent(u),al=null}else return s=ur(o),s!==null&&mv(s),r.blockedOn=o,!1;s.shift()}return!0}function _v(r,s,o){lh(r)&&o.delete(s)}function t2(){jm=!1,Ji!==null&&lh(Ji)&&(Ji=null),es!==null&&lh(es)&&(es=null),ts!==null&&lh(ts)&&(ts=null),Wl.forEach(_v),Zl.forEach(_v)}function uh(r,s){r.blockedOn===s&&(r.blockedOn=null,jm||(jm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,t2)))}var ch=null;function vv(r){ch!==r&&(ch=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ch===r&&(ch=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Um(u||o)===null)continue;break}var g=ur(o);g!==null&&(r.splice(s,3),s-=3,Ud(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function eu(r){function s(V){return uh(V,r)}Ji!==null&&uh(Ji,r),es!==null&&uh(es,r),ts!==null&&uh(ts,r),Wl.forEach(s),Zl.forEach(s);for(var o=0;o<ns.length;o++){var u=ns[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ns.length&&(o=ns[0],o.blockedOn===null);)yv(o),o.blockedOn===null&&ns.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[qt]||null;if(typeof g=="function")b||vv(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[qt]||null)w=b.formAction;else if(Um(f)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),vv(o)}}}function zm(r){this._internalRoot=r}hh.prototype.render=zm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Sn();fv(o,u,r,s,null,null)},hh.prototype.unmount=zm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fv(r.current,2,null,r,null,null),Kc(),s[Gr]=null}};function hh(r){this._internalRoot=r}hh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ns.length&&s!==0&&s<ns[o].priority;o++);ns.splice(o,0,r),o===0&&yv(r)}};var Ev=e.version;if(Ev!=="19.1.0")throw Error(i(527,Ev,"19.1.0"));de.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var n2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{bi=fh.inject(n2),Xt=fh}catch{}}return nu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=V_,g=L_,b=U_,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=cv(r,1,!1,null,null,o,u,f,g,b,w,null),r[Gr]=s.current,xm(r),new zm(s)},nu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=V_,b=L_,w=U_,V=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=cv(r,1,!0,s,o??null,u,f,g,b,w,V,K),s.context=hv(null),o=s.current,u=Sn(),u=Jo(u),f=ji(u),f.callback=null,zi(o,f,u),o=u,s.current.lanes=o,mt(s,o),vr(s),r[Gr]=s.current,xm(r),new hh(s)},nu.version="19.1.0",nu}var Ov;function d2(){if(Ov)return Fm.exports;Ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fm.exports=f2(),Fm.exports}var m2=d2(),ru={},Nv;function p2(){if(Nv)return ru;Nv=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.parse=c,ru.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,R){const I=new l,k=x.length;if(k<2)return I;const N=(R==null?void 0:R.decode)||_;let L=0;do{const q=x.indexOf("=",L);if(q===-1)break;const j=x.indexOf(";",L),$=j===-1?k:j;if(q>$){L=x.lastIndexOf(";",q-1)+1;continue}const W=d(x,L,q),le=m(x,q,W),P=x.slice(W,le);if(I[P]===void 0){let A=d(x,q+1,$),C=m(x,$,A);const U=N(x.slice(A,C));I[P]=U}L=$+1}while(L<k);return I}function d(x,R,I){do{const k=x.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<I);return I}function m(x,R,I){for(;R>I;){const k=x.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return I}function p(x,R,I){const k=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=k(R);if(!e.test(N))throw new TypeError(`argument val is invalid: ${R}`);let L=x+"="+N;if(!I)return L;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);L+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);L+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);L+="; Path="+I.path}if(I.expires){if(!v(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);L+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(L+="; HttpOnly"),I.secure&&(L+="; Secure"),I.partitioned&&(L+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return L}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return a.call(x)==="[object Date]"}return ru}p2();var Pv="popstate";function g2(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Sp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:vu(a)}return _2(e,t,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Pr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substring(2,10)}function Dv(n,e){return{usr:n.state,key:n.key,idx:e}}function Sp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Uo(e):e,state:t,key:e&&e.key||i||y2()}}function vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Uo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function _2(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let N=_(),L=N==null?null:N-p;p=N,m&&m({action:d,location:k.location,delta:L})}function x(N,L){d="PUSH";let q=Sp(k.location,N,L);p=_()+1;let j=Dv(q,p),$=k.createHref(q);try{c.pushState(j,"",$)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign($)}l&&m&&m({action:d,location:k.location,delta:1})}function R(N,L){d="REPLACE";let q=Sp(k.location,N,L);p=_();let j=Dv(q,p),$=k.createHref(q);c.replaceState(j,"",$),l&&m&&m({action:d,location:k.location,delta:0})}function I(N){let L=a.location.origin!=="null"?a.location.origin:a.location.href,q=typeof N=="string"?N:vu(N);return q=q.replace(/ $/,"%20"),ut(L,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,L)}let k={get action(){return d},get location(){return n(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Pv,v),m=N,()=>{a.removeEventListener(Pv,v),m=null}},createHref(N){return e(a,N)},createURL:I,encodeLocation(N){let L=I(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:R,go(N){return c.go(N)}};return k}function eb(n,e,t="/"){return v2(n,e,t,!1)}function v2(n,e,t,i){let a=typeof e=="string"?Uo(e):e,l=pi(a.pathname||"/",t);if(l==null)return null;let c=tb(n);E2(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=N2(l);d=C2(c[m],p,i)}return d}function tb(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=fi([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tb(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:R2(p,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of nb(l.path))a(l,c,m)}),e}function nb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=nb(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function E2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:I2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var b2=/^:[\w-]+$/,x2=3,T2=2,w2=1,S2=10,A2=-2,Mv=n=>n==="*";function R2(n,e){let t=n.split("/"),i=t.length;return t.some(Mv)&&(i+=A2),e&&(i+=T2),t.filter(a=>!Mv(a)).reduce((a,l)=>a+(b2.test(l)?x2:l===""?w2:S2),i)}function I2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function C2(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),x=m.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:fi([l,v.pathname]),pathnameBase:k2(fi([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=fi([l,v.pathnameBase]))}return c}function Vh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=O2(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:v},x)=>{if(_==="*"){let I=d[x]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[x];return v&&!R?p[_]=void 0:p[_]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function O2(n,e=!1,t=!0){Pr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function N2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function P2(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Uo(n):n;return{pathname:t?t.startsWith("/")?t:D2(t,e):e,search:V2(i),hash:L2(a)}}function D2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ym(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rb(n){let e=M2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ib(n,e,t,i=!1){let a;typeof n=="string"?a=Uo(n):(a={...n},ut(!a.pathname||!a.pathname.includes("?"),Ym("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Ym("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Ym("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}d=v>=0?e[v]:"/"}let m=P2(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var fi=n=>n.join("/").replace(/\/\/+/g,"/"),k2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,L2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sb=["POST","PUT","PATCH","DELETE"];new Set(sb);var j2=["GET",...sb];new Set(j2);var jo=X.createContext(null);jo.displayName="DataRouter";var uf=X.createContext(null);uf.displayName="DataRouterState";var ab=X.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var z2=X.createContext(new Map);z2.displayName="Fetchers";var B2=X.createContext(null);B2.displayName="Await";var Ur=X.createContext(null);Ur.displayName="Navigation";var Ou=X.createContext(null);Ou.displayName="Location";var jr=X.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var ag=X.createContext(null);ag.displayName="RouteError";function q2(n,{relative:e}={}){ut(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=X.useContext(Ur),{hash:a,pathname:l,search:c}=Du(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:fi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Nu(){return X.useContext(Ou)!=null}function Ts(){return ut(Nu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Ou).location}var ob="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lb(n){X.useContext(Ur).static||X.useLayoutEffect(n)}function Pu(){let{isDataRoute:n}=X.useContext(jr);return n?tA():H2()}function H2(){ut(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(jo),{basename:e,navigator:t}=X.useContext(Ur),{matches:i}=X.useContext(jr),{pathname:a}=Ts(),l=JSON.stringify(rb(i)),c=X.useRef(!1);return lb(()=>{c.current=!0}),X.useCallback((m,p={})=>{if(Pr(c.current,ob),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=ib(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,n])}X.createContext(null);function ub(){let{matches:n}=X.useContext(jr),e=n[n.length-1];return e?e.params:{}}function Du(n,{relative:e}={}){let{matches:t}=X.useContext(jr),{pathname:i}=Ts(),a=JSON.stringify(rb(t));return X.useMemo(()=>ib(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function F2(n,e){return cb(n,e)}function cb(n,e,t,i){var q;ut(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=X.useContext(Ur),{matches:c}=X.useContext(jr),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";hb(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Ts(),R;if(e){let j=typeof e=="string"?Uo(e):e;ut(_==="/"||((q=j.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),R=j}else R=x;let I=R.pathname||"/",k=I;if(_!=="/"){let j=_.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=!l&&t&&t.matches&&t.matches.length>0?t.matches:eb(n,{pathname:k});Pr(v||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Pr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Q2(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:fi([_,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:fi([_,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,t,i);return e&&L?X.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},L):L}function G2(){let n=eA(),e=U2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:a},t):null,c)}var K2=X.createElement(G2,null),$2=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?X.createElement(jr.Provider,{value:this.props.routeContext},X.createElement(ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y2({routeContext:n,match:e,children:t}){let i=X.useContext(jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(jr.Provider,{value:n},t)}function Q2(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:_,errors:v}=t,x=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,_)=>{let v,x=!1,R=null,I=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||K2,c&&(d<0&&_===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):d===_&&(x=!0,I=p.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,_+1)),N=()=>{let L;return v?L=R:x?L=I:p.route.Component?L=X.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,X.createElement(Y2,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?X.createElement($2,{location:t.location,revalidation:t.revalidation,component:R,error:v,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}function og(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(n){let e=X.useContext(jo);return ut(e,og(n)),e}function W2(n){let e=X.useContext(uf);return ut(e,og(n)),e}function Z2(n){let e=X.useContext(jr);return ut(e,og(n)),e}function lg(n){let e=Z2(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function J2(){return lg("useRouteId")}function eA(){var i;let n=X.useContext(ag),e=W2("useRouteError"),t=lg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function tA(){let{router:n}=X2("useNavigate"),e=lg("useNavigate"),t=X.useRef(!1);return lb(()=>{t.current=!0}),X.useCallback(async(a,l={})=>{Pr(t.current,ob),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var kv={};function hb(n,e,t){!e&&!kv[n]&&(kv[n]=!0,Pr(!1,t))}X.memo(nA);function nA({routes:n,future:e,state:t}){return cb(n,void 0,t,e)}function Jn(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rA({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ut(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Uo(t));let{pathname:m="/",search:p="",hash:_="",state:v=null,key:x="default"}=t,R=X.useMemo(()=>{let I=pi(m,c);return I==null?null:{location:{pathname:I,search:p,hash:_,state:v,key:x},navigationType:i}},[c,m,p,_,v,x,i]);return Pr(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:X.createElement(Ur.Provider,{value:d},X.createElement(Ou.Provider,{children:e,value:R}))}function iA({children:n,location:e}){return F2(Ap(n),e)}function Ap(n,e=[]){let t=[];return X.Children.forEach(n,(i,a)=>{if(!X.isValidElement(i))return;let l=[...e,a];if(i.type===X.Fragment){t.push.apply(t,Ap(i.props.children,l));return}ut(i.type===Jn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ap(i.props.children,l)),t.push(c)}),t}var bh="get",xh="application/x-www-form-urlencoded";function cf(n){return n!=null&&typeof n.tagName=="string"}function sA(n){return cf(n)&&n.tagName.toLowerCase()==="button"}function aA(n){return cf(n)&&n.tagName.toLowerCase()==="form"}function oA(n){return cf(n)&&n.tagName.toLowerCase()==="input"}function lA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uA(n,e){return n.button===0&&(!e||e==="_self")&&!lA(n)}var dh=null;function cA(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var hA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(n){return n!=null&&!hA.has(n)?(Pr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):n}function fA(n,e){let t,i,a,l,c;if(aA(n)){let d=n.getAttribute("action");i=d?pi(d,e):null,t=n.getAttribute("method")||bh,a=Qm(n.getAttribute("enctype"))||xh,l=new FormData(n)}else if(sA(n)||oA(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?pi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||bh,a=Qm(n.getAttribute("formenctype"))||Qm(d.getAttribute("enctype"))||xh,l=new FormData(d,n),!cA()){let{name:p,type:_,value:v}=n;if(_==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,v)}}else{if(cf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bh,i=null,a=xh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ug(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pA(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await dA(l,t);return c.links?c.links():[]}return[]}));return vA(i.flat(1).filter(mA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vv(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var _;return t[p].pathname!==m.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var v;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gA(n,e,{includeHydrateFallback:t}={}){return yA(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function yA(n){return[...new Set(n)]}function _A(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vA(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(_A(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}var EA=new Set([100,101,204,205]);function bA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fb(){let n=X.useContext(jo);return ug(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xA(){let n=X.useContext(uf);return ug(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cg=X.createContext(void 0);cg.displayName="FrameworkContext";function db(){let n=X.useContext(cg);return ug(n,"You must render this element inside a <HydratedRouter> element"),n}function TA(n,e){let t=X.useContext(cg),[i,a]=X.useState(!1),[l,c]=X.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,x=X.useRef(null);X.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=L=>{L.forEach(q=>{c(q.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[n]),X.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let R=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:iu(d,R),onBlur:iu(m,I),onMouseEnter:iu(p,R),onMouseLeave:iu(_,I),onTouchStart:iu(v,R)}]:[!1,x,{}]}function iu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wA({page:n,...e}){let{router:t}=fb(),i=X.useMemo(()=>eb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?X.createElement(AA,{page:n,matches:i,...e}):null}function SA(n){let{manifest:e,routeModules:t}=db(),[i,a]=X.useState([]);return X.useEffect(()=>{let l=!1;return pA(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function AA({page:n,matches:e,...t}){let i=Ts(),{manifest:a,routeModules:l}=db(),{basename:c}=fb(),{loaderData:d,matches:m}=xA(),p=X.useMemo(()=>Vv(n,e,m,a,i,"data"),[n,e,m,a,i]),_=X.useMemo(()=>Vv(n,e,m,a,i,"assets"),[n,e,m,a,i]),v=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,k=!1;if(e.forEach(L=>{var j;let q=a.routes[L.route.id];!q||!q.hasLoader||(!p.some($=>$.route.id===L.route.id)&&L.route.id in d&&((j=l[L.route.id])!=null&&j.shouldRevalidate)||q.hasClientLoader?k=!0:I.add(L.route.id))}),I.size===0)return[];let N=bA(n,c);return k&&I.size>0&&N.searchParams.set("_routes",e.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,p,e,n,l]),x=X.useMemo(()=>gA(_,a),[_,a]),R=SA(_);return X.createElement(X.Fragment,null,v.map(I=>X.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),x.map(I=>X.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:k})=>X.createElement("link",{key:I,...k})))}function RA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mb&&(window.__reactRouterVersion="7.5.3")}catch{}function IA({basename:n,children:e,window:t}){let i=X.useRef();i.current==null&&(i.current=g2({window:t,v5Compat:!0}));let a=i.current,[l,c]=X.useState({action:a.action,location:a.location}),d=X.useCallback(m=>{X.startTransition(()=>c(m))},[c]);return X.useLayoutEffect(()=>a.listen(d),[a,d]),X.createElement(rA,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=X.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:v,...x},R){let{basename:I}=X.useContext(Ur),k=typeof p=="string"&&pb.test(p),N,L=!1;if(typeof p=="string"&&k&&(N=p,mb))try{let C=new URL(window.location.href),U=p.startsWith("//")?new URL(C.protocol+p):new URL(p),M=pi(U.pathname,I);U.origin===C.origin&&M!=null?p=M+U.search+U.hash:L=!0}catch{Pr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=q2(p,{relative:a}),[j,$,W]=TA(i,x),le=PA(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:v});function P(C){e&&e(C),C.defaultPrevented||le(C)}let A=X.createElement("a",{...x,...W,href:N||q,onClick:L||l?e:P,ref:RA(R,$),target:m,"data-discover":!k&&t==="render"?"true":void 0});return j&&!k?X.createElement(X.Fragment,null,A,X.createElement(wA,{page:q})):A});Et.displayName="Link";var CA=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let v=Du(c,{relative:p.relative}),x=Ts(),R=X.useContext(uf),{navigator:I,basename:k}=X.useContext(Ur),N=R!=null&&LA(v)&&d===!0,L=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,q=x.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),j=j?j.toLowerCase():null,L=L.toLowerCase()),j&&k&&(j=pi(j,k)||j);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let W=q===L||!a&&q.startsWith(L)&&q.charAt($)==="/",le=j!=null&&(j===L||!a&&j.startsWith(L)&&j.charAt(L.length)==="/"),P={isActive:W,isPending:le,isTransitioning:N},A=W?e:void 0,C;typeof i=="function"?C=i(P):C=[i,W?"active":null,le?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(P):l;return X.createElement(Et,{...p,"aria-current":A,className:C,ref:_,style:U,to:c,viewTransition:d},typeof m=="function"?m(P):m)});CA.displayName="NavLink";var OA=X.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=bh,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:v,...x},R)=>{let I=kA(),k=VA(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&pb.test(d),q=j=>{if(m&&m(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,W=($==null?void 0:$.getAttribute("formmethod"))||c;I($||j.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:v})};return X.createElement("form",{ref:R,method:N,action:k,onSubmit:i?m:q,...x,"data-discover":!L&&n==="render"?"true":void 0})});OA.displayName="Form";function NA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gb(n){let e=X.useContext(jo);return ut(e,NA(n)),e}function PA(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Pu(),m=Ts(),p=Du(n,{relative:l});return X.useCallback(_=>{if(uA(_,e)){_.preventDefault();let v=t!==void 0?t:vu(m)===vu(p);d(n,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,i,e,n,a,l,c])}var DA=0,MA=()=>`__${String(++DA)}__`;function kA(){let{router:n}=gb("useSubmit"),{basename:e}=X.useContext(Ur),t=J2();return X.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=fA(i,e);if(a.navigate===!1){let _=a.fetcherKey||MA();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function VA(n,{relative:e}={}){let{basename:t}=X.useContext(Ur),i=X.useContext(jr);ut(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Du(n||".",{relative:e})},c=Ts();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fi([t,l.pathname])),vu(l)}function LA(n,e={}){let t=X.useContext(ab);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gb("useViewTransitionState"),a=Du(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Vh(a.pathname,c)!=null||Vh(a.pathname,l)!=null}new TextEncoder;[...EA];const UA=(n,e)=>{switch(e.type){case"LOGIN":return{...n,user:e.payload.user,token:e.payload.token};case"SET_SESSION_DATA":return{...n,sessionData:e.payload};case"UPDATE":return{...n,user:null,token:null};case"REGISTER":return{...n,user:e.payload.user,token:null};case"LOGOUT":return{...n,user:null,token:null}}},jA=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},_b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let x=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(x=64)),i.push(t[_],t[v],t[x],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new BA;const x=l<<2|d>>4;if(i.push(x),p!==64){const R=d<<4&240|p>>2;if(i.push(R),v!==64){const I=p<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(n){const e=yb(n);return _b.encodeByteArray(e,!0)},Lh=function(n){return qA(n).replace(/\./g,"")},vb=function(n){try{return _b.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof Lv>"u")return;const n=Lv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vb(n[1]);return e&&JSON.parse(e)},hf=()=>{try{return jA()||FA()||GA()||KA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Eb=n=>{var e,t;return(t=(e=hf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},bb=n=>{const e=Eb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xb=()=>{var n;return(n=hf())==null?void 0:n.config},Tb=n=>{var e;return(e=hf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Lh(JSON.stringify(t)),Lh(JSON.stringify(c)),""].join(".")}const du={};function YA(){const n={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?n.emulator.push(e):n.prod.push(e);return n}function QA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Uv=!1;function fg(n,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||du[n]===e||du[n]||Uv)return;du[n]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=YA().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,R){x.setAttribute("width","24"),x.setAttribute("id",R),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Uv=!0,c()},x}function _(x,R){x.setAttribute("id",R),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=QA(i),R=t("text"),I=document.getElementById(R)||document.createElement("span"),k=t("learnmore"),N=document.getElementById(k)||document.createElement("a"),L=t("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;d(j),_(N,k);const $=p();m(q,L),j.append(q,I,N,$),document.body.appendChild(j)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function WA(){var e;const n=(e=hf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tR(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nR(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function iR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=sR,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aR(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new zr(a,d,i)}}function aR(n,e){return n.replace(oR,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const oR=/\{\$([^}]+)}/g;function lR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(jv(l)&&jv(c)){if(!pa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function jv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function lu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uR(n,e){const t=new cR(n,e);return t.subscribe.bind(t)}class cR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Xm),a.error===void 0&&(a.error=Xm),a.complete===void 0&&(a.complete=Xm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new $A;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mR(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(n){return n===ca?void 0:n}function mR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const gR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},yR=Ue.INFO,_R={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},vR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=_R[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=yR,this._logHandler=vR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const ER=(n,e)=>e.some(t=>n instanceof t);let zv,Bv;function bR(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sb=new WeakMap,Rp=new WeakMap,Ab=new WeakMap,Wm=new WeakMap,mg=new WeakMap;function TR(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(cs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Sb.set(t,n)}).catch(()=>{}),mg.set(e,n),e}function wR(n){if(Rp.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rp.set(n,e)}let Ip={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ab.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SR(n){Ip=n(Ip)}function AR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Zm(this),e,...t);return Ab.set(i,e.sort?e.sort():[e]),cs(i)}:xR().includes(n)?function(...e){return n.apply(Zm(this),e),cs(Sb.get(this))}:function(...e){return cs(n.apply(Zm(this),e))}}function RR(n){return typeof n=="function"?AR(n):(n instanceof IDBTransaction&&wR(n),ER(n,bR())?new Proxy(n,Ip):n)}function cs(n){if(n instanceof IDBRequest)return TR(n);if(Wm.has(n))return Wm.get(n);const e=RR(n);return e!==n&&(Wm.set(n,e),mg.set(e,n)),e}const Zm=n=>mg.get(n);function IR(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=cs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(cs(c.result),m.oldVersion,m.newVersion,cs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const CR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Jm=new Map;function qv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=OR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||CR.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Jm.set(e,l),l}SR(n=>({...n,get:(e,t,i)=>qv(e,t)||n.get(e,t,i),has:(e,t)=>!!qv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cp="@firebase/app",Hv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new dg("@firebase/app"),DR="@firebase/app-compat",MR="@firebase/analytics-compat",kR="@firebase/analytics",VR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",jR="@firebase/auth-compat",zR="@firebase/database",BR="@firebase/data-connect",qR="@firebase/database-compat",HR="@firebase/functions",FR="@firebase/functions-compat",GR="@firebase/installations",KR="@firebase/installations-compat",$R="@firebase/messaging",YR="@firebase/messaging-compat",QR="@firebase/performance",XR="@firebase/performance-compat",WR="@firebase/remote-config",ZR="@firebase/remote-config-compat",JR="@firebase/storage",eI="@firebase/storage-compat",tI="@firebase/firestore",nI="@firebase/ai",rI="@firebase/firestore-compat",iI="firebase",sI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",aI={[Cp]:"fire-core",[DR]:"fire-core-compat",[kR]:"fire-analytics",[MR]:"fire-analytics-compat",[LR]:"fire-app-check",[VR]:"fire-app-check-compat",[UR]:"fire-auth",[jR]:"fire-auth-compat",[zR]:"fire-rtdb",[BR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[HR]:"fire-fn",[FR]:"fire-fn-compat",[GR]:"fire-iid",[KR]:"fire-iid-compat",[$R]:"fire-fcm",[YR]:"fire-fcm-compat",[QR]:"fire-perf",[XR]:"fire-perf-compat",[WR]:"fire-rc",[ZR]:"fire-rc-compat",[JR]:"fire-gcs",[eI]:"fire-gcs-compat",[tI]:"fire-fst",[rI]:"fire-fst-compat",[nI]:"fire-vertex","fire-js":"fire-js",[iI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,oI=new Map,Np=new Map;function Fv(n,e){try{n.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ga(n){const e=n.name;if(Np.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,n);for(const t of Uh.values())Fv(t,n);for(const t of oI.values())Fv(t,n);return!0}function ff(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Mu("app","Firebase",lI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=sI;function Rb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Op,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw hs.create("bad-app-name",{appName:String(a)});if(t||(t=xb()),!t)throw hs.create("no-options");const l=Uh.get(a);if(l){if(pa(t,l.options)&&pa(i,l.config))return l;throw hs.create("duplicate-app",{appName:a})}const c=new pR(a);for(const m of Np.values())c.addComponent(m);const d=new uI(t,i,c);return Uh.set(a,d),d}function pg(n=Op){const e=Uh.get(n);if(!e&&n===Op&&xb())return Rb();if(!e)throw hs.create("no-app",{appName:n});return e}function Sr(n,e,t){let i=aI[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(c.join(" "));return}ga(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",hI=1,Eu="firebase-heartbeat-store";let ep=null;function Ib(){return ep||(ep=IR(cI,hI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw hs.create("idb-open",{originalErrorMessage:n.message})})),ep}async function fI(n){try{const t=(await Ib()).transaction(Eu),i=await t.objectStore(Eu).get(Cb(n));return await t.done,i}catch(e){if(e instanceof zr)gi.warn(e.message);else{const t=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(t.message)}}}async function Gv(n,e){try{const i=(await Ib()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(e,Cb(n)),await i.done}catch(t){if(t instanceof zr)gi.warn(t.message);else{const i=hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gi.warn(i.message)}}}function Cb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,mI=30;class pI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Kv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mI){const c=_I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:i,unsentEntries:a}=gI(this._heartbeatsCache.heartbeats),l=Lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gi.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function gI(n,e=dI){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),$v(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$v(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class yI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?iR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $v(n){return Lh(JSON.stringify({version:2,heartbeats:n})).length}function _I(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){ga(new ps("platform-logger",e=>new NR(e),"PRIVATE")),ga(new ps("heartbeat",e=>new pI(e),"PRIVATE")),Sr(Cp,Hv,n),Sr(Cp,Hv,"esm2020"),Sr("fire-js","")}vI("");function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EI=Ob,Nb=new Mu("auth","Firebase",Ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new dg("@firebase/auth");function bI(n,...e){jh.logLevel<=Ue.WARN&&jh.warn(`Auth (${wa}): ${n}`,...e)}function Th(n,...e){jh.logLevel<=Ue.ERROR&&jh.error(`Auth (${wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n,...e){throw gg(n,...e)}function Ar(n,...e){return gg(n,...e)}function Pb(n,e,t){const i={...EI(),[e]:t};return new Mu("auth","Firebase",i).create(e,{appName:n.name})}function di(n){return Pb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nb.create(n,...e)}function Se(n,e,...t){if(!n)throw gg(e,...t)}function ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Th(e),new Error(e)}function yi(n,e){n||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function xI(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||JA()||"connection"in navigator)?navigator.onLine:!0}function wI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=XA()||eR()}get(){return TI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RI=new Vu(3e4,6e4);function ws(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ei(n,e,t,i,a={}){return Mb(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ku({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return ZA()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ta(n.emulatorConfig.host)&&(p.credentials="include"),Db.fetch()(await kb(n,n.config.apiHost,t,d),p)})}async function Mb(n,e,t){n._canInitEmulator=!1;const i={...SI,...e};try{const a=new CI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw mh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw mh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw mh(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Pb(n,_,p);ir(n,_)}}catch(a){if(a instanceof zr)throw a;ir(n,"network-request-failed",{message:String(a)})}}async function Lu(n,e,t,i,a={}){const l=await Ei(n,e,t,i,a);return"mfaPendingCredential"in l&&ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function kb(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?yg(n.config,a):`${n.config.apiScheme}://${a}`;return AI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function II(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),RI.get())})}}function mh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ar(n,e,i);return a.customData._tokenResponse=t,a}function Qv(n){return n!==void 0&&n.enterprise!==void 0}class OI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return II(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NI(n,e){return Ei(n,"GET","/v2/recaptchaConfig",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e){return Ei(n,"POST","/v1/accounts:delete",e)}async function zh(n,e){return Ei(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DI(n,e=!1){const t=Yt(n),i=await t.getIdToken(e),a=_g(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:mu(tp(a.auth_time)),issuedAtTime:mu(tp(a.iat)),expirationTime:mu(tp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function tp(n){return Number(n)*1e3}function _g(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const a=vb(t);return a?JSON.parse(a):(Th("Failed to decode base64 JWT payload"),null)}catch(a){return Th("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Xv(n){const e=_g(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zr&&MI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function MI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){var v;const e=n.auth,t=await n.getIdToken(),i=await Oo(n,zh(e,{idToken:t}));Se(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=(v=a.providerUserInfo)!=null&&v.length?Vb(a.providerUserInfo):[],c=LI(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Dp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function VI(n){const e=Yt(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Vb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(n,e){const t=await Mb(n,{},async()=>{const i=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await kb(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ta(n.emulatorConfig.host)&&(m.credentials="include"),Db.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jI(n,e){return Ei(n,"POST","/v2/accounts:revokeToken",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Xv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await UI(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new So;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new kI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DI(this,e)}reload(){return VI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Oo(this,PI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:R,providerData:I,stsTokenManager:k}=t;Se(v&&k,e,"internal-error");const N=So.fromJSON(this.name,k);Se(typeof v=="string",e,"internal-error"),is(i,e.name),is(a,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof R=="boolean",e,"internal-error"),is(l,e.name),is(c,e.name),is(d,e.name),is(m,e.name),is(p,e.name),is(_,e.name);const L=new tr({uid:v,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:_});return I&&Array.isArray(I)&&(L.providerData=I.map(q=>({...q}))),m&&(L._redirectEventId=m),L}static async _fromIdTokenResponse(e,t,i=!1){const a=new So;a.updateFromServerResponse(t);const l=new tr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Bh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Vb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new So;d.updateFromIdToken(i);const m=new tr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function hi(n){yi(n instanceof Function,"Expected a class definition");let e=Wv.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lb.type="NONE";const Zv=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ao{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=wh(this.userKey,a.apiKey,l),this.fullPersistenceKey=wh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ao(hi(Zv),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||hi(Zv);const c=wh(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const _=await p._get(c);if(_){let v;if(typeof _=="string"){const x=await zh(e,{idToken:_}).catch(()=>{});if(!x)break;v=await tr._fromGetAccountInfoResponse(e,x,_)}else v=tr._fromJSON(e,_);p!==l&&(d=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ao(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ao(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Fb(e))return"Webos";if(jb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ub(n=sn()){return/firefox\//i.test(n)}function jb(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(n=sn()){return/crios\//i.test(n)}function Bb(n=sn()){return/iemobile/i.test(n)}function qb(n=sn()){return/android/i.test(n)}function Hb(n=sn()){return/blackberry/i.test(n)}function Fb(n=sn()){return/webos/i.test(n)}function vg(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zI(n=sn()){var e;return vg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function BI(){return tR()&&document.documentMode===10}function Gb(n=sn()){return vg(n)||qb(n)||Fb(n)||Hb(n)||/windows phone/i.test(n)||Bb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n,e=[]){let t;switch(n){case"Browser":t=Jv(sn());break;case"Worker":t=`${Jv(sn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e={}){return Ei(n,"GET","/v2/passwordPolicy",ws(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6;class GI{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new qI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),i=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(di(this));const t=e?Yt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HI(this),t=new GI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await jI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&bI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sa(n){return Yt(n)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(n){df=n}function $b(n){return df.loadJS(n)}function YI(){return df.recaptchaEnterpriseScript}function QI(){return df.gapiScript}function XI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WI{constructor(){this.enterprise=new ZI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JI="recaptcha-enterprise",Yb="NO_RECAPTCHA";class eC{constructor(e){this.type=JI,this.auth=Sa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{NI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new OI(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Qv(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Yb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Qv(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=YI();m.length!==0&&(m+=d),$b(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function tE(n,e,t,i=!1,a=!1){const l=new eC(n);let c;if(a)c=Yb;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mp(n,e,t,i,a){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await tE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e){const t=ff(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(pa(l,e??{}))return a;ir(a,"already-initialized")}return t.initialize({options:e})}function nC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(hi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rC(n,e,t){const i=Sa(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Qb(e),{host:c,port:d}=iC(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(pa(p,i.config.emulator)&&pa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Ta(c)?(hg(`${l}//${c}${m}`),fg("Auth",!0)):sC()}function Qb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iC(n){const e=Qb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:nE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:nE(c)}}}function nE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function aC(n,e){return Ei(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,e){return Lu(n,"POST","/v1/accounts:signInWithPassword",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",ws(n,e))}async function uC(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Eg{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new bu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,t,"signInWithPassword",oC);case"emailLink":return lC(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,i,"signUpPassword",aC);case"emailLink":return uC(e,{idToken:t,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n,e){return Lu(n,"POST","/v1/accounts:signInWithIdp",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class ya extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new ya(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ro(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fC(n){const e=ou(lu(n)).link,t=e?ou(lu(e)).deep_link_id:null,i=ou(lu(n)).deep_link_id;return(i?ou(lu(i)).link:null)||i||t||e||n}class bg{constructor(e){const t=ou(lu(e)),i=t.apiKey??null,a=t.oobCode??null,l=hC(t.mode??null);Se(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=fC(e);try{return new bg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=bg.parseLink(t);return Se(i,"argument-error"),bu._fromEmailAndCode(e,i.code,i.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Uu{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ya._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return as.credential(t,i)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Uu{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Uu{constructor(){super("twitter.com")}static credential(e,t){return ya._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ls.credential(t,i)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,e){return Lu(n,"POST","/v1/accounts:signUp",ws(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await tr._fromIdTokenResponse(e,i,a),c=rE(i);return new _a({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=rE(i);return new _a({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function rE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends zr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new qh(e,t,i,a)}}function Wb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(n,l,e,i):l})}async function mC(n,e,t=!1){const i=await Oo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _a._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(n,e,t=!1){const{auth:i}=n;if(Rn(i.app))return Promise.reject(di(i));const a="reauthenticate";try{const l=await Oo(n,Wb(i,a,e,n),t);Se(l.idToken,i,"internal-error");const c=_g(l.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(n.uid===d,i,"user-mismatch"),_a._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ir(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(n,e,t=!1){if(Rn(n.app))return Promise.reject(di(n));const i="signIn",a=await Wb(n,i,e),l=await _a._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function gC(n,e){return Zb(Sa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(n){const e=Sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yC(n,e,t){if(Rn(n.app))return Promise.reject(di(n));const i=Sa(n),c=await Mp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Jb(n),m}),d=await _a._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function _C(n,e,t){return Rn(n.app)?Promise.reject(di(n)):gC(Yt(n),zo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Jb(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){return Ei(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Yt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Oo(i,vC(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function EC(n,e,t,i){return Yt(n).onIdTokenChanged(e,t,i)}function bC(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,TC=10;class nx extends tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);BI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TC):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nx.type="LOCAL";const wC=nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx extends tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rx.type="SESSION";const ix=rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new mf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),m=await SC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=xg("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function RC(n){Rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function IC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function OC(){return sx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebaseLocalStorageDb",NC=1,Fh="firebaseLocalStorage",ox="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(n,e){return n.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function PC(){const n=indexedDB.deleteDatabase(ax);return new ju(n).toPromise()}function kp(){const n=indexedDB.open(ax,NC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Fh,{keyPath:ox})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Fh)?e(i):(i.close(),await PC(),e(await kp()))})})}async function iE(n,e,t){const i=pf(n,!0).put({[ox]:e,value:t});return new ju(i).toPromise()}async function DC(n,e){const t=pf(n,!1).get(e),i=await new ju(t).toPromise();return i===void 0?null:i.value}function sE(n,e){const t=pf(n,!0).delete(e);return new ju(t).toPromise()}const MC=800,kC=3;class lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(OC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await iE(e,Hh,"1"),await sE(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>DC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pf(a,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lx.type="LOCAL";const VC=lx;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n,e){return e?hi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UC(n){return Zb(n.auth,new Tg(n),n.bypassAuthState)}function jC(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),pC(t,new Tg(n),n.bypassAuthState)}async function zC(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),mC(t,new Tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return jC;default:ir(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Vu(2e3,1e4);class wo extends ux{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BC.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="pendingRedirect",Sh=new Map;class HC extends ux{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const i=await FC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FC(n,e){const t=$C(e),i=KC(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function GC(n,e){Sh.set(n._key(),e)}function KC(n){return hi(n._redirectPersistence)}function $C(n){return wh(qC,n.config.apiKey,n.name)}async function YC(n,e,t=!1){if(Rn(n.app))return Promise.reject(di(n));const i=Sa(n),a=LC(i,e),c=await new HC(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=10*60*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!cx(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e={}){return Ei(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eO=/^https?/;async function tO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZC(n);for(const t of e)try{if(nO(t))return}catch{}ir(n,"unauthorized-domain")}function nO(n){const e=Pp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!eO.test(t))return!1;if(JC.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Vu(3e4,6e4);function oE(){const n=Rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iO(n){return new Promise((e,t)=>{var a,l,c;function i(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),t(Ar(n,"network-request-failed"))},timeout:rO.get()})}if((l=(a=Rr().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Rr().gapi)!=null&&c.load)i();else{const d=XI("iframefcb");return Rr()[d]=()=>{gapi.load?i():t(Ar(n,"network-request-failed"))},$b(`${QI()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function sO(n){return Ah=Ah||iO(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Vu(5e3,15e3),oO="__/auth/iframe",lO="emulator/auth/iframe",uO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hO(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yg(e,lO):`https://${n.config.authDomain}/${oO}`,i={apiKey:e.apiKey,appName:n.name,v:wa},a=cO.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ku(i).slice(1)}`}async function fO(n){const e=await sO(n),t=Rr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:hO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uO,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ar(n,"network-request-failed"),d=Rr().setTimeout(()=>{l(c)},aO.get());function m(){Rr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mO=500,pO=600,gO="_blank",yO="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _O(n,e,t,i=mO,a=pO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...dO,width:i.toString(),height:a.toString(),top:l,left:c},p=sn().toLowerCase();t&&(d=zb(p)?gO:t),Ub(p)&&(e=e||yO,m.scrollbars="yes");const _=Object.entries(m).reduce((x,[R,I])=>`${x}${R}=${I},`,"");if(zI(p)&&d!=="_self")return vO(e||"",d),new lE(null);const v=window.open(e||"",d,_);Se(v,n,"popup-blocked");try{v.focus()}catch{}return new lE(v)}function vO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="__/auth/handler",bO="emulator/auth/handler",xO=encodeURIComponent("fac");async function uE(n,e,t,i,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:wa,eventId:a};if(e instanceof Xb){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",lR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof Uu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),p=m?`#${xO}=${encodeURIComponent(m)}`:"";return`${TO(n)}?${ku(d).slice(1)}${p}`}function TO({config:n}){return n.emulator?yg(n,bO):`https://${n.authDomain}/${EO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class wO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ix,this._completeRedirectFn=YC,this._overrideRedirectResult=GC}async _openPopup(e,t,i,a){var c;yi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await uE(e,t,i,Pp(),a);return _O(e,l,xg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await uE(e,t,i,Pp(),a);return RC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await fO(e),i=new XC(e);return t.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(np,{type:np},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[np];l!==void 0&&t(!!l),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gb()||jb()||vg()}}const SO=wO;var cE="@firebase/auth",hE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IO(n){ga(new ps("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(n)},p=new KI(i,a,l,m);return nC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ga(new ps("auth-internal",e=>{const t=Sa(e.getProvider("auth").getImmediate());return(i=>new AO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(cE,hE,RO(n)),Sr(cE,hE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=5*60,OO=Tb("authIdTokenMaxAge")||CO;let fE=null;const NO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>OO)return;const a=t==null?void 0:t.token;fE!==a&&(fE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function PO(n=pg()){const e=ff(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tC(n,{popupRedirectResolver:SO,persistence:[VC,wC,ix]}),i=Tb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=NO(l.toString());bC(t,c,()=>c(t.currentUser)),EC(t,d=>c(d))}}const a=Eb("auth");return a&&rC(t,`http://${a}`),t}function DO(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}$I({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Ar("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",DO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IO("Browser");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,hx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function C(){}C.prototype=A.prototype,P.F=A.prototype,P.prototype=new C,P.prototype.constructor=P,P.D=function(U,M,z){for(var O=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)O[ie-2]=arguments[ie];return A.prototype[M].apply(U,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,A,C){C||(C=0);const U=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)U[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)U[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=P.g[0],C=P.g[1],M=P.g[2];let z=P.g[3],O;O=A+(z^C&(M^z))+U[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(M^A&(C^M))+U[1]+3905402710&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(C^z&(A^C))+U[2]+606105819&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(A^M&(z^A))+U[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(z^C&(M^z))+U[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(M^A&(C^M))+U[5]+1200080426&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(C^z&(A^C))+U[6]+2821735955&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(A^M&(z^A))+U[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(z^C&(M^z))+U[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(M^A&(C^M))+U[9]+2336552879&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(C^z&(A^C))+U[10]+4294925233&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(A^M&(z^A))+U[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(z^C&(M^z))+U[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=z+(M^A&(C^M))+U[13]+4254626195&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(C^z&(A^C))+U[14]+2792965006&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(A^M&(z^A))+U[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=A+(M^z&(C^M))+U[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(A^C))+U[6]+3225465664&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(z^A))+U[11]+643717713&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(M^z))+U[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(C^M))+U[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(A^C))+U[10]+38016083&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(z^A))+U[15]+3634488961&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(M^z))+U[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(C^M))+U[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(A^C))+U[14]+3275163606&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(z^A))+U[3]+4107603335&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(M^z))+U[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(C^M))+U[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(A^C))+U[2]+4243563512&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^C&(z^A))+U[7]+1735328473&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^A&(M^z))+U[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=A+(C^M^z)+U[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^M)+U[8]+2272392833&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^C)+U[11]+1839030562&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^A)+U[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^z)+U[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^M)+U[4]+1272893353&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^C)+U[7]+4139469664&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^A)+U[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^z)+U[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^M)+U[0]+3936430074&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^C)+U[3]+3572445317&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^A)+U[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(C^M^z)+U[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=z+(A^C^M)+U[12]+3873151461&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^C)+U[15]+530742520&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^A)+U[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=A+(M^(C|~z))+U[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~M))+U[7]+1126891415&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~C))+U[14]+2878612391&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~A))+U[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~z))+U[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~M))+U[3]+2399980690&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~C))+U[10]+4293915773&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~A))+U[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~z))+U[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~M))+U[15]+4264355552&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~C))+U[6]+2734768916&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~A))+U[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=A+(M^(C|~z))+U[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=z+(C^(A|~M))+U[11]+3174756917&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~C))+U[2]+718787259&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~A))+U[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+z&4294967295}i.prototype.v=function(P,A){A===void 0&&(A=P.length);const C=A-this.blockSize,U=this.C;let M=this.h,z=0;for(;z<A;){if(M==0)for(;z<=C;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<A;)if(U[M++]=P.charCodeAt(z++),M==this.blockSize){a(this,U),M=0;break}}else for(;z<A;)if(U[M++]=P[z++],M==this.blockSize){a(this,U),M=0;break}}this.h=M,this.o+=A},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var C=P.length-8;C<P.length;++C)P[C]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)P[A++]=this.g[C]>>>U&255;return P};function l(P,A){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=A(P)}function c(P,A){this.h=A;const C=[];let U=!0;for(let M=P.length-1;M>=0;M--){const z=P[M]|0;U&&z==A||(C[M]=z,U=!1)}this.g=C}var d={};function m(P){return-128<=P&&P<128?l(P,function(A){return new c([A|0],A<0?-1:0)}):new c([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return v;if(P<0)return N(p(-P));const A=[];let C=1;for(let U=0;P>=C;U++)A[U]=P/C|0,C*=4294967296;return new c(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return N(_(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let U=v;for(let z=0;z<P.length;z+=8){var M=Math.min(8,P.length-z);const O=parseInt(P.substring(z,z+M),A);M<8?(M=p(Math.pow(A,M)),U=U.j(M).add(p(O))):(U=U.j(C),U=U.add(p(O)))}return U}var v=m(0),x=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(k(this))return-N(this).m();let P=0,A=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);P+=(U>=0?U:4294967296+U)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(k(this))return"-"+N(this).toString(P);const A=p(Math.pow(P,6));var C=this;let U="";for(;;){const M=$(C,A).g;C=L(C,M.j(A));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(P);if(C=M,I(C))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function k(P){return P.h==-1}n.l=function(P){return P=L(this,P),k(P)?-1:I(P)?0:1};function N(P){const A=P.g.length,C=[];for(let U=0;U<A;U++)C[U]=~P.g[U];return new c(C,~P.h).add(x)}n.abs=function(){return k(this)?N(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),C=[];let U=0;for(let M=0;M<=A;M++){let z=U+(this.i(M)&65535)+(P.i(M)&65535),O=(z>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);U=O>>>16,z&=65535,O&=65535,C[M]=O<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function L(P,A){return P.add(N(A))}n.j=function(P){if(I(this)||I(P))return v;if(k(this))return k(P)?N(this).j(N(P)):N(N(this).j(P));if(k(P))return N(this.j(N(P)));if(this.l(R)<0&&P.l(R)<0)return p(this.m()*P.m());const A=this.g.length+P.g.length,C=[];for(var U=0;U<2*A;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<P.g.length;M++){const z=this.i(U)>>>16,O=this.i(U)&65535,ie=P.i(M)>>>16,me=P.i(M)&65535;C[2*U+2*M]+=O*me,q(C,2*U+2*M),C[2*U+2*M+1]+=z*me,q(C,2*U+2*M+1),C[2*U+2*M+1]+=O*ie,q(C,2*U+2*M+1),C[2*U+2*M+2]+=z*ie,q(C,2*U+2*M+2)}for(P=0;P<A;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=A;P<2*A;P++)C[P]=0;return new c(C,0)};function q(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function j(P,A){this.g=P,this.h=A}function $(P,A){if(I(A))throw Error("division by zero");if(I(P))return new j(v,v);if(k(P))return A=$(N(P),A),new j(N(A.g),N(A.h));if(k(A))return A=$(P,N(A)),new j(N(A.g),A.h);if(P.g.length>30){if(k(P)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,U=A;U.l(P)<=0;)C=W(C),U=W(U);var M=le(C,1),z=le(U,1);for(U=le(U,2),C=le(C,2);!I(U);){var O=z.add(U);O.l(P)<=0&&(M=M.add(C),z=O),U=le(U,1),C=le(C,1)}return A=L(P,M.j(A)),new j(M,A)}for(M=v;P.l(A)>=0;){for(C=Math.max(1,Math.floor(P.m()/A.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=p(C),O=z.j(A);k(O)||O.l(P)>0;)C-=U,z=p(C),O=z.j(A);I(z)&&(z=x),M=M.add(z),P=L(P,O)}return new j(M,P)}n.B=function(P){return $(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let U=0;U<A;U++)C[U]=this.i(U)&P.i(U);return new c(C,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let U=0;U<A;U++)C[U]=this.i(U)|P.i(U);return new c(C,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),C=[];for(let U=0;U<A;U++)C[U]=this.i(U)^P.i(U);return new c(C,this.h^P.h)};function W(P){const A=P.g.length+1,C=[];for(let U=0;U<A;U++)C[U]=P.i(U)<<1|P.i(U-1)>>>31;return new c(C,P.h)}function le(P,A){const C=A>>5;A%=32;const U=P.g.length-C,M=[];for(let z=0;z<U;z++)M[z]=A>0?P.i(z+C)>>>A|P.i(z+C+1)<<32-A:P.i(z+C);return new c(M,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,hx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,fs=c}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fx,uu,dx,Rh,Vp,mx,px,gx;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in E))break e;E=E[G]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,E){return h.call.apply(h.bind,arguments)}function p(h,y,E){return p=m,p.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function v(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,G,Z){for(var fe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)fe[Ce-2]=arguments[Ce];return y.prototype[G].apply(S,fe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function I(h,y){for(let S=1;S<arguments.length;S++){const G=arguments[S];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const Z=G.length||0;h.length=E+Z;for(let fe=0;fe<Z;fe++)h[E+fe]=G[fe]}else h.push(G)}}class k{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function N(h){c.setTimeout(()=>{throw h},0)}function L(){var h=P;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class q{constructor(){this.h=this.g=null}add(y,E){const S=j.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var j=new k(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,le=!1,P=new q,A=()=>{const h=Promise.resolve(void 0);W=()=>{h.then(C)}};function C(){for(var h;h=L();){try{h.h.call(h.g)}catch(E){N(E)}var y=j;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}le=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h}();function O(h){return/^[\s\xa0]*$/.test(h)}function ie(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(ie,M),ie.prototype.init=function(h,y){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),J=0;function de(h,y,E,S,G){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=G,this.key=++J,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function D(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function ee(h){const y={};for(const E in h)y[E]=h[E];return y}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,y){let E,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(E in S)h[E]=S[E];for(let Z=0;Z<ce.length;Z++)E=ce[Z],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,y,E,S,G){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const fe=xe(h,y,S,G);return fe>-1?(y=h[fe],E||(y.fa=!1)):(y=new de(y,this.src,Z,!!S,G),y.fa=E,h.push(y)),y};function De(h,y){const E=y.type;if(E in h.g){var S=h.g[E],G=Array.prototype.indexOf.call(S,y,void 0),Z;(Z=G>=0)&&Array.prototype.splice.call(S,G,1),Z&&(ge(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xe(h,y,E,S){for(let G=0;G<h.length;++G){const Z=h[G];if(!Z.da&&Z.listener==y&&Z.capture==!!E&&Z.ha==S)return G}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Fe={};function It(h,y,E,S,G){if(Array.isArray(y)){for(let Z=0;Z<y.length;Z++)It(h,y[Z],E,S,G);return null}return E=Yu(E),h&&h[me]?h.J(y,E,d(S)?!!S.capture:!1,G):qr(h,y,E,!1,S,G)}function qr(h,y,E,S,G,Z){if(!y)throw Error("Invalid event type");const fe=d(G)?!!G.capture:!!G;let Ce=Xo(h);if(Ce||(h[xt]=Ce=new _e(h)),E=Ce.add(y,E,S,fe,Z),E.proxy)return E;if(S=Ia(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)z||(G=fe),G===void 0&&(G=!1),h.addEventListener(y.toString(),S,G);else if(h.attachEvent)h.attachEvent(Oa(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ia(){function h(E){return y.call(h.src,h.listener,E)}const y=qf;return h}function Ca(h,y,E,S,G){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Ca(h,y[Z],E,S,G);else S=d(S)?!!S.capture:!!S,E=Yu(E),h&&h[me]?(h=h.i,Z=String(y).toString(),Z in h.g&&(y=h.g[Z],E=xe(y,E,S,G),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Xo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,E,S,G)),(E=h>-1?y[h]:null)&&Rs(E))}function Rs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[me])De(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(Oa(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Xo(y))?(De(E,h),E.h==0&&(E.src=null,y[xt]=null)):ge(h)}}}function Oa(h){return h in Fe?Fe[h]:Fe[h]="on"+h}function qf(h,y){if(h.da)h=!0;else{y=new ie(y,this);const E=h.listener,S=h.ha||h.src;h.fa&&Rs(h),h=E.call(S,y)}return h}function Xo(h){return h=h[xt],h instanceof _e?h:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yu(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(y){return h.handleEvent(y)}),h[hn])}function Ct(){U.call(this),this.i=new _e(this),this.M=this,this.G=null}v(Ct,U),Ct.prototype[me]=!0,Ct.prototype.removeEventListener=function(h,y,E,S){Ca(this,h,y,E,S)};function Vt(h,y){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var G=y;y=new M(S,h),he(y,G)}G=!0;let Z,fe;if(E)for(fe=E.length-1;fe>=0;fe--)Z=y.g=E[fe],G=Hr(Z,S,!0,y)&&G;if(Z=y.g=h,G=Hr(Z,S,!0,y)&&G,G=Hr(Z,S,!1,y)&&G,E)for(fe=0;fe<E.length;fe++)Z=y.g=E[fe],G=Hr(Z,S,!1,y)&&G}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let S=0;S<E.length;S++)ge(E[S]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Ct.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function Hr(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let Z=0;Z<y.length;++Z){const fe=y[Z];if(fe&&!fe.da&&fe.capture==E){const Ce=fe.listener,rt=fe.ha||fe.src;fe.fa&&De(h.i,fe),G=Ce.call(rt,S)!==!1&&G}}return G&&!S.defaultPrevented}function Hf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Wo(h){h.g=Hf(()=>{h.g=null,h.i&&(h.i=!1,Wo(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ff extends U{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(h){U.call(this),this.h=h,this.g={}}v(Is,U);var bi=[];function Xt(h){ue(h.g,function(y,E){this.g.hasOwnProperty(E)&&Rs(y)},h),h.g={}}Is.prototype.N=function(){Is.Z.N.call(this),Xt(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=c.JSON.stringify,an=c.JSON.parse,Gf=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Qu(){}function Xu(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){M.call(this,"d")}v(xi,M);function Hn(){M.call(this,"c")}v(Hn,M);var Nn={},Ti=null;function Na(){return Ti=Ti||new Ct}Nn.Ia="serverreachability";function Zo(h){M.call(this,Nn.Ia,h)}v(Zo,M);function wi(h){const y=Na();Vt(y,new Zo(y))}Nn.STAT_EVENT="statevent";function Pa(h,y){M.call(this,Nn.STAT_EVENT,h),this.stat=y}v(Pa,M);function mt(h){const y=Na();Vt(y,new Pa(y,h))}Nn.Ja="timingevent";function Wu(h,y){M.call(this,Nn.Ja,h),this.size=y}v(Wu,M);function Si(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function Jo(h,y,E,S,G,Z){h.info(function(){if(h.g)if(Z){var fe="",Ce=Z.split("&");for(let $e=0;$e<Ce.length;$e++){var rt=Ce[$e].split("=");if(rt.length>1){const yt=rt[0];rt=rt[1];const vn=yt.split("_");fe=vn.length>=2&&vn[1]=="type"?fe+(yt+"="+rt+"&"):fe+(yt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+y+`
`+E+`
`+fe})}function el(h,y,E,S,G,Z,fe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+y+`
`+E+`
`+Z+" "+fe})}function Fr(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+or(h,E)+(S?" "+S:"")})}function Kf(h,y){h.info(function(){return"TIMEOUT: "+y})}Ai.prototype.info=function(){};function or(h,y){if(!h.g)return y;if(!y)return null;try{const Z=JSON.parse(y);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var E=Z[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var G=S[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<S.length;fe++)S[fe]=""}}}}return On(Z)}catch{return y}}var pt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gr;function Cs(){}v(Cs,Qu),Cs.prototype.g=function(){return new XMLHttpRequest},Gr=new Cs;function Os(h){return encodeURIComponent(String(h))}function $f(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Fn(h,y,E,S){this.j=h,this.i=y,this.l=E,this.S=S||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var Da={},lr={};function ur(h,y,E){h.M=1,h.A=$r(ot(y)),h.u=E,h.R=!0,Ii(h,null)}function Ii(h,y){h.F=Date.now(),Ns(h),h.B=ot(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),tc(E.i,"t",S),h.C=0,E=h.j.L,h.h=new Ri,h.g=Ha(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Ff(p(h.Y,h,h.g),h.P)),y=h.V,E=h.g,S=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(bi[0]=G.toString()),G=bi);for(let Z=0;Z<G.length;Z++){const fe=It(E,G[Z],S||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=h.J?ee(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),wi(),Jo(h.i,h.v,h.B,h.l,h.S,h.u)}Fn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wt(h)==3?y.j():this.Y(h)},Fn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=Wt(this.g),rt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||qs(this.g)))){this.K||Ce!=4||rt==7||(rt==8||$e<=0?wi(3):wi(2)),hr(this);var y=this.g.ca();this.X=y;var E=Ci(this);if(this.o=y==200,el(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,G=this.g;if((S=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(S)){var Z=S;break t}}Z=null}if(h=Z)Fr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ma(this,h);else{this.o=!1,this.m=3,mt(12),fr(this),Ps(this);break e}}if(this.R){h=!0;let yt;for(;!this.K&&this.C<E.length;)if(yt=Zu(this,E),yt==lr){Ce==4&&(this.m=4,mt(14),h=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Da){this.m=4,mt(15),Fr(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Fr(this.i,this.l,yt,null),Ma(this,yt);if(gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,mt(16),h=!1),this.o=this.o&&h,!h)Fr(this.i,this.l,E,"[Invalid Chunked Response]"),fr(this),Ps(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cl(fe),fe.P=!0,mt(11))}}else Fr(this.i,this.l,E,null),Ma(this,E);Ce==4&&fr(this),this.o&&!this.K&&(Ce==4?hl(this.j,this):(this.o=!1,Ns(this)))}else Hs(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),fr(this),Ps(this)}}}catch{}finally{}};function Ci(h){if(!gt(h))return h.g.la();const y=qs(h.g);if(y==="")return"";let E="";const S=y.length,G=Wt(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return fr(h),Ps(h),"";h.h.i=new c.TextDecoder}for(let Z=0;Z<S;Z++)h.h.h=!0,E+=h.h.i.decode(y[Z],{stream:!(G&&Z==S-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function gt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zu(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?lr:(E=Number(y.substring(E,S)),isNaN(E)?Da:(S+=1,S+E>y.length?lr:(y=y.slice(S,S+E),h.C=S+E,y)))}Fn.prototype.cancel=function(){this.K=!0,fr(this)};function Ns(h){h.T=Date.now()+h.H,cr(h,h.H)}function cr(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Si(p(h.aa,h),y)}function hr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Fn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Kf(this.i,this.B),this.M!=2&&(wi(),mt(17)),fr(this),this.m=2,Ps(this)):cr(this,this.T-h)};function Ps(h){h.j.I==0||h.K||hl(h.j,h)}function fr(h){hr(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Xt(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ma(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||ks(E.h,h))){if(!h.L&&ks(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)qa(E),dr(E);else break e;ul(E),mt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Si(p(E.Va,E),6e3));Pn(E.h)<=1&&E.ta&&(E.ta=void 0)}else Xr(E,11)}else if((h.L||E.g==h)&&qa(E),!O(y))for(G=E.Ba.g.parse(y),y=0;y<G.length;y++){let $e=G[y];const yt=$e[0];if(!(yt<=E.K))if(E.K=yt,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const vn=$e[3];vn!=null&&(E.ka=vn,E.j.info("VER="+E.ka));const mr=$e[4];mr!=null&&(E.za=mr,E.j.info("SVER="+E.za));const $n=$e[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Yn=h.g;if(Yn){const Qn=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var Z=S.h;Z.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ka(Z,Z.h),Z.h=null))}if(S.G){const dl=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.wa=dl,Xe(S.J,S.G,dl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var fe=h;if(S.na=cc(S,S.L?S.ba:null,S.W),fe.L){Kr(S.h,fe);var Ce=fe,rt=S.O;rt&&(Ce.H=rt),Ce.D&&(hr(Ce),Ns(Ce)),S.g=fe}else ac(S);E.i.length>0&&$s(E)}else $e[0]!="stop"&&$e[0]!="close"||Xr(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Xr(E,7):Gs(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}wi(4)}catch{}}var Yf=class{constructor(h,y){this.g=h,this.map=y}};function Ds(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ms(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pn(h){return h.h?1:h.g?h.g.size:0}function ks(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ka(h,y){h.g?h.g.add(y):h.h=y}function Kr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ds.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Va(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return R(h.i)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let G,Z=null;S>=0?(G=h[E].substring(0,S),Z=h[E].substring(S+1)):G=h[E],y(G,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Gn?(this.l=h.l,Oi(this,h.j),this.o=h.o,this.g=h.g,Vs(this,h.u),this.h=h.h,Ni(this,nc(h.i)),this.m=h.m):h&&(y=String(h).match(La))?(this.l=!1,Oi(this,y[1]||"",!0),this.o=Ls(y[2]||""),this.g=Ls(y[3]||"",!0),Vs(this,y[4]),this.h=Ls(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=Ls(y[7]||"")):(this.l=!1,this.i=new Dn(null,this.l))}Gn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Lt(y,nl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Lt(y,nl,!0),"@"),h.push(Os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Lt(E,E.charAt(0)=="/"?Pi:rl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Lt(E,ec)),h.join("")},Gn.prototype.resolve=function(h){const y=ot(this);let E=!!h.j;E?Oi(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var S=h.h;if(E)Vs(y,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var G=y.h.lastIndexOf("/");G!=-1&&(S=y.h.slice(0,G+1)+S)}if(G=S,G==".."||G==".")S="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){S=G.lastIndexOf("/",0)==0,G=G.split("/");const Z=[];for(let fe=0;fe<G.length;){const Ce=G[fe++];Ce=="."?S&&fe==G.length&&Z.push(""):Ce==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),S&&fe==G.length&&Z.push("")):(Z.push(Ce),S=!0)}S=Z.join("/")}else S=G}return E?y.h=S:E=h.i.toString()!=="",E?Ni(y,nc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function ot(h){return new Gn(h)}function Oi(h,y,E){h.j=E?Ls(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Vs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Ni(h,y,E){y instanceof Dn?(h.i=y,al(h.i,h.l)):(E||(y=Lt(y,Ju)),h.i=new Dn(y,h.l))}function Xe(h,y,E){h.i.set(y,E)}function $r(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ls(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Lt(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,tl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,Pi=/[#\?]/g,Ju=/[#\?@]/g,ec=/#/g;function Dn(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Yr(h){h.g||(h.g=new Map,h.h=0,h.i&&Qf(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Dn.prototype,n.add=function(h,y){Yr(this),this.i=null,h=Kn(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function il(h,y){Yr(h),y=Kn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function sl(h,y){return Yr(h),y=Kn(h,y),h.g.has(y)}n.forEach=function(h,y){Yr(this),this.g.forEach(function(E,S){E.forEach(function(G){h.call(y,G,S,this)},this)},this)};function Ua(h,y){Yr(h);let E=[];if(typeof y=="string")sl(h,y)&&(E=E.concat(h.g.get(Kn(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return Yr(this),this.i=null,h=Kn(this,h),sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Ua(this,h),h.length>0?String(h[0]):y):y};function tc(h,y,E){il(h,y),E.length>0&&(h.i=null,h.g.set(Kn(h,y),R(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const G=Os(E);E=Ua(this,E);for(let Z=0;Z<E.length;Z++){let fe=G;E[Z]!==""&&(fe+="="+Os(E[Z])),h.push(fe)}}return this.i=h.join("&")};function nc(h){const y=new Dn;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Kn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function al(h,y){y&&!h.j&&(Yr(h),h.i=null,h.g.forEach(function(E,S){const G=S.toLowerCase();S!=G&&(il(this,S),tc(this,G,E))},h)),h.j=y}function ol(h,y){const E=new Ai;if(c.Image){const S=new Image;S.onload=_(on,E,"TestLoadImage: loaded",!0,y,S),S.onerror=_(on,E,"TestLoadImage: error",!1,y,S),S.onabort=_(on,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(on,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Di(h,y){const E=new Ai,S=new AbortController,G=setTimeout(()=>{S.abort(),on(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Z=>{clearTimeout(G),Z.ok?on(E,"TestPingServer: ok",!0,y):on(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),on(E,"TestPingServer: error",!1,y)})}function on(h,y,E,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(E)}catch{}}function rc(){this.g=new Gf}function Us(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Us,Qu),Us.prototype.g=function(){return new js(this.i,this.h)};function js(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(js,Ct),n=js.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Qr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ln(this):Qr(this),this.readyState==3&&Mi(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ln(this))},n.Na=function(h){this.g&&(this.response=h,ln(this))},n.ga=function(){this.g&&ln(this)};function ln(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Qr(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Qr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ki(h){let y="";return ue(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Mn(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=ki(E),typeof h=="string"?E!=null&&Os(E):Xe(h,y,E))}function tt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(tt,Ct);var ja=/^https?$/i,ic=["POST","PUT"];n=tt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gr.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){zs(this,Z);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)E.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())E.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ic,y,void 0)>=0)||S||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){zs(this,Z)}};function zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Bs(h),Ot(h)}function Bs(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Ot(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ot(this,!0)),tt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},n.Xa=function(){ll(this)};function ll(h){if(h.h&&typeof l<"u"){if(h.v&&Wt(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),Wt(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=Z===0){let fe=String(h.D).match(La)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),S=!ja.test(fe?fe.toLowerCase():"")}E=S}if(E)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var G=Wt(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Bs(h)}}finally{Ot(h)}}}}function Ot(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Vt(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wt(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Wt(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),an(y)}};function qs(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(h){const y={};h=(h.g&&Wt(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(O(h[S]))continue;var E=$f(h[S]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=y[G]||[];y[G]=Z,Z.push(E)}D(y,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function za(h){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fs("baseRetryDelayMs",5e3,h),this.Za=Fs("retryDelaySeedMs",1e4,h),this.Ta=Fs("forwardChannelMaxRetries",2,h),this.va=Fs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ds(h&&h.concurrentRequestLimit),this.Ba=new rc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=za.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,S){mt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=cc(this,null,this.W),$s(this)};function Gs(h){if(Ks(h),h.I==3){var y=h.V++,E=ot(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Ys(h,E),y=new Fn(h,h.j,y),y.M=2,y.A=$r(ot(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ha(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ns(y)}uc(h)}function dr(h){h.g&&(cl(h),h.g.cancel(),h.g=null)}function Ks(h){dr(h),h.v&&(c.clearTimeout(h.v),h.v=null),qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function $s(h){if(!Ms(h.h)&&!h.m){h.m=!0;var y=h.Ea;W||A(),le||(W(),le=!0),P.add(y,h),h.D=0}}function Xf(h,y){return Pn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Si(p(h.Ea,h,y),lc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Fn(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=ee(Z),he(Z,this.U)):Z=this.U),this.u!==null||this.R||(G.J=Z,Z=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ba(this,G,y),E=ot(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ys(this,E),Z&&(this.R?y="headers="+Os(ki(Z))+"&"+y:this.u&&Mn(E,this.u,Z)),ka(this.h,G),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),G.U=!0,ur(G,E,null)):ur(G,E,y),this.I=2}}else this.I==3&&(h?sc(this,h):this.i.length==0||Ms(this.h)||sc(this))};function sc(h,y){var E;y?E=y.l:E=h.V++;const S=ot(h.J);Xe(S,"SID",h.M),Xe(S,"RID",E),Xe(S,"AID",h.K),Ys(h,S),h.u&&h.o&&Mn(S,h.u,h.o),E=new Fn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ba(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ka(h.h,E),ur(E,S,y)}function Ys(h,y){h.H&&ue(h.H,function(E,S){Xe(y,S,E)}),h.l&&ue({},function(E,S){Xe(y,S,E)})}function Ba(h,y,E){E=Math.min(h.i.length,E);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ce=-1;for(;;){const rt=["count="+E];Ce==-1?E>0?(Ce=G[0].g,rt.push("ofs="+Ce)):Ce=0:rt.push("ofs="+Ce);let $e=!0;for(let yt=0;yt<E;yt++){var Z=G[yt].g;const vn=G[yt].map;if(Z-=Ce,Z<0)Ce=Math.max(0,G[yt].g-100),$e=!1;else try{Z="req"+Z+"_"||"";try{var fe=vn instanceof Map?vn:Object.entries(vn);for(const[mr,$n]of fe){let Yn=$n;d($n)&&(Yn=On($n)),rt.push(Z+mr+"="+encodeURIComponent(Yn))}}catch(mr){throw rt.push(Z+"type="+encodeURIComponent("_badmap")),mr}}catch{S&&S(vn)}}if($e){fe=rt.join("&");break e}}fe=void 0}return h=h.i.splice(0,E),y.G=h,fe}function ac(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;W||A(),le||(W(),le=!0),P.add(y,h),h.A=0}}function ul(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Si(p(h.Da,h),lc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Si(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),dr(this),oc(this))};function cl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oc(h){h.g=new Fn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=ot(h.na);Xe(y,"RID","rpc"),Xe(y,"SID",h.M),Xe(y,"AID",h.K),Xe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(y,"TO",h.ia),Xe(y,"TYPE","xmlhttp"),Ys(h,y),h.u&&h.o&&Mn(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=$r(ot(y)),E.u=null,E.R=!0,Ii(E,h)}n.Va=function(){this.C!=null&&(this.C=null,dr(this),ul(this),mt(19))};function qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hl(h,y){var E=null;if(h.g==y){qa(h),cl(h),h.g=null;var S=2}else if(ks(h.h,y))E=y.G,Kr(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var G=h.D;S=Na(),Vt(S,new Wu(S,E)),$s(h)}else ac(h);else if(G=y.m,G==3||G==0&&y.X>0||!(S==1&&Xf(h,y)||S==2&&ul(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),G){case 1:Xr(h,5);break;case 4:Xr(h,10);break;case 3:Xr(h,6);break;default:Xr(h,2)}}}function lc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Xr(h,y){if(h.j.info("Error code "+y),y==2){var E=p(h.bb,h),S=h.Ua;const G=!S;S=new Gn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Oi(S,"https"),$r(S),G?ol(S.toString(),E):Di(S.toString(),E)}else mt(2);h.I=0,h.l&&h.l.pa(y),uc(h),Ks(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function uc(h){if(h.I=0,h.ja=[],h.l){const y=Va(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ja,y),I(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function cc(h,y,E){var S=E instanceof Gn?ot(E):new Gn(E);if(S.g!="")y&&(S.g=y+"."+S.g),Vs(S,S.u);else{var G=c.location;S=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const Z=new Gn(null);S&&Oi(Z,S),y&&(Z.g=y),G&&Vs(Z,G),E&&(Z.h=E),S=Z}return E=h.G,y=h.wa,E&&y&&Xe(S,E,y),Xe(S,"VER",h.ka),Ys(h,S),S}function Ha(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new tt(new Us({ab:E})):new tt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}n=hc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Fa(){}Fa.prototype.g=function(h,y){return new un(h,y)};function un(h,y){Ct.call(this),this.g=new za(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!O(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Vi(this)}v(un,Ct),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Gs(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=On(h),h=E);y.i.push(new Yf(y.Ya++,h)),y.I==3&&$s(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,un.Z.N.call(this)};function fl(h){xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v(fl,xi);function fc(){Hn.call(this),this.status=1}v(fc,Hn);function Vi(h){this.g=h}v(Vi,hc),Vi.prototype.ra=function(){Vt(this.g,"a")},Vi.prototype.qa=function(h){Vt(this.g,new fl(h))},Vi.prototype.pa=function(h){Vt(this.g,new fc)},Vi.prototype.oa=function(){Vt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,gx=function(){return new Fa},px=function(){return Na()},mx=Nn,Vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pt.NO_ERROR=0,pt.TIMEOUT=8,pt.HTTP_ERROR=6,Rh=pt,qt.COMPLETE="complete",dx=qt,Xu.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,uu=Xu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,fx=tt}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const mE="@firebase/firestore",pE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new dg("@firebase/firestore");function Eo(){return va.logLevel}function pe(n,...e){if(va.logLevel<=Ue.DEBUG){const t=e.map(wg);va.debug(`Firestore (${Bo}): ${n}`,...t)}}function _i(n,...e){if(va.logLevel<=Ue.ERROR){const t=e.map(wg);va.error(`Firestore (${Bo}): ${n}`,...t)}}function No(n,...e){if(va.logLevel<=Ue.WARN){const t=e.map(wg);va.warn(`Firestore (${Bo}): ${n}`,...t)}}function wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,yx(n,i,t)}function yx(n,e,t){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw _i(i),new Error(i)}function Ke(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||yx(e,a,i)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class kO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VO{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new _x(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class LO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new LO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Lp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return rp(a)===rp(l)?je(a,l):rp(a)?1:-1}return je(n.length,e.length)}const BO=55296,qO=57343;function rp(n){const e=n.charCodeAt(0);return e>=BO&&e<=qO}function Po(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=xr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const i=xr.isNumericId(e),a=xr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?xr.extractNumericId(e).compare(xr.extractNumericId(t)):Lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class it extends xr{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new it(t)}static emptyPath(){return new it([])}}const HO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xr{construct(e,t,i){return new $t(e,t,i)}static isValidIdentifier(e){return HO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new $t([yE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(it.fromString(e))}static fromName(e){return new be(it.fromString(e).popFirst(5))}static empty(){return new be(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FO(n,e,t,i){if(e===!0&&i===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _E(n){if(!be.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vE(n){if(be.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ex(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ag(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ag(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,e){const t={typeString:n};return e&&(t.value=e),t}function zu(n,e){if(!Ex(n))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ve(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,bE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bE);return new st(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EE)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new st(0,0))}static max(){return new Ie(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function GO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new st(t+1,0):new st(t,i));return new gs(a,be.empty(),e)}function KO(n){return new gs(n.readTime,n.key,xu)}class gs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new gs(Ie.min(),be.empty(),xu)}static max(){return new gs(Ie.max(),be.empty(),xu)}}function $O(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==YO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(_=>{c[p]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new ae((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function XO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function yf(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function WO(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="";function ZO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xE(e)),e=JO(n.get(t),e);return xE(e)}function JO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case bx:t+="";break;default:t+=l}}return t}function xE(n){return n+bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=a??Kt.EMPTY,this.right=l??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Kt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Kt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new In([])}unionWith(e){let t=new Mt($t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Tx("Invalid base64 string: "+l):l}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const eN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=eN.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="server_timestamp",Sx="__type__",Ax="__previous_value__",Rx="__local_write_time__";function Ig(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Sx])==null?void 0:i.stringValue)===wx}function _f(n){const e=n.mapValue.fields[Ax];return Ig(e)?_f(e):e}function Tu(n){const e=ys(n.mapValue.fields[Rx].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,i,a,l,c,d,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const Kh="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="__type__",nN="__max__",yh={mapValue:{}},Cx="__vector__",$h="value";function vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:iN(n)?9007199254740991:rN(n)?10:11:Ae(28295,{value:n})}function Mr(n,e){if(n===e)return!0;const t=vs(n);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ys(a.timestampValue),d=ys(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return _s(a.bytesValue).isEqual(_s(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return bt(a.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(a.geoPointValue.longitude)===bt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return bt(a.integerValue)===bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=bt(a.doubleValue),d=bt(l.doubleValue);return c===d?Gh(c)===Gh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Po(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(TE(c)!==TE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mr(c[m],d[m])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function Su(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function Do(n,e){if(n===e)return 0;const t=vs(n),i=vs(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=bt(l.integerValue||l.doubleValue),m=bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return SE(n.timestampValue,e.timestampValue);case 4:return SE(Tu(n),Tu(e));case 5:return Lp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=_s(l),m=_s(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=je(d[p],m[p]);if(_!==0)return _}return je(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=je(bt(l.latitude),bt(c.latitude));return d!==0?d:je(bt(l.longitude),bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var x,R,I,k;const d=l.fields||{},m=c.fields||{},p=(x=d[$h])==null?void 0:x.arrayValue,_=(R=m[$h])==null?void 0:R.arrayValue,v=je(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((k=_==null?void 0:_.values)==null?void 0:k.length)||0);return v!==0?v:AE(p,_)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===yh.mapValue&&c===yh.mapValue)return 0;if(l===yh.mapValue)return 1;if(c===yh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let v=0;v<m.length&&v<_.length;++v){const x=Lp(m[v],_[v]);if(x!==0)return x;const R=Do(d[m[v]],p[_[v]]);if(R!==0)return R}return je(m.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function SE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=ys(n),i=ys(e),a=je(t.seconds,i.seconds);return a!==0?a:je(t.nanos,i.nanos)}function AE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Do(t[a],i[a]);if(l)return l}return je(t.length,i.length)}function Mo(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ys(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _s(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Up(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Up(t.fields[c])}`;return a+"}"}(n.mapValue):Ae(61005,{value:n})}function Ih(n){switch(vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(n);return e?16+Ih(e):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Ih(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ss(i.fields,(l,c)=>{a+=l.length+Ih(c)}),a}(n.mapValue);default:throw Ae(13486,{value:n})}}function jp(n){return!!n&&"integerValue"in n}function Cg(n){return!!n&&"arrayValue"in n}function RE(n){return!!n&&"nullValue"in n}function IE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ch(n){return!!n&&"mapValue"in n}function rN(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Ix])==null?void 0:i.stringValue)===Cx}function pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ss(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=pu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pu(n.arrayValue.values[t]);return e}return{...n}}function iN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(t)}setAll(e){let t=$t.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=pu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ss(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new yn(pu(this.value))}}function Ox(n){const e=[];return Ss(n.fields,(t,i)=>{const a=new $t([t]);if(Ch(i)){const l=Ox(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,Ie.min(),Ie.min(),Ie.min(),yn.empty(),0)}static newFoundDocument(e,t,i,a){return new nn(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new nn(e,2,t,Ie.min(),Ie.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ie.min(),Ie.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function CE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=Do(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function OE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function sN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{}class Dt extends Nx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new oN(e,t,i):t==="array-contains"?new cN(e,i):t==="in"?new hN(e,i):t==="not-in"?new fN(e,i):t==="array-contains-any"?new dN(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new lN(e,i):new uN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Do(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends Nx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new kr(e,t)}matches(e){return Px(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Px(n){return n.op==="and"}function Dx(n){return aN(n)&&Px(n)}function aN(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function zp(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Mo(n.value);if(Dx(n))return n.filters.map(e=>zp(e)).join(",");{const e=n.filters.map(t=>zp(t)).join(",");return`${n.op}(${e})`}}function Mx(n,e){return n instanceof Dt?function(i,a){return a instanceof Dt&&i.op===a.op&&i.field.isEqual(a.field)&&Mr(i.value,a.value)}(n,e):n instanceof kr?function(i,a){return a instanceof kr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&Mx(c,a.filters[d]),!0):!1}(n,e):void Ae(19439)}function kx(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(kx).join(" ,")+"}"}(n):"Filter"}class oN extends Dt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class lN extends Dt{constructor(e,t){super(e,"in",t),this.keys=Vx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uN extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=Vx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vx(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class cN extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Su(t.arrayValue,this.value)}}class hN extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class fN extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Su(this.value.arrayValue,t)}}class dN extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function NE(n,e=null,t=[],i=[],a=null,l=null,c=null){return new mN(n,e,t,i,a,l,c)}function Og(n){const e=Oe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mo(i)).join(",")),e.Te=t}return e.Te}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OE(n.startAt,e.startAt)&&OE(n.endAt,e.endAt)}function Bp(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pN(n,e,t,i,a,l,c,d){return new vf(n,e,t,i,a,l,c,d)}function Pg(n){return new vf(n)}function PE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gN(n){return n.collectionGroup!==null}function gu(n){const e=Oe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Mt($t.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qh(l,i))}),t.has($t.keyField().canonicalString())||e.Ie.push(new Qh($t.keyField(),i))}return e.Ie}function Ir(n){const e=Oe(n);return e.Ee||(e.Ee=yN(e,gu(n))),e.Ee}function yN(n,e){if(n.limitType==="F")return NE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Qh(a.field,l)});const t=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return NE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function qp(n,e,t){return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ef(n,e){return Ng(Ir(n),Ir(e))&&n.limitType===e.limitType}function Lx(n){return`${Og(Ir(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>kx(a)).join(", ")}]`),yf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Mo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Mo(a)).join(",")),`Target(${i})`}(Ir(n))}; limitType=${n.limitType})`}function bf(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of gu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const p=CE(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,gu(i),a)||i.endAt&&!function(c,d,m){const p=CE(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,gu(i),a))}(n,e)}function _N(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ux(n){return(e,t)=>{let i=!1;for(const a of gu(n)){const l=vN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function vN(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Do(m,p):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return xx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ct(be.comparator);function vi(){return EN}const jx=new ct(be.comparator);function cu(...n){let e=jx;for(const t of n)e=e.insert(t.key,t);return e}function zx(n){let e=jx;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ha(){return yu()}function Bx(){return yu()}function yu(){return new Aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const bN=new ct(be.comparator),xN=new Mt(be.comparator);function ze(...n){let e=xN;for(const t of n)e=e.add(t);return e}const TN=new Mt(je);function wN(){return TN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function qx(n){return{integerValue:""+n}}function SN(n,e){return WO(e)?qx(e):Dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function AN(n,e,t){return n instanceof Au?function(a,l){const c={fields:{[Sx]:{stringValue:wx},[Rx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ig(l)&&(l=_f(l)),l&&(c.fields[Ax]=l),{mapValue:c}}(t,e):n instanceof Ru?Fx(n,e):n instanceof Iu?Gx(n,e):function(a,l){const c=Hx(a,l),d=DE(c)+DE(a.Ae);return jp(c)&&jp(a.Ae)?qx(d):Dg(a.serializer,d)}(n,e)}function RN(n,e,t){return n instanceof Ru?Fx(n,e):n instanceof Iu?Gx(n,e):t}function Hx(n,e){return n instanceof Xh?function(i){return jp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Au extends xf{}class Ru extends xf{constructor(e){super(),this.elements=e}}function Fx(n,e){const t=Kx(e);for(const i of n.elements)t.some(a=>Mr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Iu extends xf{constructor(e){super(),this.elements=e}}function Gx(n,e){let t=Kx(e);for(const i of n.elements)t=t.filter(a=>!Mr(a,i));return{arrayValue:{values:t}}}class Xh extends xf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function DE(n){return bt(n.integerValue||n.doubleValue)}function Kx(n){return Cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.field=e,this.transform=t}}function CN(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Ru&&a instanceof Ru||i instanceof Iu&&a instanceof Iu?Po(i.elements,a.elements,Mr):i instanceof Xh&&a instanceof Xh?Mr(i.Ae,a.Ae):i instanceof Au&&a instanceof Au}(n.transform,e.transform)}class ON{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tf{}function $x(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qx(n.key,rr.none()):new Bu(n.key,n.data,rr.none());{const t=n.data,i=yn.empty();let a=new Mt($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new As(n.key,i,new In(a.toArray()),rr.none())}}function NN(n,e,t){n instanceof Bu?function(a,l,c){const d=a.value.clone(),m=kE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof As?function(a,l,c){if(!Oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=kE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Yx(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function _u(n,e,t,i){return n instanceof Bu?function(l,c,d,m){if(!Oh(l.precondition,c))return d;const p=l.value.clone(),_=VE(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof As?function(l,c,d,m){if(!Oh(l.precondition,c))return d;const p=VE(l.fieldTransforms,m,c),_=c.data;return _.setAll(Yx(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(l,c,d){return Oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function PN(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=Hx(i.transform,a||null);l!=null&&(t===null&&(t=yn.empty()),t.set(i.field,l))}return t||null}function ME(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Po(i,a,(l,c)=>CN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bu extends Tf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class As extends Tf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kE(n,e,t){const i=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,RN(c,d,t[a]))}return i}function VE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,AN(l,c,e))}return i}class Qx extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&NN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Bx();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=$x(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(t,i)=>ME(t,i))&&Po(this.baseMutations,e.baseMutations,(t,i)=>ME(t,i))}}class Mg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return bN}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Mg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function LN(n){switch(n){case oe.OK:return Ae(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function Xx(n){if(n===void 0)return _i("GRPC error has no .code"),oe.UNKNOWN;switch(n){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return Ae(39323,{code:n})}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new fs([4294967295,4294967295],0);function LE(n){const e=UN().encode(n),t=new hx;return t.update(e),new Uint8Array(t.digest())}function UE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fs([t,i],0),new fs([a,l],0)]}class kg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hu(`Invalid padding: ${t}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(fs.fromNumber(i)));return a.compare(jN)===1&&(a=new fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=LE(e),[i,a]=UE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new kg(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=LE(e),[i,a]=UE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new wf(Ie.min(),a,new ct(je),vi(),ze())}}class qu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qu(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class Wx{constructor(e,t){this.targetId=e,this.Ce=t}}class Zx{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class jE{constructor(){this.ve=0,this.Fe=zE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),i=ze();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}}),new qu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=zE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zN{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.Je=_h(),this.He=_h(),this.Ye=new ct(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Bp(l))if(i===0){const c=new be(l.path);this.et(t,c,nn.newNoDocument(c,Ie.min()))}else Ke(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=_s(i).toUint8Array()}catch(m){if(m instanceof Tx)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new kg(c,a,l)}catch(m){return No(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Bp(d.target)){const m=new be(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,nn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=ze();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new wf(e,t,this.Ye,this.je,i);return this.je=vi(),this.Je=_h(),this.He=_h(),this.Ye=new ct(je),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new jE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Mt(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Mt(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _h(){return new ct(be.comparator)}function zE(){return new ct(be.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class FN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hp(n,e){return n.useProto3Json||yf(e)?e:{value:e}}function Wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GN(n,e){return Wh(n,e.toTimestamp())}function Cr(n){return Ke(!!n,49232),Ie.fromTimestamp(function(t){const i=ys(t);return new st(i.seconds,i.nanos)}(n))}function Vg(n,e){return Fp(n,e).canonicalString()}function Fp(n,e){const t=function(a){return new it(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function eT(n){const e=it.fromString(n);return Ke(sT(e),10190,{key:e.toString()}),e}function Gp(n,e){return Vg(n.databaseId,e.path)}function ip(n,e){const t=eT(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(nT(t))}function tT(n,e){return Vg(n.databaseId,e)}function KN(n){const e=eT(n);return e.length===4?it.emptyPath():nT(e)}function Kp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nT(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BE(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function $N(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=p.code===void 0?oe.UNKNOWN:Xx(p.code);return new ve(_,p.message||"")}(c);t=new Zx(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=ip(n,i.document.name),l=Cr(i.document.updateTime),c=i.document.createTime?Cr(i.document.createTime):Ie.min(),d=new yn({mapValue:{fields:i.document.fields}}),m=nn.newFoundDocument(a,l,c,d),p=i.targetIds||[],_=i.removedTargetIds||[];t=new Nh(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=ip(n,i.document),l=i.readTime?Cr(i.readTime):Ie.min(),c=nn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Nh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=ip(n,i.document),l=i.removedTargetIds||[];t=new Nh([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new VN(a,l),d=i.targetId;t=new Wx(d,c)}}return t}function YN(n,e){let t;if(e instanceof Bu)t={update:BE(n,e.key,e.value)};else if(e instanceof Qx)t={delete:Gp(n,e.key)};else if(e instanceof As)t={update:BE(n,e.key,e.data),updateMask:r4(e.fieldMask)};else{if(!(e instanceof DN))return Ae(16599,{Vt:e.type});t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:GN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function QN(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Cr(a.updateTime):Cr(l);return c.isEqual(Ie.min())&&(c=Cr(l)),new ON(c,a.transformResults||[])}(t,e))):[]}function XN(n,e){return{documents:[tT(n,e.path)]}}function WN(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=tT(n,a);const l=function(p){if(p.length!==0)return iT(kr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(_=>function(x){return{field:xo(x.field),direction:e4(x.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Hp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:a}}function ZN(n){let e=KN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ke(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(v){const x=rT(v);return x instanceof kr&&Dx(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(v){return v.map(x=>function(I){return new Qh(To(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(t.orderBy));let d=null;t.limit&&(d=function(v){let x;return x=typeof v=="object"?v.value:v,yf(x)?null:x}(t.limit));let m=null;t.startAt&&(m=function(v){const x=!!v.before,R=v.values||[];return new Yh(R,x)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const x=!v.before,R=v.values||[];return new Yh(R,x)}(t.endAt)),pN(e,a,c,l,d,"F",m,p)}function JN(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=To(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=To(t.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=To(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(To(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(i=>rT(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function e4(n){return BN[n]}function t4(n){return qN[n]}function n4(n){return HN[n]}function xo(n){return{fieldPath:n.canonicalString()}}function To(n){return $t.fromServerFormat(n.fieldPath)}function iT(n){return n instanceof Dt?function(t){if(t.op==="=="){if(IE(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(RE(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IE(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(RE(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:t4(t.op),value:t.value}}}(n):n instanceof kr?function(t){const i=t.getFilters().map(a=>iT(a));return i.length===1?i[0]:{compositeFilter:{op:n4(t.op),filters:i}}}(n):Ae(54877,{filter:n})}function r4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,i,a,l=Ie.min(),c=Ie.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.yt=e}}function s4(n){const e=ZN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Cn=new o4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(gs.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class o4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Mt(it.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(aT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LruGarbageCollector",l4=1048576;function FE([n,e],[t,i]){const a=je(n,t);return a===0?je(e,i):a}class u4{constructor(e){this.Ir=e,this.buffer=new Mt(FE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();FE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(HE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?pe(HE,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Vr(3e5)})}}class h4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(gf.ce);const i=new u4(t);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(qE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(i=v,d=Date.now(),this.removeTargets(e,i,t))).next(v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),Eo()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function f4(n,e){return new h4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&_u(i.mutation,a,In.empty(),st.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=ha();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=cu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ha();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=vi();const c=yu(),d=function(){return yu()}();return t.forEach((m,p)=>{const _=i.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof As)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),_u(_.mutation,p,_.mutation.getFieldMask(),st.now())):c.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,_)=>c.set(p,_)),t.forEach((p,_)=>d.set(p,new m4(_,c.get(p)??null))),d))}recalculateAndSaveOverlays(e,t){const i=yu();let a=new ct((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let _=i.get(m)||In.empty();_=d.applyToLocalView(p,_),i.set(m,_);const v=(a.get(d.batchId)||ze()).add(m);a=a.insert(d.batchId,v)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,v=Bx();_.forEach(x=>{if(!l.has(x)){const R=$x(t.get(x),i.get(x));R!==null&&v.set(x,R),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(ha());let d=xu,m=l;return c.next(p=>ae.forEach(p,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{m=m.insert(_,x)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,ze())).next(_=>({batchId:d,changes:zx(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let a=cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const p=function(v,x){return new vf(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(_=>{_.forEach((v,x)=>{c=c.insert(v,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))});let d=cu();return c.forEach((m,p)=>{const _=l.get(m);_!==void 0&&_u(_.mutation,p,In.empty(),st.now()),bf(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Cr(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:s4(a.bundledQuery),readTime:Cr(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.overlays=new ct(be.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ha();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=ha(),l=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new ct((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=l.get(p.largestBatchId);_===null&&(_=ha(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=ha(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=a)););return ae.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new kN(t,i));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Qr=new Mt(Bt.$r),this.Ur=new Mt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Bt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new be(new it([])),i=new Bt(t,e),a=new Bt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new it([])),i=new Bt(t,e),a=new Bt(t,e+1);let l=ze();return this.Ur.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Bt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Bt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MN(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Rg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Bt(t,0),a=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(je);return t.forEach(a=>{const l=new Bt(a,0),c=new Bt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{i=i.add(d.Yr)})}),ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Bt(new be(l),0);let d=new Mt(je);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)},c),ae.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ae.forEach(t.mutations,a=>{const l=new Bt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Bt(t,0),a=this.Zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.ri=e,this.docs=function(){return new ct(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let i=vi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=vi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||$O(KO(_),i)<=0||(a.has(_.key)||bf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ae(9500)}ii(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new b4(this)}getSize(e){return ae.resolve(this.size)}}class b4 extends d4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.persistence=e,this.si=new Aa(t=>Og(t),Ng),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,t){return this.si.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.ui={},this.overlays={},this.ci=new gf(0),this.li=!1,this.li=!0,this.hi=new _4,this.referenceDelegate=e(this),this.Pi=new x4(this),this.indexManager=new a4,this.remoteDocumentCache=function(a){return new E4(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new i4(t),this.Ii=new g4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new v4(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new T4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class T4 extends QO{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Ri=new Lg,this.Vi=null}static mi(e){return new Ug(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,i=>{const a=be.fromPath(i);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.pi=new Aa(i=>ZO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=f4(this,t)}static mi(e,t){return new Zh(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}br(e,t,i){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new jg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nR()?8:XO(sn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new w4;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,i,a){return i.documentReadCount<this.fs?(Eo()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Eo()<=Ue.DEBUG&&pe("QueryEngine","Query:",bo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Eo()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):ae.resolve())}ys(e,t){if(PE(t))return ae.resolve(null);let i=Ir(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=qp(t,null,"F"),i=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.Ds(t,d);return this.Cs(t,p,c,m.readTime)?this.ys(e,qp(t,null,"F")):this.vs(e,p,t,m)}))})))}ws(e,t,i,a){return PE(t)||a.isEqual(Ie.min())?ae.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?ae.resolve(null):(Eo()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bo(t)),this.vs(e,c,t,GO(a,xu)).next(d=>d))})}Ds(e,t){let i=new Mt(Ux(e));return t.forEach((a,l)=>{bf(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Eo()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ps.getDocumentsMatchingQuery(e,t,gs.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",A4=3e8;class R4{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new ct(je),this.xs=new Aa(l=>Og(l),Ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function I4(n,e,t,i){return new R4(n,e,t,i)}async function lT(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=ze();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:d}))})})}function C4(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,p,_){const v=p.batch,x=v.keys();let R=ae.resolve();return x.forEach(I=>{R=R.next(()=>_.getEntry(m,I)).next(k=>{const N=p.docVersions.get(I);Ke(N!==null,48541),k.version.compareTo(N)<0&&(v.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),_.addEntry(k)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,v))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function uT(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function O4(n,e){const t=Oe(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach((_,v)=>{const x=a.get(v);if(!x)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,v).next(()=>t.Pi.addMatchingKeys(l,_.addedDocuments,v)));let R=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(Qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),a=a.insert(v,R),function(k,N,L){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=A4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(x,R,_)&&d.push(t.Pi.updateTargetData(l,R))});let m=vi(),p=ze();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(N4(l,c,e.documentUpdates).next(_=>{m=_.ks,p=_.qs})),!i.isEqual(Ie.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next(v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ms=a,l))}function N4(n,e,t){let i=ze(),a=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=vi();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):pe(zg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function P4(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Rg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function D4(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Pi.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):t.Pi.allocateTargetId(i).next(c=>(a=new us(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function $p(n,e,t){const i=Oe(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ho(c))throw c;pe(zg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function GE(n,e,t){const i=Oe(n);let a=Ie.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,_){const v=Oe(m),x=v.xs.get(_);return x!==void 0?ae.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,_)}(i,c,Ir(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Ie.min(),t?l:ze())).next(d=>(M4(i,_N(e),d),{documents:d,Qs:l})))}function M4(n,e,t){let i=n.Os.get(e)||Ie.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class KE{constructor(){this.activeTargetIds=wN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k4{constructor(){this.Mo=new KE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class YE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe($E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Yp(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",L4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Kh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Yp(),d=this.zo(e,t.toUriEncodedString());pe(sp,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),_=Ta(p);return this.Jo(e,d,m,i,_).then(v=>(pe(sp,`Received RPC '${e}' ${c}: `,v),v),v=>{throw No(sp,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",i),v})}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const i=L4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class z4 extends U4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Yp();return new Promise((d,m)=>{const p=new fx;p.setWithCredentials(!0),p.listenOnce(dx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Rh.NO_ERROR:const v=p.getResponseJson();pe(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Rh.TIMEOUT:pe(en,`RPC '${e}' ${c} timed out`),m(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const x=p.getStatus();if(pe(en,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const k=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN}(I.status);m(new ve(k,I.message))}else m(new ve(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(en,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);pe(en,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",_,i,15)})}T_(e,t,i){const a=Yp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gx(),d=px(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");pe(en,`Creating RPC '${e}' stream ${a}: ${_}`,m);const v=c.createWebChannel(_,m);this.I_(v);let x=!1,R=!1;const I=new j4({Yo:N=>{R?pe(en,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(x||(pe(en,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),pe(en,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),k=(N,L,q)=>{N.listen(L,j=>{try{q(j)}catch($){setTimeout(()=>{throw $},0)}})};return k(v,uu.EventType.OPEN,()=>{R||(pe(en,`RPC '${e}' stream ${a} transport opened.`),I.o_())}),k(v,uu.EventType.CLOSE,()=>{R||(R=!0,pe(en,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(v))}),k(v,uu.EventType.ERROR,N=>{R||(R=!0,No(en,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),I.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),k(v,uu.EventType.MESSAGE,N=>{var L;if(!R){const q=N.data[0];Ke(!!q,16349);const j=q,$=(j==null?void 0:j.error)||((L=j[0])==null?void 0:L.error);if($){pe(en,`RPC '${e}' stream ${a} received error:`,$);const W=$.status;let le=function(C){const U=St[C];if(U!==void 0)return Xx(U)}(W),P=$.message;le===void 0&&(le=oe.INTERNAL,P="Unknown error status: "+W+" with message "+$.message),R=!0,I.a_(new ve(le,P)),v.close()}else pe(en,`RPC '${e}' stream ${a} received:`,q),I.u_(q)}}),k(d,mx.STAT_EVENT,N=>{N.stat===Vp.PROXY?pe(en,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Vp.NOPROXY&&pe(en,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n){return new FN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="PersistentStream";class hT{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===t&&this.G_(i,a)},i=>{e(()=>{const a=new ve(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pe(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(pe(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B4 extends hT{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$N(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Cr(c.readTime):Ie.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Kp(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Bp(m)?{documents:XN(l,m)}:{query:WN(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Jx(l,c.resumeToken);const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Wh(l,c.snapshotVersion.toTimestamp());const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=JN(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.q_(t)}}class q4 extends hT{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QN(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Kp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>YN(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{}class F4 extends H4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,Fp(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())})}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,Fp(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class G4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class K4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{Ra(this)&&(pe(Ea,"Restarting streams for network reachability change."),await async function(m){const p=Oe(m);p.Ea.add(4),await Hu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Af(p)}(this))})}),this.Ra=new G4(i,a)}}async function Af(n){if(Ra(n))for(const e of n.da)await e(!0)}async function Hu(n){for(const e of n.da)await e(!1)}function fT(n,e){const t=Oe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fg(t)?Hg(t):Fo(t).O_()&&qg(t,e))}function Bg(n,e){const t=Oe(n),i=Fo(t);t.Ia.delete(e),i.O_()&&dT(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ra(t)&&t.Ra.set("Unknown"))}function qg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(n).Y_(e)}function dT(n,e){n.Va.Ue(e),Fo(n).Z_(e)}function Hg(n){n.Va=new zN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Fo(n).start(),n.Ra.ua()}function Fg(n){return Ra(n)&&!Fo(n).x_()&&n.Ia.size>0}function Ra(n){return Oe(n).Ea.size===0}function mT(n){n.Va=void 0}async function $4(n){n.Ra.set("Online")}async function Y4(n){n.Ia.forEach((e,t)=>{qg(n,e)})}async function Q4(n,e){mT(n),Fg(n)?(n.Ra.ha(e),Hg(n)):n.Ra.set("Unknown")}async function X4(n,e,t){if(n.Ra.set("Online"),e instanceof Zx&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(n,e)}catch(i){pe(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jh(n,i)}else if(e instanceof Nh?n.Va.Ze(e):e instanceof Wx?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const i=await uT(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),dT(l,m);const v=new us(_.target,m,p,_.sequenceNumber);qg(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){pe(Ea,"Failed to raise snapshot:",i),await Jh(n,i)}}async function Jh(n,e,t){if(!Ho(e))throw e;n.Ea.add(1),await Hu(n),n.Ra.set("Offline"),t||(t=()=>uT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Ea,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Af(n)})}function pT(n,e){return e().catch(t=>Jh(n,t,e))}async function Rf(n){const e=Oe(n),t=Es(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rg;for(;W4(e);)try{const a=await P4(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,Z4(e,a)}catch(a){await Jh(e,a)}gT(e)&&yT(e)}function W4(n){return Ra(n)&&n.Ta.length<10}function Z4(n,e){n.Ta.push(e);const t=Es(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gT(n){return Ra(n)&&!Es(n).x_()&&n.Ta.length>0}function yT(n){Es(n).start()}async function J4(n){Es(n).ra()}async function eP(n){const e=Es(n);for(const t of n.Ta)e.ea(t.mutations)}async function tP(n,e,t){const i=n.Ta.shift(),a=Mg.from(i,e,t);await pT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Rf(n)}async function nP(n,e){e&&Es(n).X_&&await async function(i,a){if(function(c){return LN(c)&&c!==oe.ABORTED}(a.code)){const l=i.Ta.shift();Es(i).B_(),await pT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Rf(i)}}(n,e),gT(n)&&yT(n)}async function XE(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),pe(Ea,"RemoteStore received new credentials");const i=Ra(t);t.Ea.add(3),await Hu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Af(t)}async function rP(n,e){const t=Oe(n);e?(t.Ea.delete(2),await Af(t)):e||(t.Ea.add(2),await Hu(t),t.Ra.set("Unknown"))}function Fo(n){return n.ma||(n.ma=function(t,i,a){const l=Oe(t);return l.sa(),new B4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:$4.bind(null,n),t_:Y4.bind(null,n),r_:Q4.bind(null,n),H_:X4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Fg(n)?Hg(n):n.Ra.set("Unknown")):(await n.ma.stop(),mT(n))})),n.ma}function Es(n){return n.fa||(n.fa=function(t,i,a){const l=Oe(t);return l.sa(),new q4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:J4.bind(null,n),r_:nP.bind(null,n),ta:eP.bind(null,n),na:tP.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Rf(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Ea,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Gg(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(n,e){if(_i("AsyncQueue",`${e}: ${n}`),Ho(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=cu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Io;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.ga=new ct(be.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vo{constructor(e,t,i,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Vo(e,t,Io.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sP{constructor(){this.queries=ZE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Oe(t),l=a.queries;a.queries=ZE(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(i)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function ZE(){return new Aa(n=>Lx(n),Ef)}async function _T(n,e){const t=Oe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new iP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Kg(c,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&$g(t)}async function vT(n,e){const t=Oe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function aP(n,e){const t=Oe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&$g(t)}function oP(n,e,t){const i=Oe(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function $g(n){n.Ca.forEach(e=>{e.next()})}var Qp,JE;(JE=Qp||(Qp={})).Ma="default",JE.Cache="cache";class ET{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Ux(e),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new WE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,v)=>{const x=a.get(_),R=bf(this.query,v)?v:null,I=!!x&&this.mutatedKeys.has(x.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;x&&R?x.data.isEqual(R.data)?I!==k&&(i.track({type:3,doc:R}),N=!0):this.su(x,R)||(i.track({type:2,doc:R}),N=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!x&&R?(i.track({type:0,doc:R}),N=!0):x&&!R&&(i.track({type:1,doc:x}),N=!0,(m||p)&&(d=!0)),N&&(R?(c=c.add(R),l=k?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,v)=>function(R,I){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:N})}};return k(R)-k(I)}(_.type,v.type)||this.eu(_.doc,v.doc)),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Vo(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new xT(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new bT(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class uP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class cP{constructor(e){this.key=e,this.hu=!1}}class hP{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa(d=>Lx(d),Ef),this.Iu=new Map,this.Eu=new Set,this.du=new ct(be.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fP(n,e,t=!0){const i=IT(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await TT(i,e,t,!0),a}async function dP(n,e){const t=IT(n);await TT(t,e,!0,!1)}async function TT(n,e,t,i){const a=await D4(n.localStore,Ir(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await mP(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&fT(n.remoteStore,a),d}async function mP(n,e,t,i,a){n.pu=(v,x,R)=>async function(k,N,L,q){let j=N.view.ru(L);j.Cs&&(j=await GE(k.localStore,N.query,!1).then(({documents:P})=>N.view.ru(P,j)));const $=q&&q.targetChanges.get(N.targetId),W=q&&q.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(j,k.isPrimaryClient,$,W);return t1(k,N.targetId,le.au),le.snapshot}(n,v,x,R);const l=await GE(n.localStore,e,!0),c=new lP(e,l.Qs),d=c.ru(l.documents),m=qu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);t1(n,t,p.au);const _=new uP(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function pP(n,e,t){const i=Oe(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(c=>!Ef(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $p(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Bg(i.remoteStore,a.targetId),Xp(i,a.targetId)}).catch(qo)):(Xp(i,a.targetId),await $p(i.localStore,a.targetId,!0))}async function gP(n,e){const t=Oe(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Bg(t.remoteStore,i.targetId))}async function yP(n,e,t){const i=wP(n);try{const a=await function(c,d){const m=Oe(c),p=st.now(),_=d.reduce((R,I)=>R.add(I.key),ze());let v,x;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=vi(),k=ze();return m.Ns.getEntries(R,_).next(N=>{I=N,I.forEach((L,q)=>{q.isValidDocument()||(k=k.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,I)).next(N=>{v=N;const L=[];for(const q of d){const j=PN(q,v.get(q.key).overlayedDocument);j!=null&&L.push(new As(q.key,j,Ox(j.value.mapValue),rr.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,L,d)}).next(N=>{x=N;const L=N.applyToLocalDocumentSet(v,k);return m.documentOverlayCache.saveOverlays(R,N.batchId,L)})}).then(()=>({batchId:x.batchId,changes:zx(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new ct(je)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p}(i,a.batchId,t),await Fu(i,a.changes),await Rf(i.remoteStore)}catch(a){const l=Kg(a,"Failed to persist write");t.reject(l)}}async function wT(n,e){const t=Oe(n);try{const i=await O4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))}),await Fu(t,i,e)}catch(i){await qo(i)}}function e1(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Oe(c);m.onlineState=d;let p=!1;m.queries.forEach((_,v)=>{for(const x of v.Sa)x.va(d)&&(p=!0)}),p&&$g(m)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _P(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new ct(be.comparator);c=c.insert(l,nn.newNoDocument(l,Ie.min()));const d=ze().add(l),m=new wf(Ie.min(),new Map,new ct(je),c,d);await wT(i,m),i.du=i.du.remove(l),i.Au.delete(e),Qg(i)}else await $p(i.localStore,e,!1).then(()=>Xp(i,e,t)).catch(qo)}async function vP(n,e){const t=Oe(n),i=e.batch.batchId;try{const a=await C4(t.localStore,e);AT(t,i,null),ST(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fu(t,a)}catch(a){await qo(a)}}async function EP(n,e,t){const i=Oe(n);try{const a=await function(c,d){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next(v=>(Ke(v!==null,37113),_=v.keys(),m.mutationQueue.removeMutationBatch(p,v))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>m.localDocuments.getDocuments(p,_))})}(i.localStore,e);AT(i,e,t),ST(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fu(i,a)}catch(a){await qo(a)}}function ST(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function AT(n,e,t){const i=Oe(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Xp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||RT(n,i)})}function RT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Bg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Qg(n))}function t1(n,e,t){for(const i of t)i instanceof bT?(n.Ru.addReference(i.key,e),bP(n,i)):i instanceof xT?(pe(Yg,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||RT(n,i.key)):Ae(19791,{wu:i})}function bP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(pe(Yg,"New document in limbo: "+t),n.Eu.add(i),Qg(n))}function Qg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(it.fromString(e)),i=n.fu.next();n.Au.set(i,new cP(t)),n.du=n.du.insert(t,i),fT(n.remoteStore,new us(Ir(Pg(t.path)),i,"TargetPurposeLimboResolution",gf.ce))}}async function Fu(n,e,t){const i=Oe(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((d,m)=>{c.push(i.pu(m,e,t).then(p=>{var _;if((p||t)&&i.isPrimaryClient){const v=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=jg.As(m.targetId,p);l.push(v)}}))}),await Promise.all(c),i.Pu.H_(a),await async function(m,p){const _=Oe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ae.forEach(p,x=>ae.forEach(x.Es,R=>_.persistence.referenceDelegate.addReference(v,x.targetId,R)).next(()=>ae.forEach(x.ds,R=>_.persistence.referenceDelegate.removeReference(v,x.targetId,R)))))}catch(v){if(!Ho(v))throw v;pe(zg,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const R=_.Ms.get(x),I=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(I);_.Ms=_.Ms.insert(x,k)}}}(i.localStore,l))}async function xP(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){pe(Yg,"User change. New user:",e.toKey());const i=await lT(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new ve(oe.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fu(t,i.Ls)}}function TP(n,e){const t=Oe(n),i=t.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function IT(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_P.bind(null,e),e.Pu.H_=aP.bind(null,e.eventManager),e.Pu.yu=oP.bind(null,e.eventManager),e}function wP(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EP.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return I4(this.persistence,new S4,e.initialUser,this.serializer)}Cu(e){return new oT(Ug.mi,this.serializer)}Du(e){return new k4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class SP extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Zh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new c4(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new oT(i=>Zh.mi(i,t),this.serializer)}}class Wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xP.bind(null,this.syncEngine),await rP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sP}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),i=function(l){return new z4(l)}(e.databaseInfo);return function(l,c,d,m){return new F4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new K4(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>e1(this.syncEngine,t,0),function(){return YE.v()?new YE:new V4}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,_){const v=new hP(a,l,c,d,m,p);return _&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Oe(a);pe(Ea,"RemoteStore shutting down."),l.Ea.add(5),await Hu(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class AP{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=tn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Kg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function op(n,e){n.asyncQueue.verifyOperationInProgress(),pe(bs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await lT(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function n1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RP(n);pe(bs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>XE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>XE(e.remoteStore,a)),n._onlineComponents=e}async function RP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(bs,"Using user provided OfflineComponentProvider");try{await op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await op(n,new ef)}}else pe(bs,"Using default OfflineComponentProvider"),await op(n,new SP(void 0));return n._offlineComponents}async function OT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(bs,"Using user provided OnlineComponentProvider"),await n1(n,n._uninitializedComponentsProvider._online)):(pe(bs,"Using default OnlineComponentProvider"),await n1(n,new Wp))),n._onlineComponents}function IP(n){return OT(n).then(e=>e.syncEngine)}async function NT(n){const e=await OT(n),t=e.eventManager;return t.onListen=fP.bind(null,e.syncEngine),t.onUnlisten=pP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gP.bind(null,e.syncEngine),t}function CP(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new CT({next:x=>{_.Nu(),c.enqueueAndForget(()=>vT(l,v));const R=x.docs.has(d);!R&&x.fromCache?p.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&m&&m.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new ET(Pg(d.path),_,{includeMetadataChanges:!0,qa:!0});return _T(l,v)}(await NT(n),n.asyncQueue,e,t,i)),i.promise}function OP(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new CT({next:x=>{_.Nu(),c.enqueueAndForget(()=>vT(l,v)),x.fromCache&&m.source==="server"?p.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new ET(d,_,{includeMetadataChanges:!0,qa:!0});return _T(l,v)}(await NT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",i1=!0;class s1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=i1}else this.host=e.host,this.ssl=e.ssl??i1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new MO;switch(i.type){case"firstParty":return new UO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=r1.get(t);i&&(pe("ComponentProvider","Removing Datastore"),r1.delete(t),i.terminate())}(this),Promise.resolve()}}function NP(n,e,t,i={}){var p;n=Dr(n,If);const a=Ta(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(hg(`https://${d}`),fg("Firestore",!0)),l.host!==DT&&l.host!==d&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!pa(m,c)&&(n._setSettings(m),i.mockUserToken)){let _,v;if(typeof i.mockUserToken=="string")_=i.mockUserToken,v=tn.MOCK_USER;else{_=wb(i.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(x)}n._authCredentials=new kO(new _x(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cf(this.firestore,e,this._query)}}class Rt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(zu(t,Rt._jsonSchema))return new Rt(e,i||null,new be(it.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:At("string",Rt._jsonSchemaVersion),referencePath:At("string")};class ds extends Cf{constructor(e,t,i){super(e,t,Pg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new be(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function MT(n,e,...t){if(n=Yt(n),vx("collection","path",e),n instanceof If){const i=it.fromString(e,...t);return vE(i),new ds(n,null,i)}{if(!(n instanceof Rt||n instanceof ds))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return vE(i),new ds(n.firestore,null,i)}}function ba(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=Sg.newId()),vx("doc","path",e),n instanceof If){const i=it.fromString(e,...t);return _E(i),new Rt(n,null,new be(i))}{if(!(n instanceof Rt||n instanceof ds))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return _E(i),new Rt(n.firestore,n instanceof ds?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class o1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const i=ap();i&&pe(a1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;pe(a1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",l1(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Gg.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:l1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function l1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Go extends If{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new o1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}}function PP(n,e){const t=typeof n=="object"?n:pg(),i=typeof n=="string"?n:Kh,a=ff(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=bb("firestore");l&&NP(a,...l)}return a}function Xg(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DP(n),n._firestoreClient}function DP(n){var i,a,l;const e=n._freezeSettings(),t=function(d,m,p,_){return new tN(d,m,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,PT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new AP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Qt.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:At("string",qn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:At("string",Or._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Nr(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:At("string",Nr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/^__.*__$/;class kP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class kT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class Wg{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&MP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sf(e)}Cc(e,t,i,a=!1){return new Wg({Ac:e,methodName:t,Dc:i,path:$t.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(n){const e=n._freezeSettings(),t=Sf(n._databaseId);return new VP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LT(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);ey("Data must be an object, but it was:",c,i);const d=UT(i,c);let m,p;if(l.merge)m=new In(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const x=Zp(e,v,t);if(!c.contains(x))throw new ve(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zT(_,x)||_.push(x)}m=new In(_),p=c.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,p=c.fieldTransforms;return new kP(new yn(d),m,p)}class Pf extends Nf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class Jg extends Nf{_toFieldTransform(e){return new IN(e.path,new Au)}isEqual(e){return e instanceof Jg}}function LP(n,e,t,i){const a=n.Cc(1,e,t);ey("Data must be an object, but it was:",a,i);const l=[],c=yn.empty();Ss(i,(m,p)=>{const _=ty(e,m,t);p=Yt(p);const v=a.yc(_);if(p instanceof Pf)l.push(_);else{const x=Df(p,v);x!=null&&(l.push(_),c.set(_,x))}});const d=new In(l);return new kT(c,d,a.fieldTransforms)}function UP(n,e,t,i,a,l){const c=n.Cc(1,e,t),d=[Zp(e,i,t)],m=[a];if(l.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(Zp(e,l[x])),m.push(l[x+1]);const p=[],_=yn.empty();for(let x=d.length-1;x>=0;--x)if(!zT(p,d[x])){const R=d[x];let I=m[x];I=Yt(I);const k=c.yc(R);if(I instanceof Pf)p.push(R);else{const N=Df(I,k);N!=null&&(p.push(R),_.set(R,N))}}const v=new In(p);return new kT(_,v,c.fieldTransforms)}function Df(n,e){if(jT(n=Yt(n)))return ey("Unsupported field value:",e,n),UT(n,e);if(n instanceof Nf)return function(i,a){if(!VT(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=Df(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SN(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=st.fromDate(i);return{timestampValue:Wh(a.serializer,l)}}if(i instanceof st){const l=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wh(a.serializer,l)}}if(i instanceof Or)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qn)return{bytesValue:Jx(a.serializer,i._byteString)};if(i instanceof Rt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Nr)return function(c,d){return{mapValue:{fields:{[Ix]:{stringValue:Cx},[$h]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dg(d.serializer,p)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${Ag(i)}`)}(n,e)}function UT(n,e){const t={};return xx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(n,(i,a)=>{const l=Df(a,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function jT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Or||n instanceof qn||n instanceof Rt||n instanceof Nf||n instanceof Nr)}function ey(n,e,t){if(!jT(t)||!Ex(t)){const i=Ag(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Zp(n,e,t){if((e=Yt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return ty(n,e);throw tf("Field path arguments must be of type string or ",n,!1,void 0,t)}const jP=new RegExp("[~\\*/\\[\\]]");function ty(n,e,t){if(e.search(jP)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Of(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ve(oe.INVALID_ARGUMENT,d+n+m)}function zT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zP extends BT{data(){return super.data()}}function qT(n,e){return typeof e=="string"?ty(n,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qP{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ss(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var i,a,l;const t=(l=(a=(i=e.fields)==null?void 0:i[$h].arrayValue)==null?void 0:a.values)==null?void 0:l.map(c=>bt(c.doubleValue));return new Nr(t)}convertGeoPoint(e){return new Or(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=_f(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=ys(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Ke(sT(i),9688,{name:e});const a=new wu(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(t)||_i(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends BT{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:At("string",da._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Ph extends da{data(e={}){return super.data(e)}}class Co{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new fu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ph(this._firestore,this._userDataWriter,i.key,i,new fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Ph(a._firestore,a._userDataWriter,d.doc.key,d.doc,new fu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:HP(d.type),doc:m,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){n=Dr(n,Rt);const e=Dr(n.firestore,Go);return CP(Xg(e),n._key).then(t=>YP(e,n,t))}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:At("string",Co._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class FT extends qP{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function FP(n){n=Dr(n,Cf);const e=Dr(n.firestore,Go),t=Xg(e),i=new FT(e);return BP(n._query),OP(t,n._query).then(a=>new Co(e,i,n,a))}function GP(n,e,t){n=Dr(n,Rt);const i=Dr(n.firestore,Go),a=HT(n.converter,e);return ny(i,[LT(Zg(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,rr.none())])}function KP(n,e,t,...i){n=Dr(n,Rt);const a=Dr(n.firestore,Go),l=Zg(a);let c;return c=typeof(e=Yt(e))=="string"||e instanceof Of?UP(l,"updateDoc",n._key,e,t,i):LP(l,"updateDoc",n._key,e),ny(a,[c.toMutation(n._key,rr.exists(!0))])}function $P(n,e){const t=Dr(n.firestore,Go),i=ba(n),a=HT(n.converter,e);return ny(t,[LT(Zg(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}function ny(n,e){return function(i,a){const l=new mi;return i.asyncQueue.enqueueAndForget(async()=>yP(await IP(i),a,l)),l.promise}(Xg(n),e)}function YP(n,e,t){const i=t.docs.get(e._key),a=new FT(n);return new da(n,a,e._key,i,new fu(t.hasPendingWrites,t.fromCache),e.converter)}function u1(){return new Jg("serverTimestamp")}(function(e,t=!0){(function(a){Bo=a})(wa),ga(new ps("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Go(new VO(i.getProvider("auth-internal")),new jO(c,i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(p.options.projectId,_)}(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Sr(mE,pE,e),Sr(mE,pE,"esm2020")})();var QP="firebase",XP="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(QP,XP,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebasestorage.googleapis.com",WP="storageBucket",ZP=2*60*1e3,JP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends zr{constructor(e,t,i=0){super(lp(e),`Firebase Storage: ${t} (${lp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function lp(n){return"storage/"+n}function eD(){const n="An unknown error occurred, please check the error payload for server response.";return new Br(Vr.UNKNOWN,n)}function tD(){return new Br(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nD(){return new Br(Vr.CANCELED,"User canceled the upload/download.")}function rD(n){return new Br(Vr.INVALID_URL,"Invalid URL '"+n+"'.")}function iD(n){return new Br(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function c1(n){return new Br(Vr.INVALID_ARGUMENT,n)}function KT(){return new Br(Vr.APP_DELETED,"The Firebase app was deleted.")}function sD(n){return new Br(Vr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=nr.makeFromUrl(e,t)}catch{return new nr(e,"")}if(i.path==="")return i;throw iD(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${_}/b/${a}/o${x}`,"i"),I={bucket:1,path:3},k=t===GT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",L=new RegExp(`^https?://${k}/${a}/${N}`,"i"),j=[{regex:d,indices:m,postModify:l},{regex:R,indices:I,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<j.length;$++){const W=j[$],le=W.regex.exec(e);if(le){const P=le[W.indices.bucket];let A=le[W.indices.path];A||(A=""),i=new nr(P,A),W.postModify(i);break}}if(i==null)throw rD(e);return i}}class aD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function _(...N){p||(p=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,n(R,m())},N)}function x(){l&&clearTimeout(l)}function R(N,...L){if(p){x();return}if(N){x(),_.call(null,N,...L);return}if(m()||c){x(),_.call(null,N,...L);return}i<64&&(i*=2);let j;d===1?(d=2,j=0):j=(i+Math.random())*1e3,v(j)}let I=!1;function k(N){I||(I=!0,x(),!p&&(a!==null?(N||(d=2),clearTimeout(a),v(0)):N||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,k(!0)},t),k}function lD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){return n!==void 0}function h1(n,e,t,i){if(i<e)throw c1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw c1(`Invalid value for '${n}'. Expected ${t} or less.`)}function cD(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var nf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(nf||(nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,i,a,l,c,d,m,p,_,v,x=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,k)=>{this.resolve_=I,this.reject_=k,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Eh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===nf.NO_ERROR,m=l.getStatus();if(!d||hD(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===nf.ABORT;i(!1,new Eh(!1,null,_));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new Eh(p,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());uD(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=eD();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?KT():nD();c(m)}else{const m=tD();c(m)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=oD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function dD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function yD(n,e,t,i,a,l,c=!0,d=!1){const m=cD(n.urlParams),p=n.url+m,_=Object.assign({},n.headers);return pD(_,e),dD(_,t),mD(_,l),gD(_,i),new fD(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function vD(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this._service=e,t instanceof nr?this._location=t:this._location=nr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rf(e,t)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vD(this._location.path)}get storage(){return this._service}get parent(){const e=_D(this._location.path);if(e===null)return null;const t=new nr(this._location.bucket,e);return new rf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw sD(e)}}function f1(n,e){const t=e==null?void 0:e[WP];return t==null?null:nr.makeFromBucketSpec(t,n)}function ED(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ta(e);a&&(hg(`https://${n.host}/b`),fg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:wb(l,n.app.options.projectId))}class bD{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=GT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZP,this._maxUploadRetryTime=JP,this._requests=new Set,a!=null?this._bucket=nr.makeFromBucketSpec(a,this._host):this._bucket=f1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=f1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){h1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){h1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new aD(KT());{const c=yD(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const d1="@firebase/storage",m1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="storage";function xD(n=pg(),e){n=Yt(n);const i=ff(n,$T).getImmediate({identifier:e}),a=bb("storage");return a&&TD(i,...a),i}function TD(n,e,t,i={}){ED(n,e,t,i)}function wD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new bD(t,i,a,e,wa)}function SD(){ga(new ps($T,wD,"PUBLIC").setMultipleInstances(!0)),Sr(d1,m1,""),Sr(d1,m1,"esm2020")}SD();const Ko={firebase:{apiKey:"AIzaSyAGk2MUf-VONzoA_A_vnocSsnnQ2k-EVvI",authDomain:"lgsongs-7.firebaseapp.com",projectId:"lgsongs-7",storageBucket:"lgsongs-7.firebasestorage.app",messagingSenderId:"271736756531",appId:"1:271736756531:web:224b5c89e82ace5e058646"},optionsCurrency:{currency:"CLP",locale:"es-CL",minimumFractionDigits:2,maximumFractionDigits:2},mp_publicKey:"TEST-72bc63de-42b7-4cfd-8c21-b93e401fd78c",backendUrl:"https://proyecto6-sgv2.onrender.com/api/v1/"},AD=Ko.firebase,ry=Rb(AD),Gu=PO(ry),xs=PP(ry);xD(ry);const RD=async({email:n,password:e})=>{try{const i=(await _C(Gu,n,e)).user,a=await Mf(ba(xs,"users",i.uid)),l=a.exists()?a.data():{};return{success:!0,user:{uid:i.uid,email:i.email,displayName:i.displayName,...l},token:await i.getIdToken()}}catch(t){throw console.error("Error al accesar la cuenta:",t),new Error(t.message||"Error al iniciar sesión")}},ID=async({nombre:n,apellido:e,pais:t,email:i,telefono:a,password:l,confirmPassword:c})=>{try{if(l!==c)throw new Error("Las contraseñas no coinciden");const m=(await yC(Gu,i,l)).user;return await ex(m,{displayName:`${n} ${e}`}),await GP(ba(xs,"users",m.uid),{nombre:n,apellido:e,pais:t,email:i,telefono:a,role:"user",createdAt:new Date,updatedAt:new Date}),{success:!0,user:{uid:m.uid,email:m.email,displayName:m.displayName,nombre:n,apellido:e,pais:t,telefono:a},token:await m.getIdToken()}}catch(d){throw console.error("Error al registrar el usuario:",d),new Error(d.message||"Error al registrar usuario")}},CD=async({nombre:n,apellido:e,pais:t,telefono:i})=>{try{const a=Gu.currentUser;if(!a)throw new Error("Usuario no autenticado");await ex(a,{displayName:`${n} ${e}`}),await KP(ba(xs,"users",a.uid),{nombre:n,apellido:e,pais:t,telefono:i,updatedAt:new Date});const c=(await Mf(ba(xs,"users",a.uid))).data();return{success:!0,user:{uid:a.uid,email:a.email,displayName:a.displayName,...c}}}catch(a){throw console.error("Error al actualizar el usuario:",a),new Error(a.message||"Error al actualizar usuario")}},YT=X.createContext(),OD={user:null,token:null,sessionData:null},ND=({children:n})=>{const[e,t]=X.useReducer(UA,OD),[i,a]=X.useState(!1);X.useEffect(()=>{const p=localStorage.getItem("token"),_=JSON.parse(localStorage.getItem("user")),v=JSON.parse(localStorage.getItem("session"));p&&_&&(t({type:"LOGIN",payload:{user:_,token:p}}),t({type:"SET_SESSION_DATA",payload:v}),a(!0))},[]);const l=async({email:p,password:_})=>{try{const v=await RD({email:p,password:_}),{token:x}=v,R=v.data;if(!x||!R)throw new Error("No se pudo iniciar sesión");const I={user:R,token:x};localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(R)),localStorage.setItem("session",JSON.stringify(I)),t({type:"SET_SESSION_DATA",payload:I}),a(!0),t({type:"LOGIN",payload:{user:R,token:x}})}catch(v){throw console.error("Error logging in:",v),new Error(v)}},c=async p=>{var _;try{const v=(_=e.user)==null?void 0:_.email;if(!v)throw new Error("No hay usuario logueado.");if(!(await CD({...p,email:v})).data)throw new Error("No se pudo actualizar el usuario");alert("Usuario actualizado correctamente, por favor inicie sesión nuevamente."),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("session"),a(!1),t({type:"UPDATE"})}catch(v){throw console.error("Error updating user:",v),new Error(v)}},d=async p=>{try{if(!(await ID(p)).data)throw new Error("No se pudo registrar el usuario");alert("Usuario registrado correctamente, por favor inicie sesión.")}catch(_){throw console.error("Error registering user:",_),new Error(_)}},m=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("session"),a(!1),t({type:"LOGOUT"})};return T.jsx(YT.Provider,{value:{user:e.user,token:e.token,login:l,update:c,register:d,logout:m,isAuthenticated:i},children:n})},$o=()=>X.useContext(YT);var QT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},p1=wr.createContext&&wr.createContext(QT),PD=["attr","size","title"];function DD(n,e){if(n==null)return{};var t=MD(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function MD(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function sf(){return sf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sf.apply(this,arguments)}function g1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function af(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(t),!0).forEach(function(i){kD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kD(n,e,t){return e=VD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VD(n){var e=LD(n,"string");return typeof e=="symbol"?e:e+""}function LD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XT(n){return n&&n.map((e,t)=>wr.createElement(e.tag,af({key:t},e.attr),XT(e.child)))}function kt(n){return e=>wr.createElement(UD,sf({attr:af({},n.attr)},e),XT(n.child))}function UD(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=DD(n,PD),d=a||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),wr.createElement("svg",sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:af(af({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&wr.createElement("title",null,l),n.children)};return p1!==void 0?wr.createElement(p1.Consumer,null,t=>e(t)):e(QT)}function jD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"},child:[]}]})(n)}function zD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M295.6 163.7c-5.1 5-5.1 13.3-.1 18.4l60.8 60.9H124.9c-7.1 0-12.9 5.8-12.9 13s5.8 13 12.9 13h231.3l-60.8 60.9c-5 5.1-4.9 13.3.1 18.4 5.1 5 13.2 5 18.3-.1l82.4-83c1.1-1.2 2-2.5 2.7-4.1.7-1.6 1-3.3 1-5 0-3.4-1.3-6.6-3.7-9.1l-82.4-83c-4.9-5.2-13.1-5.3-18.2-.3z"},child:[]}]})(n)}function BD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(n)}function qD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.8 438.3c-7.2-31.8-48.3-47.3-62.5-52.3-15.6-5.5-37.8-6.8-52.1-10-8.2-1.8-20.1-6.3-24.1-11.1s-1.6-49.3-1.6-49.3 7.4-11.5 11.4-21.7c4-10.1 8.4-37.9 8.4-37.9s8.2 0 11.1-14.4c3.1-15.7 8-21.8 7.4-33.5-.6-11.5-6.9-11.2-6.9-11.2s6.1-16.7 6.8-51.3c.9-41.1-31.3-81.6-89.6-81.6-59.1 0-90.6 40.5-89.7 81.6.8 34.6 6.7 51.3 6.7 51.3s-6.3-.3-6.9 11.2c-.6 11.7 4.3 17.8 7.4 33.5 2.8 14.4 11.1 14.4 11.1 14.4s4.4 27.8 8.4 37.9c4 10.2 11.4 21.7 11.4 21.7s2.4 44.5-1.6 49.3c-4 4.8-15.9 9.3-24.1 11.1-14.3 3.2-36.5 4.5-52.1 10-14.2 5-55.3 20.5-62.5 52.3-1.1 5 2.7 9.7 7.9 9.7H440c5.1 0 8.9-4.7 7.8-9.7z"},child:[]}]})(n)}function HD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48c-42.9 0-84.2 13-119.2 37.5-34.2 24-60.2 57.2-75.1 96.1L58 192h45.7l1.9-5c8.2-17.8 19.4-33.9 33.5-48 31.2-31.2 72.7-48.4 116.9-48.4s85.7 17.2 116.9 48.4c31.2 31.2 48.4 72.7 48.4 116.9 0 44.1-17.2 85.7-48.4 116.9-31.2 31.2-72.7 48.4-116.9 48.4-44.1 0-85.6-17.2-116.9-48.4-14-14-25.3-30.1-33.5-47.9l-1.9-5H58l3.6 10.4c14.9 38.9 40.9 72.1 75.1 96.1C171.8 451.1 213 464 256 464c114.7 0 208-93.3 208-208S370.7 48 256 48z"},child:[]},{tag:"path",attr:{d:"M48 277.4h189.7l-43.6 44.7L224 352l96-96-96-96-31 29.9 44.7 44.7H48v42.8z"},child:[]}]})(n)}function FD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}function GD(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 256c52.805 0 96-43.201 96-96s-43.195-96-96-96-96 43.201-96 96 43.195 96 96 96zm0 48c-63.598 0-192 32.402-192 96v48h384v-48c0-63.598-128.402-96-192-96zM112 224v-64H80v64H16v32h64v64h32v-64h64v-32h-64z"},child:[]}]})(n)}const y1=n=>{let e;const t=new Set,i=(p,_)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=_??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(R=>R(e,x))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>m,subscribe:p=>(t.add(p),()=>t.delete(p))},m=e=n(i,a,d);return d},KD=n=>n?y1(n):y1,$D=n=>n;function YD(n,e=$D){const t=wr.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return wr.useDebugValue(t),t}const _1=n=>{const e=KD(n),t=i=>YD(e,i);return Object.assign(t,e),t},QD=n=>n?_1(n):_1;function XD(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=m=>m===null?null:JSON.parse(m,void 0),d=(l=t.getItem(a))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const Jp=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Jp(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Jp(i)(t)}}}},WD=(n,e)=>(t,i,a)=>{let l={storage:XD(()=>localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...e},c=!1;const d=new Set,m=new Set;let p=l.storage;if(!p)return n((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...k)},i,a);const _=()=>{const k=l.partialize({...i()});return p.setItem(l.name,{state:k,version:l.version})},v=a.setState;a.setState=(k,N)=>{v(k,N),_()};const x=n((...k)=>{t(...k),_()},i,a);a.getInitialState=()=>x;let R;const I=()=>{var k,N;if(!p)return;c=!1,d.forEach(q=>{var j;return q((j=i())!=null?j:x)});const L=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(k=i())!=null?k:x))||void 0;return Jp(p.getItem.bind(p))(l.name).then(q=>{if(q)if(typeof q.version=="number"&&q.version!==l.version){if(l.migrate){const j=l.migrate(q.state,q.version);return j instanceof Promise?j.then($=>[!0,$]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,q.state];return[!1,void 0]}).then(q=>{var j;const[$,W]=q;if(R=l.merge(W,(j=i())!=null?j:x),t(R,!0),$)return _()}).then(()=>{L==null||L(R,void 0),R=i(),c=!0,m.forEach(q=>q(R))}).catch(q=>{L==null||L(void 0,q)})};return a.persist={setOptions:k=>{l={...l,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p==null||p.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>I(),hasHydrated:()=>c,onHydrate:k=>(d.add(k),()=>{d.delete(k)}),onFinishHydration:k=>(m.add(k),()=>{m.delete(k)})},l.skipHydration||I(),R||x},ZD=WD,JD=(n,e)=>{const t=n.filter(l=>l.id!==e),i=n.reduce((l,c)=>l+c.quantity,0),a=n.reduce((l,c)=>l+c.precio*c.quantity,0);return[t,i,a]},ms=QD(ZD((n,e)=>({products:[],totalItems:0,totalPrice:0,addItem:t=>{const i=e().products,a=i.find(l=>l._id===t._id);if(a){const l=i.map(c=>c._id===a._id?{...c,quantity:c.quantity+1}:c);n(c=>({products:l,totalItems:c.totalItems+1,totalPrice:c.totalPrice+t.precio}))}else{const l={...t,quantity:1};n(c=>({products:[...c.products,l],totalItems:c.totalItems+1,totalPrice:c.totalPrice+t.precio}))}},removeOneItem:t=>{const i=e().products,a=i.find(l=>l._id===t);if(a)if(a.quantity===1)n(l=>({products:l.products.filter(c=>c._id!==t),totalItems:l.totalItems-1,totalPrice:l.totalPrice-a.precio}));else{const l=i.map(c=>c._id===t?{...c,quantity:c.quantity-1}:c);n(c=>({products:l,totalItems:c.totalItems-1,totalPrice:c.totalPrice-a.precio}))}},removeItem:t=>{const i=e().products;if(!i.find(m=>m._id===t))return;const[l,c,d]=JD(i,t);n(()=>({products:l,totalItems:c,totalPrice:d}))},clearCart:()=>{n(()=>({products:[],totalItems:0,totalPrice:0}))}}),{name:"cart-storage",getStorage:()=>localStorage})),iy=(n,{currency:e="CLP",locale:t="es-CL",minimumFractionDigits:i=0,maximumFractionDigits:a=2}={})=>new Intl.NumberFormat(t,{style:"currency",currency:e,minimumFractionDigits:i,maximumFractionDigits:a}).format(n);var su={},v1;function e3(){if(v1)return su;v1=1,Object.defineProperty(su,"__esModule",{value:!0}),su.loadMercadoPago=void 0;const n="https://sdk.mercadopago.com/js/v2",e=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,t="MercadoPago has already been initialized in your window, please remove the duplicate import",i="MercadoPago.js not available",a="Failed to load MercadoPago.js",l=()=>{for(var p=document.querySelectorAll(`script[src^="${n}"`),_=0;_<p.length;_++){var v=p[_];if(e.test(v.src))return v}return null},c=()=>{const p=document.createElement("script");p.src=n;const _=document.head||document.body;if(!_)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return _.appendChild(p),p};let d=null;const m=()=>(d!==null||(d=new Promise((p,_)=>{if(typeof window>"u"){p(null);return}if(window.MercadoPago){console.warn(t),p(window.MercadoPago);return}try{let v=l();v?console.warn(t):v||(v=c()),v.addEventListener("load",()=>{window.MercadoPago?p(window.MercadoPago):_(new Error(i))}),v.addEventListener("error",()=>{_(new Error(a))})}catch(v){_(v);return}})),d);return su.loadMercadoPago=m,su}var t3=e3(),n3=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{p(i.next(_))}catch(v){c(v)}}function m(_){try{p(i.throw(_))}catch(v){c(v)}}function p(_){_.done?l(_.value):a(_.value).then(d,m)}p((i=i.apply(n,e||[])).next())})};class Tr{static getInstance(){return n3(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield t3.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}Tr.publicKey=null;Tr.options={};Tr.instanceMercadoPago=void 0;Tr.loadedInstanceMercadoPago=!1;function r3(n,e){return Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(i=>Object.prototype.hasOwnProperty.call(e,i)&&n[i]===e[i])}const i3=(n,e)=>{const t=Object.assign(Object.assign({},e),{frontEndStack:"react"}),i=!r3(Tr.options,t);(n!==Tr.publicKey||i)&&(Tr.publicKey=n,Tr.options=t,Tr.instanceMercadoPago=void 0)};var s3=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{p(i.next(_))}catch(v){c(v)}}function m(_){try{p(i.throw(_))}catch(v){c(v)}}function p(_){_.done?l(_.value):a(_.value).then(d,m)}p((i=i.apply(n,e||[])).next())})};const a3=()=>s3(void 0,void 0,void 0,function*(){}),o3=()=>{},l3=n=>{console.error(n)};var u3=function(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{p(i.next(_))}catch(v){c(v)}}function m(_){try{p(i.throw(_))}catch(v){c(v)}}function p(_){_.done?l(_.value):a(_.value).then(d,m)}p((i=i.apply(n,e||[])).next())})};const c3=({settings:n,name:e,containerId:t,controller:i})=>u3(void 0,void 0,void 0,function*(){const a=yield Tr.getInstance(),l=a==null?void 0:a.bricks();window[i]=yield l==null?void 0:l.create(e,t,n)}),h3=200,f3=({onReady:n=o3,onError:e=l3,onSubmit:t=a3,customization:i,initialization:a,locale:l,id:c="walletBrick_container"})=>(X.useEffect(()=>{const d={settings:{initialization:a,customization:i,locale:l,callbacks:{onReady:n,onSubmit:t,onError:e}},name:"wallet",containerId:c,controller:"walletBrickController"},m=setTimeout(()=>{c3(d)},h3);return()=>{var p;clearTimeout(m),(p=window.walletBrickController)===null||p===void 0||p.unmount()}},[i,a,n,e,t]),wr.createElement("div",{id:c}));function WT(n,e){return function(){return n.apply(e,arguments)}}const{toString:d3}=Object.prototype,{getPrototypeOf:sy}=Object,kf=(n=>e=>{const t=d3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),sr=n=>(n=n.toLowerCase(),e=>kf(e)===n),Vf=n=>e=>typeof e===n,{isArray:Yo}=Array,Cu=Vf("undefined");function m3(n){return n!==null&&!Cu(n)&&n.constructor!==null&&!Cu(n.constructor)&&Cn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ZT=sr("ArrayBuffer");function p3(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ZT(n.buffer),e}const g3=Vf("string"),Cn=Vf("function"),JT=Vf("number"),Lf=n=>n!==null&&typeof n=="object",y3=n=>n===!0||n===!1,Dh=n=>{if(kf(n)!=="object")return!1;const e=sy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_3=sr("Date"),v3=sr("File"),E3=sr("Blob"),b3=sr("FileList"),x3=n=>Lf(n)&&Cn(n.pipe),T3=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Cn(n.append)&&((e=kf(n))==="formdata"||e==="object"&&Cn(n.toString)&&n.toString()==="[object FormData]"))},w3=sr("URLSearchParams"),[S3,A3,R3,I3]=["ReadableStream","Request","Response","Headers"].map(sr),C3=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ku(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Yo(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let d;for(i=0;i<c;i++)d=l[i],e.call(null,n[d],d,n)}}function ew(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tw=n=>!Cu(n)&&n!==fa;function eg(){const{caseless:n}=tw(this)&&this||{},e={},t=(i,a)=>{const l=n&&ew(e,a)||a;Dh(e[l])&&Dh(i)?e[l]=eg(e[l],i):Dh(i)?e[l]=eg({},i):Yo(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ku(arguments[i],t);return e}const O3=(n,e,t,{allOwnKeys:i}={})=>(Ku(e,(a,l)=>{t&&Cn(a)?n[l]=WT(a,t):n[l]=a},{allOwnKeys:i}),n),N3=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),P3=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},D3=(n,e,t,i)=>{let a,l,c;const d={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)c=a[l],(!i||i(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&sy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},M3=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},k3=n=>{if(!n)return null;if(Yo(n))return n;let e=n.length;if(!JT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},V3=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&sy(Uint8Array)),L3=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},U3=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},j3=sr("HTMLFormElement"),z3=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),E1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),B3=sr("RegExp"),nw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ku(t,(a,l)=>{let c;(c=e(a,l,n))!==!1&&(i[l]=c||a)}),Object.defineProperties(n,i)},q3=n=>{nw(n,(e,t)=>{if(Cn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Cn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},H3=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return Yo(n)?i(n):i(String(n).split(e)),t},F3=()=>{},G3=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function K3(n){return!!(n&&Cn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const $3=n=>{const e=new Array(10),t=(i,a)=>{if(Lf(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=Yo(i)?[]:{};return Ku(i,(c,d)=>{const m=t(c,a+1);!Cu(m)&&(l[d]=m)}),e[a]=void 0,l}}return i};return t(n,0)},Y3=sr("AsyncFunction"),Q3=n=>n&&(Lf(n)||Cn(n))&&Cn(n.then)&&Cn(n.catch),rw=((n,e)=>n?setImmediate:e?((t,i)=>(fa.addEventListener("message",({source:a,data:l})=>{a===fa&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),fa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Cn(fa.postMessage)),X3=typeof queueMicrotask<"u"?queueMicrotask.bind(fa):typeof process<"u"&&process.nextTick||rw,te={isArray:Yo,isArrayBuffer:ZT,isBuffer:m3,isFormData:T3,isArrayBufferView:p3,isString:g3,isNumber:JT,isBoolean:y3,isObject:Lf,isPlainObject:Dh,isReadableStream:S3,isRequest:A3,isResponse:R3,isHeaders:I3,isUndefined:Cu,isDate:_3,isFile:v3,isBlob:E3,isRegExp:B3,isFunction:Cn,isStream:x3,isURLSearchParams:w3,isTypedArray:V3,isFileList:b3,forEach:Ku,merge:eg,extend:O3,trim:C3,stripBOM:N3,inherits:P3,toFlatObject:D3,kindOf:kf,kindOfTest:sr,endsWith:M3,toArray:k3,forEachEntry:L3,matchAll:U3,isHTMLForm:j3,hasOwnProperty:E1,hasOwnProp:E1,reduceDescriptors:nw,freezeMethods:q3,toObjectSet:H3,toCamelCase:z3,noop:F3,toFiniteNumber:G3,findKey:ew,global:fa,isContextDefined:tw,isSpecCompliantForm:K3,toJSONObject:$3,isAsyncFn:Y3,isThenable:Q3,setImmediate:rw,asap:X3};function Ne(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const iw=Ne.prototype,sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sw[n]={value:n}});Object.defineProperties(Ne,sw);Object.defineProperty(iw,"isAxiosError",{value:!0});Ne.from=(n,e,t,i,a,l)=>{const c=Object.create(iw);return te.toFlatObject(n,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),Ne.call(c,n.message,e,t,i,a),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const W3=null;function tg(n){return te.isPlainObject(n)||te.isArray(n)}function aw(n){return te.endsWith(n,"[]")?n.slice(0,-2):n}function b1(n,e,t){return n?n.concat(e).map(function(a,l){return a=aw(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function Z3(n){return te.isArray(n)&&!n.some(tg)}const J3=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Uf(n,e,t){if(!te.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=te.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,N){return!te.isUndefined(N[k])});const i=t.metaTokens,a=t.visitor||_,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function p(I){if(I===null)return"";if(te.isDate(I))return I.toISOString();if(!m&&te.isBlob(I))throw new Ne("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(I)||te.isTypedArray(I)?m&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function _(I,k,N){let L=I;if(I&&!N&&typeof I=="object"){if(te.endsWith(k,"{}"))k=i?k:k.slice(0,-2),I=JSON.stringify(I);else if(te.isArray(I)&&Z3(I)||(te.isFileList(I)||te.endsWith(k,"[]"))&&(L=te.toArray(I)))return k=aw(k),L.forEach(function(j,$){!(te.isUndefined(j)||j===null)&&e.append(c===!0?b1([k],$,l):c===null?k:k+"[]",p(j))}),!1}return tg(I)?!0:(e.append(b1(N,k,l),p(I)),!1)}const v=[],x=Object.assign(J3,{defaultVisitor:_,convertValue:p,isVisitable:tg});function R(I,k){if(!te.isUndefined(I)){if(v.indexOf(I)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(I),te.forEach(I,function(L,q){(!(te.isUndefined(L)||L===null)&&a.call(e,L,te.isString(q)?q.trim():q,k,x))===!0&&R(L,k?k.concat(q):[q])}),v.pop()}}if(!te.isObject(n))throw new TypeError("data must be an object");return R(n),e}function x1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ay(n,e){this._pairs=[],n&&Uf(n,this,e)}const ow=ay.prototype;ow.append=function(e,t){this._pairs.push([e,t])};ow.toString=function(e){const t=e?function(i){return e.call(this,i,x1)}:x1;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function e5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lw(n,e,t){if(!e)return n;const i=t&&t.encode||e5;te.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=te.isURLSearchParams(e)?e.toString():new ay(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class T1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const uw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t5=typeof URLSearchParams<"u"?URLSearchParams:ay,n5=typeof FormData<"u"?FormData:null,r5=typeof Blob<"u"?Blob:null,i5={isBrowser:!0,classes:{URLSearchParams:t5,FormData:n5,Blob:r5},protocols:["http","https","file","blob","url","data"]},oy=typeof window<"u"&&typeof document<"u",ng=typeof navigator=="object"&&navigator||void 0,s5=oy&&(!ng||["ReactNative","NativeScript","NS"].indexOf(ng.product)<0),a5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o5=oy&&window.location.href||"http://localhost",l5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oy,hasStandardBrowserEnv:s5,hasStandardBrowserWebWorkerEnv:a5,navigator:ng,origin:o5},Symbol.toStringTag,{value:"Module"})),rn={...l5,...i5};function u5(n,e){return Uf(n,new rn.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return rn.isNode&&te.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function c5(n){return te.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h5(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function cw(n){function e(t,i,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&te.isArray(a)?a.length:c,m?(te.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!d):((!a[c]||!te.isObject(a[c]))&&(a[c]=[]),e(t,i,a[c],l)&&te.isArray(a[c])&&(a[c]=h5(a[c])),!d)}if(te.isFormData(n)&&te.isFunction(n.entries)){const t={};return te.forEachEntry(n,(i,a)=>{e(c5(i),a,t,0)}),t}return null}function f5(n,e,t){if(te.isString(n))try{return(e||JSON.parse)(n),te.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const $u={transitional:uw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=te.isObject(e);if(l&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(cw(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return u5(e,this.formSerializer).toString();if((d=te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Uf(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),f5(e)):e}],transformResponse:[function(e){const t=this.transitional||$u.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(i&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ne.from(d,Ne.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],n=>{$u.headers[n]={}});const d5=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m5=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!t||e[t]&&d5[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},w1=Symbol("internals");function au(n){return n&&String(n).trim().toLowerCase()}function Mh(n){return n===!1||n==null?n:te.isArray(n)?n.map(Mh):String(n)}function p5(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const g5=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function up(n,e,t,i,a){if(te.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!te.isString(e)){if(te.isString(i))return e.indexOf(i)!==-1;if(te.isRegExp(i))return i.test(e)}}function y5(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function _5(n,e){const t=te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,c){return this[i].call(this,e,a,l,c)},configurable:!0})})}let _n=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(d,m,p){const _=au(m);if(!_)throw new Error("header name must be a non-empty string");const v=te.findKey(a,_);(!v||a[v]===void 0||p===!0||p===void 0&&a[v]!==!1)&&(a[v||m]=Mh(d))}const c=(d,m)=>te.forEach(d,(p,_)=>l(p,_,m));if(te.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(te.isString(e)&&(e=e.trim())&&!g5(e))c(m5(e),t);else if(te.isHeaders(e))for(const[d,m]of e.entries())l(m,d,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=au(e),e){const i=te.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return p5(a);if(te.isFunction(t))return t.call(this,a,i);if(te.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=au(e),e){const i=te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||up(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(c){if(c=au(c),c){const d=te.findKey(i,c);d&&(!t||up(i,i[d],d,t))&&(delete i[d],a=!0)}}return te.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||up(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return te.forEach(this,(a,l)=>{const c=te.findKey(i,l);if(c){t[c]=Mh(a),delete t[l];return}const d=e?y5(l):String(l).trim();d!==l&&delete t[l],t[d]=Mh(a),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return te.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&te.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[w1]=this[w1]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=au(c);i[d]||(_5(a,c),i[d]=!0)}return te.isArray(e)?e.forEach(l):l(e),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(_n.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});te.freezeMethods(_n);function cp(n,e){const t=this||$u,i=e||t,a=_n.from(i.headers);let l=i.data;return te.forEach(n,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function hw(n){return!!(n&&n.__CANCEL__)}function Qo(n,e,t){Ne.call(this,n??"canceled",Ne.ERR_CANCELED,e,t),this.name="CanceledError"}te.inherits(Qo,Ne,{__CANCEL__:!0});function fw(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Ne("Request failed with status code "+t.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v5(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function E5(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const p=Date.now(),_=i[l];c||(c=p),t[a]=m,i[a]=p;let v=l,x=0;for(;v!==a;)x+=t[v++],v=v%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),p-c<e)return;const R=_&&p-_;return R?Math.round(x*1e3/R):void 0}}function b5(n,e){let t=0,i=1e3/e,a,l;const c=(p,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,p)};return[(...p)=>{const _=Date.now(),v=_-t;v>=i?c(p,_):(a=p,l||(l=setTimeout(()=>{l=null,c(a)},i-v)))},()=>a&&c(a)]}const of=(n,e,t=3)=>{let i=0;const a=E5(50,250);return b5(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-i,p=a(m),_=c<=d;i=c;const v={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:p||void 0,estimated:p&&d&&_?(d-c)/p:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(v)},t)},S1=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},A1=n=>(...e)=>te.asap(()=>n(...e)),x5=rn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,rn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,T5=rn.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const c=[n+"="+encodeURIComponent(e)];te.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),te.isString(i)&&c.push("path="+i),te.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w5(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function S5(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function dw(n,e,t){let i=!w5(e);return n&&(i||t==!1)?S5(n,e):e}const R1=n=>n instanceof _n?{...n}:n;function xa(n,e){e=e||{};const t={};function i(p,_,v,x){return te.isPlainObject(p)&&te.isPlainObject(_)?te.merge.call({caseless:x},p,_):te.isPlainObject(_)?te.merge({},_):te.isArray(_)?_.slice():_}function a(p,_,v,x){if(te.isUndefined(_)){if(!te.isUndefined(p))return i(void 0,p,v,x)}else return i(p,_,v,x)}function l(p,_){if(!te.isUndefined(_))return i(void 0,_)}function c(p,_){if(te.isUndefined(_)){if(!te.isUndefined(p))return i(void 0,p)}else return i(void 0,_)}function d(p,_,v){if(v in e)return i(p,_);if(v in n)return i(void 0,p)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,_,v)=>a(R1(p),R1(_),v,!0)};return te.forEach(Object.keys(Object.assign({},n,e)),function(_){const v=m[_]||a,x=v(n[_],e[_],_);te.isUndefined(x)&&v!==d||(t[_]=x)}),t}const mw=n=>{const e=xa({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=_n.from(c),e.url=lw(dw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(te.isFormData(t)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[p,..._]=m?m.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",..._].join("; "))}}if(rn.hasStandardBrowserEnv&&(i&&te.isFunction(i)&&(i=i(e)),i||i!==!1&&x5(e.url))){const p=a&&l&&T5.read(l);p&&c.set(a,p)}return e},A5=typeof XMLHttpRequest<"u",R5=A5&&function(n){return new Promise(function(t,i){const a=mw(n);let l=a.data;const c=_n.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:p}=a,_,v,x,R,I;function k(){R&&R(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function L(){if(!N)return;const j=_n.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),W={data:!d||d==="text"||d==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:n,request:N};fw(function(P){t(P),k()},function(P){i(P),k()},W),N=null}"onloadend"in N?N.onloadend=L:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(L)},N.onabort=function(){N&&(i(new Ne("Request aborted",Ne.ECONNABORTED,n,N)),N=null)},N.onerror=function(){i(new Ne("Network Error",Ne.ERR_NETWORK,n,N)),N=null},N.ontimeout=function(){let $=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const W=a.transitional||uw;a.timeoutErrorMessage&&($=a.timeoutErrorMessage),i(new Ne($,W.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,n,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&te.forEach(c.toJSON(),function($,W){N.setRequestHeader(W,$)}),te.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),d&&d!=="json"&&(N.responseType=a.responseType),p&&([x,I]=of(p,!0),N.addEventListener("progress",x)),m&&N.upload&&([v,R]=of(m),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",R)),(a.cancelToken||a.signal)&&(_=j=>{N&&(i(!j||j.type?new Qo(null,n,N):j),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const q=v5(a.url);if(q&&rn.protocols.indexOf(q)===-1){i(new Ne("Unsupported protocol "+q+":",Ne.ERR_BAD_REQUEST,n));return}N.send(l||null)})},I5=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(p){if(!a){a=!0,d();const _=p instanceof Error?p:this.reason;i.abort(_ instanceof Ne?_:new Qo(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,l(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),n=null)};n.forEach(p=>p.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>te.asap(d),m}},C5=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},O5=async function*(n,e){for await(const t of N5(n))yield*C5(t,e)},N5=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},I1=(n,e,t,i)=>{const a=O5(n,e);let l=0,c,d=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:p,value:_}=await a.next();if(p){d(),m.close();return}let v=_.byteLength;if(t){let x=l+=v;t(x)}m.enqueue(new Uint8Array(_))}catch(p){throw d(p),p}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},jf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pw=jf&&typeof ReadableStream=="function",P5=jf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gw=(n,...e)=>{try{return!!n(...e)}catch{return!1}},D5=pw&&gw(()=>{let n=!1;const e=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),C1=64*1024,rg=pw&&gw(()=>te.isReadableStream(new Response("").body)),lf={stream:rg&&(n=>n.body)};jf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lf[e]&&(lf[e]=te.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,i)})})})(new Response);const M5=async n=>{if(n==null)return 0;if(te.isBlob(n))return n.size;if(te.isSpecCompliantForm(n))return(await new Request(rn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(te.isArrayBufferView(n)||te.isArrayBuffer(n))return n.byteLength;if(te.isURLSearchParams(n)&&(n=n+""),te.isString(n))return(await P5(n)).byteLength},k5=async(n,e)=>{const t=te.toFiniteNumber(n.getContentLength());return t??M5(e)},V5=jf&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:p,headers:_,withCredentials:v="same-origin",fetchOptions:x}=mw(n);p=p?(p+"").toLowerCase():"text";let R=I5([a,l&&l.toAbortSignal()],c),I;const k=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let N;try{if(m&&D5&&t!=="get"&&t!=="head"&&(N=await k5(_,i))!==0){let W=new Request(e,{method:"POST",body:i,duplex:"half"}),le;if(te.isFormData(i)&&(le=W.headers.get("content-type"))&&_.setContentType(le),W.body){const[P,A]=S1(N,of(A1(m)));i=I1(W.body,C1,P,A)}}te.isString(v)||(v=v?"include":"omit");const L="credentials"in Request.prototype;I=new Request(e,{...x,signal:R,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:L?v:void 0});let q=await fetch(I);const j=rg&&(p==="stream"||p==="response");if(rg&&(d||j&&k)){const W={};["status","statusText","headers"].forEach(C=>{W[C]=q[C]});const le=te.toFiniteNumber(q.headers.get("content-length")),[P,A]=d&&S1(le,of(A1(d),!0))||[];q=new Response(I1(q.body,C1,P,()=>{A&&A(),k&&k()}),W)}p=p||"text";let $=await lf[te.findKey(lf,p)||"text"](q,n);return!j&&k&&k(),await new Promise((W,le)=>{fw(W,le,{data:$,headers:_n.from(q.headers),status:q.status,statusText:q.statusText,config:n,request:I})})}catch(L){throw k&&k(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,n,I),{cause:L.cause||L}):Ne.from(L,L&&L.code,n,I)}}),ig={http:W3,xhr:R5,fetch:V5};te.forEach(ig,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const O1=n=>`- ${n}`,L5=n=>te.isFunction(n)||n===null||n===!1,yw={getAdapter:n=>{n=te.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!L5(t)&&(i=ig[(c=String(t)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(O1).join(`
`):" "+O1(l[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:ig};function hp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qo(null,n)}function N1(n){return hp(n),n.headers=_n.from(n.headers),n.data=cp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yw.getAdapter(n.adapter||$u.adapter)(n).then(function(i){return hp(n),i.data=cp.call(n,n.transformResponse,i),i.headers=_n.from(i.headers),i},function(i){return hw(i)||(hp(n),i&&i.response&&(i.response.data=cp.call(n,n.transformResponse,i.response),i.response.headers=_n.from(i.response.headers))),Promise.reject(i)})}const _w="1.8.4",zf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{zf[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const P1={};zf.transitional=function(e,t,i){function a(l,c){return"[Axios v"+_w+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(e===!1)throw new Ne(a(c," has been removed"+(t?" in "+t:"")),Ne.ERR_DEPRECATED);return t&&!P1[c]&&(P1[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};zf.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function U5(n,e,t){if(typeof n!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],c=e[l];if(c){const d=n[l],m=d===void 0||c(d,l,n);if(m!==!0)throw new Ne("option "+l+" must be "+m,Ne.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ne("Unknown option "+l,Ne.ERR_BAD_OPTION)}}const kh={assertOptions:U5,validators:zf},Er=kh.validators;let ma=class{constructor(e){this.defaults=e,this.interceptors={request:new T1,response:new T1}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=xa(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&kh.assertOptions(i,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),a!=null&&(te.isFunction(a)?t.paramsSerializer={serialize:a}:kh.assertOptions(a,{encode:Er.function,serialize:Er.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),kh.assertOptions(t,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&te.merge(l.common,l[t.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],I=>{delete l[I]}),t.headers=_n.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(m=m&&k.synchronous,d.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let _,v=0,x;if(!m){const I=[N1.bind(this),void 0];for(I.unshift.apply(I,d),I.push.apply(I,p),x=I.length,_=Promise.resolve(t);v<x;)_=_.then(I[v++],I[v++]);return _}x=d.length;let R=t;for(v=0;v<x;){const I=d[v++],k=d[v++];try{R=I(R)}catch(N){k.call(this,N);break}}try{_=N1.call(this,R)}catch(I){return Promise.reject(I)}for(v=0,x=p.length;v<x;)_=_.then(p[v++],p[v++]);return _}getUri(e){e=xa(this.defaults,e);const t=dw(e.baseURL,e.url,e.allowAbsoluteUrls);return lw(t,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){ma.prototype[e]=function(t,i){return this.request(xa(i||{},{method:e,url:t,data:(i||{}).data}))}});te.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,d){return this.request(xa(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ma.prototype[e]=t(),ma.prototype[e+"Form"]=t(!0)});let j5=class vw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,d){i.reason||(i.reason=new Qo(l,c,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vw(function(a){e=a}),cancel:e}}};function z5(n){return function(t){return n.apply(null,t)}}function B5(n){return te.isObject(n)&&n.isAxiosError===!0}const sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sg).forEach(([n,e])=>{sg[e]=n});function Ew(n){const e=new ma(n),t=WT(ma.prototype.request,e);return te.extend(t,ma.prototype,e,{allOwnKeys:!0}),te.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Ew(xa(n,a))},t}const dt=Ew($u);dt.Axios=ma;dt.CanceledError=Qo;dt.CancelToken=j5;dt.isCancel=hw;dt.VERSION=_w;dt.toFormData=Uf;dt.AxiosError=Ne;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=z5;dt.isAxiosError=B5;dt.mergeConfig=xa;dt.AxiosHeaders=_n;dt.formToJSON=n=>cw(te.isHTMLForm(n)?new FormData(n):n);dt.getAdapter=yw.getAdapter;dt.HttpStatusCode=sg;dt.default=dt;const{Axios:XM,AxiosError:WM,CanceledError:ZM,isCancel:JM,CancelToken:e6,VERSION:t6,all:n6,Cancel:r6,isAxiosError:i6,spread:s6,toFormData:a6,AxiosHeaders:o6,HttpStatusCode:l6,formToJSON:u6,getAdapter:c6,mergeConfig:h6}=dt,{backendUrl:q5}=Ko;dt.create({baseURL:q5,timeout:2e4,headers:{"Content-Type":"application/json"}});const ly=dt.create({timeout:2e4,headers:{"Content-Type":"application/json"}});ly.interceptors.request.use(async n=>{try{const e=Gu.currentUser;if(e){const t=await e.getIdToken();n.headers.authorization=`Bearer ${t}`}}catch(e){console.warn("Error obteniendo token de Firebase:",e)}return n},n=>Promise.reject(n));ly.interceptors.response.use(n=>n,n=>{var e;return((e=n.response)==null?void 0:e.status)===401&&console.warn("Token de autenticación inválido o expirado"),Promise.reject(n)});const H5=async({cart:n})=>{var e,t;try{const i=Gu.currentUser;if(!i)throw new Error("Usuario no autenticado");const a=await Mf(ba(xs,"users",i.uid)),l=a.exists()?a.data():{},c=n.reduce((x,R)=>x+R.price*R.quantity,0),d={userId:i.uid,userEmail:i.email,userName:l.nombre||i.displayName||"Usuario",cart:n,total:c,status:"pending",paymentStatus:"pending",createdAt:u1(),updatedAt:u1()},p=(await $P(MT(xs,"orders"),d)).id,_={cart:n,total:c,orderId:p,user:{uid:i.uid,email:i.email,name:l.nombre||i.displayName||"Usuario",surname:l.apellido||"",phone:l.telefono||""}},v=await ly.post("/payment/mercadopago",_);return{success:!0,preference_id:v.data.preference_id||v.data.id,init_point:v.data.init_point,order_id:p,sandbox_init_point:v.data.sandbox_init_point,...v.data}}catch(i){throw console.error("Error al procesar pago con MercadoPago:",i),new Error(((t=(e=i.response)==null?void 0:e.data)==null?void 0:t.message)||i.message||"Error al procesar el pago")}},{mp_publicKey:F5,optionsCurrency:{locale:G5}}=Ko,K5=({cart:n,onPaymentSuccess:e})=>{const{isAuthenticated:t}=$o(),[i,a]=X.useState(null),[l,c]=X.useState(!1);X.useEffect(()=>{i3(F5,{locale:G5})},[]);const d=async()=>{c(!0);try{const{data:p}=await H5({cart:n});a(p.id);const _=p.init_point;window.open(_,"_blank")}catch(p){console.error("Error al procesar el pago:",p.message||p),alert("Hubo un problema al procesar el pago. Por favor, inténtalo de nuevo.")}finally{c(!1)}},m=p=>{n.clearCart(),e&&e(p)};return t?T.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[T.jsx("button",{onClick:d,className:"cursor-pointer w-full py-3 px-4 bg-blue-500 text-white rounded-md font-medium shadow-md hover:bg-blue-700 transition duration-300 disabled:bg-blue-800 disabled:cursor-not-alloweed",disabled:l,children:l?"Cargando pasarela de pago...":"Pagar con Mercado Pago"}),i&&T.jsx("div",{className:"w-full max-w-md-mt-4",children:T.jsx(f3,{initialization:{preferenceId:i},onReady:()=>console.log("Wallet de Mercado Pago está lista"),onError:p=>console.error("Error en la pasarela de pago",p),onPayment:m})})]}):T.jsx("p",{className:"border-3 border-amber-500 rounded-lg bg-slate-900 shadow p-2 text-white py-2 px-7 2xl:py-4 2xl:px-10 text-[10px] lg:text-sm xl:text-base text-center",children:T.jsx(Et,{to:"/login",children:"Por favor, inicia sesión para realizar el pago"})})};function $5(n){return kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Minus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,11.5h0a.5.5,0,0,1,0,1H9a.5.5,0,0,1,0-1Z"},child:[]},{tag:"path",attr:{d:"M12,21.934A9.933,9.933,0,1,1,21.932,12,9.945,9.945,0,0,1,12,21.934ZM12,3.068A8.933,8.933,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.068Z"},child:[]}]}]}]})(n)}function Y5(n){return kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(n)}function bw(n){return kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Youtube"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.437,19.937H4.562a2.5,2.5,0,0,1-2.5-2.5V6.563a2.5,2.5,0,0,1,2.5-2.5H19.437a2.5,2.5,0,0,1,2.5,2.5V17.437A2.5,2.5,0,0,1,19.437,19.937ZM4.562,5.063a1.5,1.5,0,0,0-1.5,1.5V17.437a1.5,1.5,0,0,0,1.5,1.5H19.437a1.5,1.5,0,0,0,1.5-1.5V6.563a1.5,1.5,0,0,0-1.5-1.5Z"},child:[]},{tag:"path",attr:{d:"M14.568,11.149,10.6,8.432a1.032,1.032,0,0,0-1.614.851v5.434a1.032,1.032,0,0,0,1.614.851l3.972-2.717A1.031,1.031,0,0,0,14.568,11.149Z"},child:[]}]}]}]})(n)}const{optionsCurrency:Q5}=Ko,X5=({product:n})=>{const e=ms(i=>i.addItem),t=ms(i=>i.removeOneItem);return T.jsxs("div",{className:"flex flex-col mb-2",children:[T.jsx("h4",{className:"text-white text-xs p-1",children:n.cancion}),T.jsxs("div",{className:"flex justify-between w-full h-24 rounded-md-overflow-hidden",children:[T.jsx("img",{className:"w-24 h-24 object-center object-cover",src:n.imagen,alt:n.cancion}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex flex-col text-center p-1 mb-4",children:[T.jsx("p",{className:"ml-4 text-white text-xs p-1",children:iy(n.precio,Q5)}),T.jsx("p",{className:"text-white text-xs",children:n.quantity})]}),T.jsxs("div",{className:"flex justify-center gap-2 p-1 text-sm",children:[T.jsx("button",{onClick:()=>t(n._id),className:"text-gray-100 hover:text-gray-700 cursor-pointer",children:T.jsx($5,{className:"h-5 w-5"})}),T.jsx("button",{onClick:()=>e(n),className:"text-gray-100 hover:text-gray-700 cursor-pointer",children:T.jsx(Y5,{className:"h-5 w-5"})})]})]})]})]})},{optionsCurrency:W5}=Ko,Z5=({onClose:n})=>{const e=ms(l=>l.products),t=ms(l=>l.totalPrice),i=ms(l=>l.clearCart),a=()=>{alert("Pedido realizado con éxito! muchas gracias por su compra!"),i(),n()};return T.jsxs(T.Fragment,{children:[T.jsx("div",{onClick:n,className:"fixed inset-y-0 right-0 max-w-xl shadow-2xl transform transition-all ease-in-out duration-300"}),T.jsx("div",{className:"fixed inset-y-0 right-0 max-w-md shadow-2xl transform transition-all ease-in-out duration-300  bg-slate-900 shadow",children:T.jsxs("div",{className:"h-full flex flex-col overflow-y-auto",children:[T.jsxs("div",{className:"px-4 py-6 sm:px-6 border-b border-gray-200",children:[T.jsx("h2",{className:"text-lg text-white font-medium text-gray-900 bg-[#3053458] shadow p-2",children:"Carrito de compras"}),T.jsx("button",{onClick:n,className:"ml-3 h-7 flex items-center justify-center text-gray-400 hover:text-gray-500",children:"X"})]}),T.jsx("div",{className:"flex-1 px-4 sm:px-6 overflow-y-auto bg-[#3053458] shadow p-2",children:e.length===0?T.jsx("p",{className:"text-center text-white py-8",children:"Tu carrito esta vacío"}):T.jsx("div",{className:"flow-root",children:T.jsx("ul",{className:"divide-y divide-gray-300",children:e.map(l=>T.jsx(X5,{product:l},l._id))})})}),e.length>0&&T.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[T.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[T.jsx("p",{className:"text-white",children:"Total"}),T.jsx("p",{className:"text-white",children:iy(t,W5)})]}),T.jsx("div",{className:"mt-6 text-white",children:T.jsx(K5,{cart:e,total:t,onPaymentSuccess:a})}),T.jsx("div",{className:"mt-3 flex items-center justify-center text-sm text-white",children:T.jsx("button",{onClick:i,className:"font-medium text-white hover:text-white cursor-pointer",children:"Vaciar carrito"})})]})]})})]})};function J5(n){return kt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l.5 2H5V5zM6 5v2h2V5zm3 0v2h2V5zm3 0v2h1.36l.5-2zm1.11 3H12v2h.61zM11 8H9v2h2zM8 8H6v2h2zM5 8H3.89l.5 2H5zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"},child:[]}]})(n)}const D1=()=>{const[n,e]=X.useState(!1),t=ms(a=>a.totalItems),i=()=>{e(!n)};return T.jsxs("div",{className:"relative inline-block",children:[T.jsxs("button",{onClick:i,className:"p-2 text-white hover:text-gray-200 focus:outline-none",children:[T.jsx(J5,{className:"text-white text-lg xl:text-4xl 2xl:text-5xl"}),t>0&&T.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:t})]}),n&&T.jsx(Z5,{onClose:i})]})},eM=()=>{const{user:n,logout:e}=$o(),[t,i]=X.useState(!1),a=()=>{e()};return T.jsx("nav",{className:"nav z-20 fixed top-0 left-0 w-full bg-transparent items-center content-center px-3 lg:px-4 xl:px-5 2xl:px-8 ",children:T.jsxs("div",{className:"h16 flex justify-between items-center gap-5",children:[T.jsxs("div",{className:"hidden sm:flex",children:[T.jsx(Et,{to:"/",className:"navFont text-white text-sm px-2 xl:text-lg xl:px-3 2xl:text-xl",children:"INICIO"}),T.jsx(Et,{to:"/about",className:"navFont text-white text-sm px-2 xl:text-lg xl:px-3 2xl:text-xl",children:"ACERCA DE MÍ"}),T.jsx(Et,{to:"/products",className:"navFont text-white text-sm px-2 xl:text-lg xl:px-3 2xl:text-xl",children:"DISCOGRAFÍA"}),T.jsx(Et,{to:"podcast",className:"navFont text-white text-sm px-2 xl:text-lg xl:px-3 2xl:text-xl",children:"PODCAST"}),T.jsx(Et,{to:"/contacto",className:"navFont text-white text-sm px-2 xl:text-lg xl:px-3 2xl:text-xl",children:"CONTACTO"})]}),T.jsx("button",{onClick:()=>i(!t),className:"menu-button sm:hidden text-white text-2xl sm:text-3xl",children:t?"✖":T.jsx(BD,{})}),T.jsxs("div",{className:`${t?"block":"hidden"} sm:hidden absolute top-6 left-7 w-full bg-transparent z-10`,children:[T.jsx(Et,{to:"/",className:"navFont text-white text-xs sm:text-sm px-5 gap-y-10 block",children:"Inicio"}),T.jsx(Et,{to:"/about",className:"navFont text-white text-xs sm:text-sm px-5 gap-y-10 block",children:"Acerca de mí"}),T.jsx(Et,{to:"/products",className:"navFont text-white text-xs sm:text-sm px-5 gap-y-10 block",children:"Discografía"}),T.jsx(Et,{to:"podcast",className:"navFont text-white text-xs sm:text-sm px-5 gap-y-10 block",children:"Podcast"}),T.jsx(Et,{to:"/contacto",className:"navFont text-white text-xs sm:text-sm px-5 gap-y-10 block",children:"Contacto"})]}),T.jsxs("div",{className:"flex flex-row items-end gap-2 xl:gap-4",children:[T.jsxs("div",{className:"flex flex-row gap-2 xl:gap-4 items-end",children:[T.jsx("div",{className:"flex-flex-row",children:n?T.jsxs(Et,{to:"/",onClick:a,className:"flex flex-col text-white items-center display-center transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300",children:[T.jsx(FD,{className:"text-xl xl:text-2xl 2xl:text-3xl"}),T.jsx("p",{className:"text-center text-xs xl:text-sm 2xl:text-base",children:"Cerrar sesión"})]}):T.jsxs(Et,{to:"/login",className:"flex flex-col text-white items-center display-center transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300",children:[T.jsx(HD,{className:"text-xl xl:text-2xl 2xl:text-3xl"}),T.jsx("p",{className:"text-center text-xs xl:text-sm 2xl:text-base",children:"Iniciar sesión"})]})}),T.jsx("div",{className:"items-end",children:n?T.jsxs(Et,{to:`/update/${n._id}`,className:"flex flex-col items-center display-center text-white transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300",children:[T.jsx(qD,{className:"text-xl xl:text-2xl 2xl:text-3xl"}),T.jsx("p",{className:"text-center text-xs xl:text-sm 2xl:text-base",children:"Actualizar"})]}):T.jsxs(Et,{to:"/register",className:"flex flex-col items-center display-center text-white transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300",children:[T.jsx(GD,{className:"text-xl xl:text-2xl 2xl:text-3xl"}),T.jsx("p",{className:"text-center text-xs xl:text-sm 2xl:text-base",children:"Regístrate"})]})})]}),T.jsx("div",{children:n?T.jsx("div",{className:"flex flex-row items-center",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx(D1,{className:"text-white text-xl xl:text-2xl 2xl:text-xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"}),T.jsxs("p",{className:"text-white text-center text-xs xl:text-sm 2xl:text-base",children:[n.nombre," ",n.apellido]})]})}):T.jsx(D1,{className:"text-white text-xl xl:text-2xl 2xl:text-2xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})]})]})})},Lr=()=>T.jsx("div",{className:"bg-blue-700 bg-blend-multiply fixed top-0 left-0 w-full h-full -z-10 bg-cover bg-center opacity-99",style:{backgroundImage:"url('https://res.cloudinary.com/ddxlvh0go/image/upload/v1746758710/IMG_3139_gsrnpc.jpg')"}}),tM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex-col justify-center align-center place-items-center p-10",children:[T.jsx("h1",{className:"title tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-25 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-30 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"LUIS GERARDO AQUINO"}),T.jsx("p",{className:"border-1 border-[#47A1EB] rounded-lg text-white text-center item-center px-3 py-8 text-xs sm:text-base md:text-lg lg:text-2xl xl:text-xl sm:px-2 xl:px-10 xl:py-12 2xl:text-3xl 2xl:px-8 2xl:py-15 2xl:mb-30",children:'"Enseñar el cómo, el para qué y el poder transformador de la adoración"'})]})]}),nM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex-col justify-center align-center p-10 2xl:mb-15 2xl:mx-30",children:[T.jsx("h1",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-25 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-30 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-8xl 2xl:text-7xl",children:"LUIS GERARDO AQUINO"}),T.jsx("p",{className:"text-justify text-white text-base sm:px-7 md:px-10 lg:px-24 xl:text-2xl 2xl:px-20 2xl:text-xl xl:leading-relaxed",children:"Pastor, salmista, compositor y productor musical con más de 20 años de experiencia en el ministerio musical."}),T.jsx("p",{className:"text-justify text-white text-base sm:px-7 md:px-10 lg:px-24 xl:text-2xl 2xl:px-20 2xl:text-xl xl:leading-relaxed",children:"Graduado de la carrera Ministerial Musical de Instituto Canzión, El Salvador. Ordenado como Pastor en Iglesia Transformación de la Ciudad, San Salvador, bajo la cobertura de Christian International."}),T.jsx("p",{className:"text-justify text-white text-base sm:px-7 md:px-10 lg:px-24 xl:text-2xl 2xl:px-20 2xl:text-xl xl:leading-relaxed",children:"Ha grabado cinco producciones de alabanza y adoración: Tiempo de resplandecer (2010), Rey de las naciones (2014), Sesiones acústicas (2015), Bajo la orden de Jehová (2017), y Yo miro tu gloria (2024), inspirada en la visión de Isaías del trono de Dios."}),T.jsx("p",{className:"text-justify text-white text-base sm:px-7 md:px-10 lg:px-24 xl:text-2xl 2xl:px-20 2xl:text-xl xl:leading-relaxed",children:"Ha viajado por diferentes países entrenando al cuerpo de Cristo en el área de la alabanza, con un enfoque en el ministerio profético."}),T.jsx("p",{className:"text-justify text-white text-base sm:px-7 md:px-10 lg:px-24 xl:text-2xl 2xl:px-20 2xl:text-xl xl:leading-relaxed",children:"Fundador y productor en el estudio de producción musical “AbsoluteStudio SV.”"})]})]}),rM=()=>{const{login:n}=$o(),[e,t]=X.useState(""),[i,a]=X.useState(""),l=Pu(),c=async d=>{d.preventDefault();const m={email:e,password:i};try{await n(m),l("/")}catch(p){console.error(p),alert("Error al iniciar sesión")}};return T.jsxs("form",{className:"flex flex-col display-center gap-7 p-10 lg:gap-10 2xl:gap-20",onSubmit:c,children:[T.jsxs("div",{className:"flex flex-col display-center gap-3 2xl:gap-7",children:[T.jsx("input",{className:"border-1 border-amber-300 rounded-lg text-center p-1 text-sm md:text-base xl:text-lg 2xl:text-xl 2xl:p-4",placeholder:"Ingresa tu correo electrónico",type:"email",value:e,onChange:d=>t(d.target.value),required:!0}),T.jsx("input",{className:"border-1 border-amber-300 rounded-lg text-center p-1 text-sm md:text-base xl:text-lg 2xl:text-xl 2xl:p-4",placeholder:"Ingresa tu contraseña",type:"password",value:i,onChange:d=>a(d.target.value),required:!0})]}),T.jsx("button",{className:"custom-button p-2 border-2 border-amber-300 rounded-lg text-sm md:text-base xl:text-lg 2xl:text-2xl 2xl:p-4 cursor-pointer transition duration-200 ease-in-out transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95]",type:"submit",children:"Iniciar Sesión"})]})},iM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex flex-col justify-items-center text-white text-lg p-2 mt-25 sm:mt-28 md:mt-30 lg:mt-25 lg:pr-20 lg:pl-20 xl:pr-25 xl:pr-25 2xl:pr-50 2xl:pl-50",children:[T.jsx("h2",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-30 mb-5 md:mb- lg:mb-5 xl:mb-10 2xl:mb-8 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"INICIA TU SESIÓN"}),T.jsx(rM,{}),T.jsxs("p",{className:"text-center text-white mt-5 mb-25 p-5 text-base md:text-lg lg:text-xl xl:text-2xl 2xl:xl:text-2xl",children:["¿No tienes cuenta?"," → ",T.jsx(Et,{to:"/register",className:"shadow-lg text-amber-400 hover:underline hover:text-[#47a1eb]",children:"Regístrate"})]})]})]}),xw=X.cache(async()=>{try{const n=MT(xs,"products"),e=await FP(n),t=[];return e.forEach(i=>{t.push({id:i.id,...i.data()})}),{success:!0,data:t}}catch(n){throw console.error("Error obteniendo los productos",n),new Error(n.message||"Error al obtener productos")}});X.cache(async n=>{try{const e=ba(xs,"products",n),t=await Mf(e);if(!t.exists())throw new Error("Producto no encontrado");return{success:!0,data:{id:t.id,...t.data()}}}catch(e){throw console.error(`Error obteniendo el producto con el id: ${n}`,e),new Error(e.message||"Error al obtener producto")}});const Tw=()=>{const[n,e]=X.useState([]),[t,i]=X.useState(!0),[a,l]=X.useState(null);return X.useEffect(()=>{(async()=>{try{i(!0);const d=await xw();e(d.data),l(null)}catch(d){l(d),console.error(d)}finally{i(!1)}})()},[]),{productos:n,loading:t,error:a}};function ww(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=ww(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function sM(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=ww(n))&&(i&&(i+=" "),i+=e);return i}function Sw(n){return kt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm18.31 6-2.76 5z"},child:[]},{tag:"path",attr:{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"},child:[]}]})(n)}function aM(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c7.6-4.2 16.8-4.1 24.3 .5l144 88c7.1 4.4 11.5 12.1 11.5 20.5s-4.4 16.1-11.5 20.5l-144 88c-7.4 4.5-16.7 4.7-24.3 .5s-12.3-12.2-12.3-20.9l0-176c0-8.7 4.7-16.7 12.3-20.9z"},child:[]}]})(n)}const oM=({producto:n})=>{const{optionsCurrency:e}=Ko,t=Pu(),[i,a]=X.useState([]),l=ms(m=>m.addItem),c=m=>{if(!m||!m._id){console.error("songSelected is undefined or missing id");return}a(m),t(`/SongPage/${m._id}`,{state:{song:i}})},d=m=>{if(!m||!m._id){console.error("songSelected is undefined or missing id");return}l(m)};return T.jsx("div",{className:"shadow p-3",children:T.jsxs("div",{className:"border-1 border-amber-300 rounded-lg p-2",children:[T.jsxs("div",{className:"flex flex-col gap-y-1",children:[T.jsx("h4",{className:"text-sm font-bold text-white",children:n.cancion}),T.jsx("p",{className:"text-white text-xs mb-4-line-clamp-2",children:n.autores}),T.jsx("div",{className:"mb-2",children:T.jsx("span",{className:"text-sm font-semibold text-white",children:iy(n.precio,e)})})]}),T.jsxs("div",{className:"flex flex-row justify-center items-center gap-20",children:[T.jsx("button",{className:"text-white text-center p-1 cursor-pointer transition-transform duration-500 hover:scale-[1.70] active:scale-[0.95] hover:text-amber-200",onClick:()=>d(n),children:T.jsx(Sw,{})},n.id),T.jsx("button",{className:"text-white align-center p-1 cursor-pointer transition-transform duration-500 hover:scale-[1.70] active:scale-[0.95] hover:text-amber-200",onClick:()=>c(n),children:T.jsx(aM,{})},n.id)]})]})})},lM=()=>{const[n,e]=X.useState({}),[t,i]=X.useState([]),[a,l]=X.useState([]),[c,d]=X.useState(null),m=_=>{d(_),e(v=>({...v,[_.cd]:!v[_.cd]}))};X.useEffect(()=>{(async()=>{try{const v=await xw(),x=v.products||v.data||v;i(x);const R=[...new Map(x.filter(I=>I.cd!=="Podcast").map(I=>[I.cd,{cd:I.cd,imagen:I.cd==="Singles"?"https://res.cloudinary.com/ddxlvh0go/image/upload/v1746074281/LG_hvi4gy.jpg":I.imagen,anho_lanzamiento:I.anho_lanzamiento}])).values()].sort((I,k)=>{const N=parseInt(I.anho_lanzamiento)||0;return(parseInt(k.anho_lanzamiento)||0)-N});l(R)}catch(v){console.error("Error al obtener los productos:",v)}})()},[]);const p=X.useMemo(()=>t.filter(_=>c&&_.cd===c.cd).sort((_,v)=>{const x=parseInt(_.track||_.trackNumber||0),R=parseInt(v.track||v.trackNumber||0);return x-R}),[t,c]);return T.jsx("div",{className:"py-10 px-5",children:T.jsx("div",{className:"grid grid-cols-1 content-center sm:grid-cols-2 xl:grid-cols-3 gap-15 xl:gap-25",children:a.map((_,v)=>T.jsx("div",{onClick:()=>m(_),className:sM("relative h-[445px] w-[260px] cursor-pointer rounded-2xl bg-gradient-to-r from-amber-400 to-pink-600 pg-50 shadow-md p-1",{"[&_.card-content]:rotate-y-180":n[_.cd]}),children:T.jsxs("div",{className:"card-content h-full w-full transition-transform duration-500 [transform-style:preserve-3d]",children:[T.jsxs("div",{className:"absolute h-full w-full rounded-2xl p-4 bg-[#000e1f] [backface-visibility:hidden]",children:[T.jsx("h3",{className:"relative h-[80px] w-[230px] flex items-center justify-center py-2 mt-1 mb-3 shadow text-center gap-1 text-xl text-white font-semibold",children:_.cd}),T.jsx("p",{className:"font-poppins text-base text-center text-white italic",children:_.anho_lanzamiento}),T.jsx("div",{className:"mt-4 overflow-hidden rounded-xl",children:T.jsx("img",{className:"h-[160px] w-full object-cover rounded-xl",src:_.imagen,alt:_.cd||"CD"})}),T.jsx("div",{className:"flex justify-center text-center z-10 text-3xl font-bold text-white mt-5 transition-transform duration-500 hover:scale-[1.30] active:scale-[0.95]",children:T.jsx(zD,{className:"shadow rounded-full"})})]}),T.jsxs("div",{className:"absolute h-full w-full rotate-y-180 rounded-2xl p-4 bg-[#000e1f] shadow-lg [backface-visibility:hidden]",children:[T.jsx("h3",{className:"relative h-[80px] w-[230px] flex items-center justify-center py-2 mt-1 mb-3 shadow text-center gap-1 text-xl text-white font-semibold",children:_.cd}),T.jsx("div",{className:"overflow-y-auto max-h-[280px] mt-2 space-y-2",children:p.length>0?p.map(x=>T.jsx(oM,{producto:x},x._id)):T.jsx("p",{className:"text-center text-sm",children:"No hay canciones disponibles"})}),T.jsx("div",{className:"flex justify-center text-center z-10 text-3xl font-bold text-white mt-2 transition-transform duration-500 hover:scale-[1.30] active:scale-[0.95]",children:T.jsx(jD,{className:"shadow rounded-full"})})]})]})},_.cd||v))})})},uM=()=>{const{productos:n,loading:e,error:t}=Tw();return T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"container flex flex-col justify-items-center place-items-center mx-auto mt-20 2xl:mt-1 px-4 py-8",children:[T.jsx("h1",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-15 2xl:mt-28 mb-7 md:mb-10 lg:mb-15 xl:mb-18 2xl:mb-20 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"DISCOGRAFÍA"}),e&&T.jsx("div",{className:"flex justify-center-items-center-py-20",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),t&&T.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded md text-center mb-6",children:T.jsxs("p",{className:"font-semibold",children:["Error: ",t.message]})}),n.length===0&&!e&&!t&&T.jsx("div",{className:"text-center-py-10 text-gray-500",children:T.jsx("p",{className:"text-xl font-semibold",children:"No hay productos disponibles"})}),T.jsx(lM,{})]})]})},cM="modulepreload",hM=function(n){return"/"+n},M1={},pn=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(p=>{if(p=hM(p),p in M1)return;M1[p]=!0;const _=p.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":cM,_||(x.as="script"),x.crossOrigin="",x.href=p,m&&x.setAttribute("nonce",m),document.head.appendChild(x),_)return new Promise((R,I)=>{x.addEventListener("load",R),x.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var fp,k1;function fM(){if(k1)return fp;k1=1,fp=function(a,l,c){var d=document.head||document.getElementsByTagName("head")[0],m=document.createElement("script");typeof l=="function"&&(c=l,l={}),l=l||{},c=c||function(){},m.type=l.type||"text/javascript",m.charset=l.charset||"utf8",m.async="async"in l?!!l.async:!0,m.src=a,l.attrs&&n(m,l.attrs),l.text&&(m.text=""+l.text);var p="onload"in m?e:t;p(m,c),m.onload||e(m,c),d.appendChild(m)};function n(i,a){for(var l in a)i.setAttribute(l,a[l])}function e(i,a){i.onload=function(){this.onerror=this.onload=null,a(null,i)},i.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),i)}}function t(i,a){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,i))}}return fp}var dp,V1;function Aw(){if(V1)return dp;V1=1;var n=function(q){return e(q)&&!t(q)};function e(L){return!!L&&typeof L=="object"}function t(L){var q=Object.prototype.toString.call(L);return q==="[object RegExp]"||q==="[object Date]"||l(L)}var i=typeof Symbol=="function"&&Symbol.for,a=i?Symbol.for("react.element"):60103;function l(L){return L.$$typeof===a}function c(L){return Array.isArray(L)?[]:{}}function d(L,q){return q.clone!==!1&&q.isMergeableObject(L)?k(c(L),L,q):L}function m(L,q,j){return L.concat(q).map(function($){return d($,j)})}function p(L,q){if(!q.customMerge)return k;var j=q.customMerge(L);return typeof j=="function"?j:k}function _(L){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(L).filter(function(q){return Object.propertyIsEnumerable.call(L,q)}):[]}function v(L){return Object.keys(L).concat(_(L))}function x(L,q){try{return q in L}catch{return!1}}function R(L,q){return x(L,q)&&!(Object.hasOwnProperty.call(L,q)&&Object.propertyIsEnumerable.call(L,q))}function I(L,q,j){var $={};return j.isMergeableObject(L)&&v(L).forEach(function(W){$[W]=d(L[W],j)}),v(q).forEach(function(W){R(L,W)||(x(L,W)&&j.isMergeableObject(q[W])?$[W]=p(W,j)(L[W],q[W],j):$[W]=d(q[W],j))}),$}function k(L,q,j){j=j||{},j.arrayMerge=j.arrayMerge||m,j.isMergeableObject=j.isMergeableObject||n,j.cloneUnlessOtherwiseSpecified=d;var $=Array.isArray(q),W=Array.isArray(L),le=$===W;return le?$?j.arrayMerge(L,q,j):I(L,q,j):d(q,j)}k.all=function(q,j){if(!Array.isArray(q))throw new Error("first argument should be an array");return q.reduce(function($,W){return k($,W,j)},{})};var N=k;return dp=N,dp}var mp,L1;function Bf(){if(L1)return mp;L1=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(ue,D)=>{for(var ee in D)e(ue,ee,{get:D[ee],enumerable:!0})},d=(ue,D,ee,ce)=>{if(D&&typeof D=="object"||typeof D=="function")for(let he of i(D))!l.call(ue,he)&&he!==ee&&e(ue,he,{get:()=>D[he],enumerable:!(ce=t(D,he))||ce.enumerable});return ue},m=(ue,D,ee)=>(ee=ue!=null?n(a(ue)):{},d(!ue||!ue.__esModule?e(ee,"default",{value:ue,enumerable:!0}):ee,ue)),p=ue=>d(e({},"__esModule",{value:!0}),ue),_={};c(_,{callPlayer:()=>ie,getConfig:()=>z,getSDK:()=>M,isBlobUrl:()=>J,isMediaStream:()=>me,lazy:()=>I,omit:()=>O,parseEndTime:()=>le,parseStartTime:()=>W,queryString:()=>A,randomString:()=>P,supportsWebKitPresentationMode:()=>de}),mp=p(_);var v=m(Lo()),x=m(fM()),R=m(Aw());const I=ue=>v.default.lazy(async()=>{const D=await ue();return typeof D.default=="function"?D:D.default}),k=/[?&#](?:start|t)=([0-9hms]+)/,N=/[?&#]end=([0-9hms]+)/,L=/(\d+)(h|m|s)/g,q=/^\d+$/;function j(ue,D){if(ue instanceof Array)return;const ee=ue.match(D);if(ee){const ce=ee[1];if(ce.match(L))return $(ce);if(q.test(ce))return parseInt(ce)}}function $(ue){let D=0,ee=L.exec(ue);for(;ee!==null;){const[,ce,he]=ee;he==="h"&&(D+=parseInt(ce,10)*60*60),he==="m"&&(D+=parseInt(ce,10)*60),he==="s"&&(D+=parseInt(ce,10)),ee=L.exec(ue)}return D}function W(ue){return j(ue,k)}function le(ue){return j(ue,N)}function P(){return Math.random().toString(36).substr(2,5)}function A(ue){return Object.keys(ue).map(D=>`${D}=${ue[D]}`).join("&")}function C(ue){return window[ue]?window[ue]:window.exports&&window.exports[ue]?window.exports[ue]:window.module&&window.module.exports&&window.module.exports[ue]?window.module.exports[ue]:null}const U={},M=function(D,ee,ce=null,he=()=>!0,_e=x.default){const De=C(ee);return De&&he(De)?Promise.resolve(De):new Promise((xe,xt)=>{if(U[D]){U[D].push({resolve:xe,reject:xt});return}U[D]=[{resolve:xe,reject:xt}];const Fe=It=>{U[D].forEach(qr=>qr.resolve(It))};if(ce){const It=window[ce];window[ce]=function(){It&&It(),Fe(C(ee))}}_e(D,It=>{It?(U[D].forEach(qr=>qr.reject(It)),U[D]=null):ce||Fe(C(ee))})})};function z(ue,D){return(0,R.default)(D.config,ue.config)}function O(ue,...D){const ee=[].concat(...D),ce={},he=Object.keys(ue);for(const _e of he)ee.indexOf(_e)===-1&&(ce[_e]=ue[_e]);return ce}function ie(ue,...D){if(!this.player||!this.player[ue]){let ee=`ReactPlayer: ${this.constructor.displayName} player could not call %c${ue}%c – `;return this.player?this.player[ue]||(ee+="The method was not available"):ee+="The player was not available",console.warn(ee,"font-weight: bold",""),null}return this.player[ue](...D)}function me(ue){return typeof window<"u"&&typeof window.MediaStream<"u"&&ue instanceof window.MediaStream}function J(ue){return/^blob:/.test(ue)}function de(ue=document.createElement("video")){const D=/iPhone|iPod/.test(navigator.userAgent)===!1;return ue.webkitSupportsPresentationMode&&typeof ue.webkitSetPresentationMode=="function"&&D}function ge(ue){return ue}return mp}var pp,U1;function dM(){if(U1)return pp;U1=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(ie,me)=>{for(var J in me)n(ie,J,{get:me[J],enumerable:!0})},l=(ie,me,J,de)=>{if(me&&typeof me=="object"||typeof me=="function")for(let ge of t(me))!i.call(ie,ge)&&ge!==J&&n(ie,ge,{get:()=>me[ge],enumerable:!(de=e(me,ge))||de.enumerable});return ie},c=ie=>l(n({},"__esModule",{value:!0}),ie),d={};a(d,{AUDIO_EXTENSIONS:()=>P,DASH_EXTENSIONS:()=>U,FLV_EXTENSIONS:()=>M,HLS_EXTENSIONS:()=>C,MATCH_URL_DAILYMOTION:()=>j,MATCH_URL_FACEBOOK:()=>R,MATCH_URL_FACEBOOK_WATCH:()=>I,MATCH_URL_KALTURA:()=>le,MATCH_URL_MIXCLOUD:()=>$,MATCH_URL_MUX:()=>x,MATCH_URL_SOUNDCLOUD:()=>_,MATCH_URL_STREAMABLE:()=>k,MATCH_URL_TWITCH_CHANNEL:()=>q,MATCH_URL_TWITCH_VIDEO:()=>L,MATCH_URL_VIDYARD:()=>W,MATCH_URL_VIMEO:()=>v,MATCH_URL_WISTIA:()=>N,MATCH_URL_YOUTUBE:()=>p,VIDEO_EXTENSIONS:()=>A,canPlay:()=>O}),pp=c(d);var m=Bf();const p=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,_=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v=/vimeo\.com\/(?!progressive_redirect).+/,x=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,R=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,I=/^https?:\/\/fb\.watch\/.+$/,k=/streamable\.com\/([a-z0-9]+)$/,N=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,L=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,q=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,j=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,$=/mixcloud\.com\/([^/]+\/[^/]+)/,W=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,le=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,P=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,A=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,C=/\.(m3u8)($|\?)/i,U=/\.(mpd)($|\?)/i,M=/\.(flv)($|\?)/i,z=ie=>{if(ie instanceof Array){for(const me of ie)if(typeof me=="string"&&z(me)||z(me.src))return!0;return!1}return(0,m.isMediaStream)(ie)||(0,m.isBlobUrl)(ie)?!0:P.test(ie)||A.test(ie)||C.test(ie)||U.test(ie)||M.test(ie)},O={youtube:ie=>ie instanceof Array?ie.every(me=>p.test(me)):p.test(ie),soundcloud:ie=>_.test(ie)&&!P.test(ie),vimeo:ie=>v.test(ie)&&!A.test(ie)&&!C.test(ie),mux:ie=>x.test(ie),facebook:ie=>R.test(ie)||I.test(ie),streamable:ie=>k.test(ie),wistia:ie=>N.test(ie),twitch:ie=>L.test(ie)||q.test(ie),dailymotion:ie=>j.test(ie),mixcloud:ie=>$.test(ie),vidyard:ie=>W.test(ie),kaltura:ie=>le.test(ie),file:z};return pp}var gp,j1;function mM(){if(j1)return gp;j1=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(v,x)=>{for(var R in x)n(v,R,{get:x[R],enumerable:!0})},l=(v,x,R,I)=>{if(x&&typeof x=="object"||typeof x=="function")for(let k of t(x))!i.call(v,k)&&k!==R&&n(v,k,{get:()=>x[k],enumerable:!(I=e(x,k))||I.enumerable});return v},c=v=>l(n({},"__esModule",{value:!0}),v),d={};a(d,{default:()=>_}),gp=c(d);var m=Bf(),p=dM(),_=[{key:"youtube",name:"YouTube",canPlay:p.canPlay.youtube,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./YouTube-CD6dFNom.js").then(v=>v.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:p.canPlay.soundcloud,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./SoundCloud-CbcpiP9e.js").then(v=>v.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:p.canPlay.vimeo,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Vimeo-DU6uwr-Z.js").then(v=>v.V),[]))},{key:"mux",name:"Mux",canPlay:p.canPlay.mux,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Mux-BriE1OID.js").then(v=>v.M),[]))},{key:"facebook",name:"Facebook",canPlay:p.canPlay.facebook,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Facebook-D0ZesRX_.js").then(v=>v.F),[]))},{key:"streamable",name:"Streamable",canPlay:p.canPlay.streamable,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Streamable-C_3ohdNc.js").then(v=>v.S),[]))},{key:"wistia",name:"Wistia",canPlay:p.canPlay.wistia,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Wistia-C93yxtMy.js").then(v=>v.W),[]))},{key:"twitch",name:"Twitch",canPlay:p.canPlay.twitch,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Twitch-DL9b9d0N.js").then(v=>v.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:p.canPlay.dailymotion,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./DailyMotion-oz0CgNsb.js").then(v=>v.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:p.canPlay.mixcloud,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Mixcloud-CNrp0w3N.js").then(v=>v.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:p.canPlay.vidyard,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Vidyard-CBqHG14S.js").then(v=>v.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:p.canPlay.kaltura,lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./Kaltura-226lWlyZ.js").then(v=>v.K),[]))},{key:"file",name:"FilePlayer",canPlay:p.canPlay.file,canEnablePIP:v=>p.canPlay.file(v)&&(document.pictureInPictureEnabled||(0,m.supportsWebKitPresentationMode)())&&!p.AUDIO_EXTENSIONS.test(v),lazyPlayer:(0,m.lazy)(()=>pn(()=>import("./FilePlayer-CrLdo0bN.js").then(v=>v.F),[]))}];return gp}var z1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pM(n,e){return!!(n===e||z1(n)&&z1(e))}function gM(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!pM(n[t],e[t]))return!1;return!0}function yM(n,e){e===void 0&&(e=gM);var t,i=[],a,l=!1;function c(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return l&&t===this&&e(d,i)||(a=n.apply(this,d),l=!0,t=this,i=d),a}return c}const _M=Object.freeze(Object.defineProperty({__proto__:null,default:yM},Symbol.toStringTag,{value:"Module"})),vM=i2(_M);var yp,B1;function Rw(){if(B1)return yp;B1=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var d,m,p;if(Array.isArray(l)){if(d=l.length,d!=c.length)return!1;for(m=d;m--!==0;)if(!a(l[m],c[m]))return!1;return!0}var _;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(_=l.entries();!(m=_.next()).done;)if(!c.has(m.value[0]))return!1;for(_=l.entries();!(m=_.next()).done;)if(!a(m.value[1],c.get(m.value[0])))return!1;return!0}if(t&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(_=l.entries();!(m=_.next()).done;)if(!c.has(m.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(d=l.length,d!=c.length)return!1;for(m=d;m--!==0;)if(l[m]!==c[m])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(p=Object.keys(l),d=p.length,d!==Object.keys(c).length)return!1;for(m=d;m--!==0;)if(!Object.prototype.hasOwnProperty.call(c,p[m]))return!1;if(n&&l instanceof Element)return!1;for(m=d;m--!==0;)if(!((p[m]==="_owner"||p[m]==="__v"||p[m]==="__o")&&l.$$typeof)&&!a(l[p[m]],c[p[m]]))return!1;return!0}return l!==l&&c!==c}return yp=function(c,d){try{return a(c,d)}catch(m){if((m.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw m}},yp}var _p={exports:{}},vp,q1;function EM(){if(q1)return vp;q1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=n,vp}var Ep,H1;function bM(){if(H1)return Ep;H1=1;var n=EM();function e(){}function t(){}return t.resetWarningCache=e,Ep=function(){function i(c,d,m,p,_,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Ep}var F1;function xM(){return F1||(F1=1,_p.exports=bM()()),_p.exports}var bp,G1;function Iw(){if(G1)return bp;G1=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(A,C)=>{for(var U in C)e(A,U,{get:C[U],enumerable:!0})},d=(A,C,U,M)=>{if(C&&typeof C=="object"||typeof C=="function")for(let z of i(C))!l.call(A,z)&&z!==U&&e(A,z,{get:()=>C[z],enumerable:!(M=t(C,z))||M.enumerable});return A},m=(A,C,U)=>(U=A!=null?n(a(A)):{},d(!A||!A.__esModule?e(U,"default",{value:A,enumerable:!0}):U,A)),p=A=>d(e({},"__esModule",{value:!0}),A),_={};c(_,{defaultProps:()=>P,propTypes:()=>W}),bp=p(_);var v=m(xM());const{string:x,bool:R,number:I,array:k,oneOfType:N,shape:L,object:q,func:j,node:$}=v.default,W={url:N([x,k,q]),playing:R,loop:R,controls:R,volume:I,muted:R,playbackRate:I,width:N([x,I]),height:N([x,I]),style:q,progressInterval:I,playsinline:R,pip:R,stopOnUnmount:R,light:N([R,x,q]),playIcon:$,previewTabIndex:I,previewAriaLabel:x,fallback:$,oEmbedUrl:x,wrapper:N([x,j,L({render:j.isRequired})]),config:L({soundcloud:L({options:q}),youtube:L({playerVars:q,embedOptions:q,onUnstarted:j}),facebook:L({appId:x,version:x,playerId:x,attributes:q}),dailymotion:L({params:q}),vimeo:L({playerOptions:q,title:x}),mux:L({attributes:q,version:x}),file:L({attributes:q,tracks:k,forceVideo:R,forceAudio:R,forceHLS:R,forceSafariHLS:R,forceDisableHls:R,forceDASH:R,forceFLV:R,hlsOptions:q,hlsVersion:x,dashVersion:x,flvVersion:x}),wistia:L({options:q,playerId:x,customControls:k}),mixcloud:L({options:q}),twitch:L({options:q,playerId:x}),vidyard:L({options:q})}),onReady:j,onStart:j,onPlay:j,onPause:j,onBuffer:j,onBufferEnd:j,onEnded:j,onError:j,onDuration:j,onSeek:j,onPlaybackRateChange:j,onPlaybackQualityChange:j,onProgress:j,onClickPreview:j,onEnablePIP:j,onDisablePIP:j},le=()=>{},P={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:le},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:le,onStart:le,onPlay:le,onPause:le,onBuffer:le,onBufferEnd:le,onEnded:le,onError:le,onDuration:le,onSeek:le,onPlaybackRateChange:le,onPlaybackQualityChange:le,onProgress:le,onClickPreview:le,onEnablePIP:le,onDisablePIP:le};return bp}var xp,K1;function TM(){if(K1)return xp;K1=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(j,$,W)=>$ in j?e(j,$,{enumerable:!0,configurable:!0,writable:!0,value:W}):j[$]=W,d=(j,$)=>{for(var W in $)e(j,W,{get:$[W],enumerable:!0})},m=(j,$,W,le)=>{if($&&typeof $=="object"||typeof $=="function")for(let P of i($))!l.call(j,P)&&P!==W&&e(j,P,{get:()=>$[P],enumerable:!(le=t($,P))||le.enumerable});return j},p=(j,$,W)=>(W=j!=null?n(a(j)):{},m(!j||!j.__esModule?e(W,"default",{value:j,enumerable:!0}):W,j)),_=j=>m(e({},"__esModule",{value:!0}),j),v=(j,$,W)=>(c(j,typeof $!="symbol"?$+"":$,W),W),x={};d(x,{default:()=>q}),xp=_(x);var R=p(Lo()),I=p(Rw()),k=Iw(),N=Bf();const L=5e3;class q extends R.Component{constructor(){super(...arguments),v(this,"mounted",!1),v(this,"isReady",!1),v(this,"isPlaying",!1),v(this,"isLoading",!0),v(this,"loadOnReady",null),v(this,"startOnPlay",!0),v(this,"seekOnPlay",null),v(this,"onDurationCalled",!1),v(this,"handlePlayerMount",$=>{if(this.player){this.progress();return}this.player=$,this.player.load(this.props.url),this.progress()}),v(this,"getInternalPlayer",$=>this.player?this.player[$]:null),v(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const $=this.getCurrentTime()||0,W=this.getSecondsLoaded(),le=this.getDuration();if(le){const P={playedSeconds:$,played:$/le};W!==null&&(P.loadedSeconds=W,P.loaded=W/le),(P.playedSeconds!==this.prevPlayed||P.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(P),this.prevPlayed=P.playedSeconds,this.prevLoaded=P.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),v(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:$,playing:W,volume:le,muted:P}=this.props;$(),!P&&le!==null&&this.player.setVolume(le),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):W&&this.player.play(),this.handleDurationCheck()}),v(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:$,onPlay:W,playbackRate:le}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&le!==1&&this.player.setPlaybackRate(le),$(),this.startOnPlay=!1),W(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),v(this,"handlePause",$=>{this.isPlaying=!1,this.isLoading||this.props.onPause($)}),v(this,"handleEnded",()=>{const{activePlayer:$,loop:W,onEnded:le}=this.props;$.loopOnEnded&&W&&this.seekTo(0),W||(this.isPlaying=!1,le())}),v(this,"handleError",(...$)=>{this.isLoading=!1,this.props.onError(...$)}),v(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const $=this.getDuration();$?this.onDurationCalled||(this.props.onDuration($),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),v(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate($){if(!this.player)return;const{url:W,playing:le,volume:P,muted:A,playbackRate:C,pip:U,loop:M,activePlayer:z,disableDeferredLoading:O}=this.props;if(!(0,I.default)($.url,W)){if(this.isLoading&&!z.forceLoad&&!O&&!(0,N.isMediaStream)(W)){console.warn(`ReactPlayer: the attempt to load ${W} is being deferred until the player has loaded`),this.loadOnReady=W;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(W,this.isReady)}!$.playing&&le&&!this.isPlaying&&this.player.play(),$.playing&&!le&&this.isPlaying&&this.player.pause(),!$.pip&&U&&this.player.enablePIP&&this.player.enablePIP(),$.pip&&!U&&this.player.disablePIP&&this.player.disablePIP(),$.volume!==P&&P!==null&&this.player.setVolume(P),$.muted!==A&&(A?this.player.mute():(this.player.unmute(),P!==null&&setTimeout(()=>this.player.setVolume(P)))),$.playbackRate!==C&&this.player.setPlaybackRate&&this.player.setPlaybackRate(C),$.loop!==M&&this.player.setLoop&&this.player.setLoop(M)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo($,W,le){if(!this.isReady){$!==0&&(this.seekOnPlay=$,setTimeout(()=>{this.seekOnPlay=null},L));return}if(W?W==="fraction":$>0&&$<1){const A=this.player.getDuration();if(!A){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(A*$,le);return}this.player.seekTo($,le)}render(){const $=this.props.activePlayer;return $?R.default.createElement($,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return v(q,"displayName","Player"),v(q,"propTypes",k.propTypes),v(q,"defaultProps",k.defaultProps),xp}var Tp,$1;function wM(){if($1)return Tp;$1=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(M,z,O)=>z in M?e(M,z,{enumerable:!0,configurable:!0,writable:!0,value:O}):M[z]=O,d=(M,z)=>{for(var O in z)e(M,O,{get:z[O],enumerable:!0})},m=(M,z,O,ie)=>{if(z&&typeof z=="object"||typeof z=="function")for(let me of i(z))!l.call(M,me)&&me!==O&&e(M,me,{get:()=>z[me],enumerable:!(ie=t(z,me))||ie.enumerable});return M},p=(M,z,O)=>(O=M!=null?n(a(M)):{},m(!M||!M.__esModule?e(O,"default",{value:M,enumerable:!0}):O,M)),_=M=>m(e({},"__esModule",{value:!0}),M),v=(M,z,O)=>(c(M,typeof z!="symbol"?z+"":z,O),O),x={};d(x,{createReactPlayer:()=>U}),Tp=_(x);var R=p(Lo()),I=p(Aw()),k=p(vM),N=p(Rw()),L=Iw(),q=Bf(),j=p(TM());const $=(0,q.lazy)(()=>pn(()=>import("./Preview-BUpuBxAV.js").then(M=>M.P),[])),W=typeof window<"u"&&window.document&&typeof document<"u",le=typeof Bm<"u"&&Bm.window&&Bm.window.document,P=Object.keys(L.propTypes),A=W||le?R.Suspense:()=>null,C=[],U=(M,z)=>{var O;return O=class extends R.Component{constructor(){super(...arguments),v(this,"state",{showPreview:!!this.props.light}),v(this,"references",{wrapper:ie=>{this.wrapper=ie},player:ie=>{this.player=ie}}),v(this,"handleClickPreview",ie=>{this.setState({showPreview:!1}),this.props.onClickPreview(ie)}),v(this,"showPreview",()=>{this.setState({showPreview:!0})}),v(this,"getDuration",()=>this.player?this.player.getDuration():null),v(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),v(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),v(this,"getInternalPlayer",(ie="player")=>this.player?this.player.getInternalPlayer(ie):null),v(this,"seekTo",(ie,me,J)=>{if(!this.player)return null;this.player.seekTo(ie,me,J)}),v(this,"handleReady",()=>{this.props.onReady(this)}),v(this,"getActivePlayer",(0,k.default)(ie=>{for(const me of[...C,...M])if(me.canPlay(ie))return me;return z||null})),v(this,"getConfig",(0,k.default)((ie,me)=>{const{config:J}=this.props;return I.default.all([L.defaultProps.config,L.defaultProps.config[me]||{},J,J[me]||{}])})),v(this,"getAttributes",(0,k.default)(ie=>(0,q.omit)(this.props,P))),v(this,"renderActivePlayer",ie=>{if(!ie)return null;const me=this.getActivePlayer(ie);if(!me)return null;const J=this.getConfig(ie,me.key);return R.default.createElement(j.default,{...this.props,key:me.key,ref:this.references.player,config:J,activePlayer:me.lazyPlayer||me,onReady:this.handleReady})})}shouldComponentUpdate(ie,me){return!(0,N.default)(this.props,ie)||!(0,N.default)(this.state,me)}componentDidUpdate(ie){const{light:me}=this.props;!ie.light&&me&&this.setState({showPreview:!0}),ie.light&&!me&&this.setState({showPreview:!1})}renderPreview(ie){if(!ie)return null;const{light:me,playIcon:J,previewTabIndex:de,oEmbedUrl:ge,previewAriaLabel:ue}=this.props;return R.default.createElement($,{url:ie,light:me,playIcon:J,previewTabIndex:de,previewAriaLabel:ue,oEmbedUrl:ge,onClick:this.handleClickPreview})}render(){const{url:ie,style:me,width:J,height:de,fallback:ge,wrapper:ue}=this.props,{showPreview:D}=this.state,ee=this.getAttributes(ie),ce=typeof ue=="string"?this.references.wrapper:void 0;return R.default.createElement(ue,{ref:ce,style:{...me,width:J,height:de},...ee},R.default.createElement(A,{fallback:ge},D?this.renderPreview(ie):this.renderActivePlayer(ie)))}},v(O,"displayName","ReactPlayer"),v(O,"propTypes",L.propTypes),v(O,"defaultProps",L.defaultProps),v(O,"addCustomPlayer",ie=>{C.push(ie)}),v(O,"removeCustomPlayers",()=>{C.length=0}),v(O,"canPlay",ie=>{for(const me of[...C,...M])if(me.canPlay(ie))return!0;return!1}),v(O,"canEnablePIP",ie=>{for(const me of[...C,...M])if(me.canEnablePIP&&me.canEnablePIP(ie))return!0;return!1}),O};return Tp}var wp,Y1;function SM(){if(Y1)return wp;Y1=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(k,N)=>{for(var L in N)e(k,L,{get:N[L],enumerable:!0})},d=(k,N,L,q)=>{if(N&&typeof N=="object"||typeof N=="function")for(let j of i(N))!l.call(k,j)&&j!==L&&e(k,j,{get:()=>N[j],enumerable:!(q=t(N,j))||q.enumerable});return k},m=(k,N,L)=>(L=k!=null?n(a(k)):{},d(!k||!k.__esModule?e(L,"default",{value:k,enumerable:!0}):L,k)),p=k=>d(e({},"__esModule",{value:!0}),k),_={};c(_,{default:()=>I}),wp=p(_);var v=m(mM()),x=wM();const R=v.default[v.default.length-1];var I=(0,x.createReactPlayer)(v.default,R);return wp}var AM=SM();const br=J1(AM);function Q1(n){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 22h20"},child:[]},{tag:"path",attr:{d:"M3.77 10.77 2 9l2-4.5 1.1.55c.55.28.9.84.9 1.45s.35 1.17.9 1.45L8 8.5l3-6 1.05.53a2 2 0 0 1 1.09 1.52l.72 5.4a2 2 0 0 0 1.09 1.52l4.4 2.2c.42.22.78.55 1.01.96l.6 1.03c.49.88-.06 1.98-1.06 2.1l-1.18.15c-.47.06-.95-.02-1.37-.24L4.29 11.15a2 2 0 0 1-.52-.38Z"},child:[]}]})(n)}const RM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"pb-20 pr-15 pl-15 mx-auto mt-50 2xl:mt-22",children:[T.jsx("h1",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-30 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-30 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"CON SONIDO DE ALABANZA"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 items-center justify-center gap-10 lg:gap-20",children:[T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #1"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/XFCdNw33nbo?si=lmXhUAs7O1RWviz0",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #2"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{className:"shadow",url:"https://youtu.be/LaXEEPbW3nY?si=y2FwpjhLMwxdPCqk",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #3"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/xAEu_CYNk-8?si=eXe36HWMBc699I9g",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #4"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/7QrSYiUoIzQ?si=HHgbiU8rYaCZMQIo",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #5"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/8LL0vp9zwVM?si=Dz1cuDABapQBrJDZ",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #6"}),T.jsx("div",{className:"place-items-center shadow",children:T.jsx(br,{url:"https://youtu.be/6M2JR5T3MZQ?si=QPiaySMmw_TfECZK",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #7"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/Fzw9T2YOzf8?si=vni63wKj-LZGHWYl",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #8"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/tjntmG6G9uY?si=B_kDCRmsoZeAGHMI",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #9"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/XO6INOsSka0?si=bvQk83FEj2BOxWFW",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #10"}),T.jsx("div",{className:"place-items-center rounded-lg shadow",children:T.jsx(br,{url:"https://youtu.be/jGfeaBksbMc?si=aEyOZ27j5UmwLk6r",width:"85%",height:"auto"})})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #11"}),T.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg shadow p-3 lg:py-5",children:[T.jsx(Q1,{className:"text-white text-6xl"}),T.jsx("h4",{className:"relative h-[50px] w-[230px] flex items-center justify-center text-center gap-1 text-base xl:text-lg mb-2 2xl:text-2xl 2xl:mb-8 text-white font-semibold",children:"Próximamente"})]})]}),T.jsxs("div",{className:"custom-card flex flex-col items-center justify-center p-5 cursor-pointer rounded-2xl bg-transparent border-1 border-amber-400 pg-50 shadow transition-transform duration-500 hover:scale-[1.02] active:scale-[0.98]",children:[T.jsx("h3",{className:"relative h-[50px] w-[230px] flex items-center justify-center shadow text-center gap-1 text-2xl xl:text-3xl 2xl:text-4xl 2xl:mb-8 text-white font-semibold mb-2",children:"Podcast #12"}),T.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg shadow lg:border-1 lg:border-white p-3 lg:py-5",children:[T.jsx(Q1,{className:"text-white text-6xl shadow"}),T.jsx("h4",{className:"relative h-[50px] w-[230px] flex items-center justify-center text-center text-base xl:text-lg 2xl:text-2xl text-white font-semibold",children:"Próximamente"})]})]})]})]})]}),IM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex-col justify-center align-center place-items-center",children:[T.jsx("h1",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-30 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-30 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"LUIS GERARDO AQUINO"}),T.jsxs("div",{className:"border-1 border-[#47A1EB] rounded-lg p-3 px-5 md:p-7 md:px-35 lg:p-10 lg:px-50 xl:p-15 xl:px-45 2xl:p-12 2xl:px-62 text-center",children:[T.jsx("h2",{className:"font-bold text-white text-base mb-10 md:text-2xl lg:text-3xl xl:text-4xl 2xl:text-5xl",children:"Contacto"}),T.jsx("p",{className:"text-white text-sm md:text-lg mb-3 lg:text-xl xl:text-2xl 2xl:text-3xl",children:"luisgerardoaquinocontacto@gmail.com"}),T.jsx("p",{className:"text-white text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-3xl",children:"+503 7722 5016"})]})]}),T.jsx("h2",{className:"mt-25 font-bold text-white text-center text-sm p-2 md:text-lg lg:text-2xl xl:text-3xl 2xl:text-3xl",children:"Sígueme en mis redes sociales y suscríbete:"})]});function CM(n){return kt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(n)}function OM(n){return kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.33 69.33a93.62 93.62 0 0 1 93.34 93.34v186.66a93.62 93.62 0 0 1-93.34 93.34H162.67a93.62 93.62 0 0 1-93.34-93.34V162.67a93.62 93.62 0 0 1 93.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z"},child:[]},{tag:"path",attr:{d:"M377.33 162.67a28 28 0 1 1 28-28 27.94 27.94 0 0 1-28 28zM256 181.33A74.67 74.67 0 1 1 181.33 256 74.75 74.75 0 0 1 256 181.33m0-37.33a112 112 0 1 0 112 112 112 112 0 0 0-112-112z"},child:[]}]})(n)}function Cw(n){return kt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm29.31-49.2a6,6,0,0,1-8.11,2.51,44.75,44.75,0,0,0-42.4,0,6,6,0,1,1-5.6-10.62,57.37,57.37,0,0,1,53.6,0A6,6,0,0,1,157.31,168.8Zm32-56a6,6,0,0,1-8.12,2.46,112.67,112.67,0,0,0-106.34,0,6,6,0,1,1-5.66-10.58,124.65,124.65,0,0,1,117.66,0A6,6,0,0,1,189.29,112.82Zm-16,28A6,6,0,0,1,168,144a6.07,6.07,0,0,1-2.82-.7,79,79,0,0,0-74.36,0,6,6,0,1,1-5.64-10.6,91,91,0,0,1,85.64,0A6,6,0,0,1,173.3,140.82Z"},child:[]}]})(n)}function NM(n){return kt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,72a48.05,48.05,0,0,1-48-48,8,8,0,0,0-8-8H128a8,8,0,0,0-8,8V156a20,20,0,1,1-28.57-18.08A8,8,0,0,0,96,130.69V88a8,8,0,0,0-9.4-7.88C50.91,86.48,24,119.1,24,156a76,76,0,0,0,152,0V116.29A103.25,103.25,0,0,0,224,128a8,8,0,0,0,8-8V80A8,8,0,0,0,224,72Zm-8,39.64a87.19,87.19,0,0,1-43.33-16.15A8,8,0,0,0,160,102v54a60,60,0,0,1-120,0c0-25.9,16.64-49.13,40-57.6v27.67A36,36,0,1,0,136,156V32h24.5A64.14,64.14,0,0,0,216,87.5Z"},child:[]}]})(n)}const PM=()=>T.jsxs("ul",{className:"icon flex flex-row justify-center gap-x-5 md:gap-x-8 lg:gap-x-10 xl:gap-x-15 2xl:gap-x-15 xl:p-5 2xl:mt-5 2xl:mb-10",children:[T.jsx("li",{children:T.jsx("a",{href:"https://www.facebook.com/LuisGerardoAquinoSV/?locale=es_LA",target:"_blank",rel:"noopener noreferrer",children:T.jsx(CM,{className:"icon font-thin text-white text-xl sm:text-3xl xl:text-4xl 2xl:text-5xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:"https://www.youtube.com/channel/UC9fmY9E40ON7DqZsRrYiGFg",target:"_blank",rel:"noopener noreferrer",children:T.jsx(bw,{className:"icon font-thin text-white text-xl sm:text-3xl xl:text-4xl 2xl:text-5xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:"https://www.instagram.com/luisgerardoaquino/",target:"_blank",rel:"noopener noreferrer",children:T.jsx(OM,{className:"icon font-thin text-white text-xl sm:text-3xl xl:text-4xl 2xl:text-5xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:"https://open.spotify.com/intl-es/artist/1p8u5sYJMTQiSoJPCUancz",target:"_blank",rel:"noopener noreferrer",children:T.jsx(Cw,{className:"icon font-thin text-white text-xl sm:text-3xl xl:text-4xl 2xl:text-5xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:"https://www.tiktok.com/@luisgakino",target:"_blank",rel:"noopener noreferrer",children:T.jsx(NM,{className:"icon font-thin text-white text-xl sm:text-3xl xl:text-4xl 2xl:text-5xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})})]}),DM=()=>T.jsxs("div",{className:"pt-10",children:[T.jsx(PM,{}),T.jsx("p",{className:"flex tracking-wide justify-center items-center text-white text-center p-10 text-[10px] sm:text-xs md:text-sm lg:text-sm xl:text-base 2xl:text-base",children:"© Luis Gerardo Aquino || contacto: luisgerardoaquinocontacto@gmail.com  || Realizado por Rebeca Vargas"})]});function MM(n){return kt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.994 6.124a9.23 9.23 0 00-.24-2.19c-.317-1.31-1.062-2.31-2.18-3.043a5.022 5.022 0 00-1.877-.726 10.496 10.496 0 00-1.564-.15c-.04-.003-.083-.01-.124-.013H5.986c-.152.01-.303.017-.455.026-.747.043-1.49.123-2.193.4-1.336.53-2.3 1.452-2.865 2.78-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03a12.5 12.5 0 001.57-.1c.822-.106 1.596-.35 2.295-.81a5.046 5.046 0 001.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.045-1.773-.6-1.943-1.536a1.88 1.88 0 011.038-2.022c.323-.16.67-.25 1.018-.324.378-.082.758-.153 1.134-.24.274-.063.457-.23.51-.516a.904.904 0 00.02-.193c0-1.815 0-3.63-.002-5.443a.725.725 0 00-.026-.185c-.04-.15-.15-.243-.304-.234-.16.01-.318.035-.475.066-.76.15-1.52.303-2.28.456l-2.325.47-1.374.278c-.016.003-.032.01-.048.013-.277.077-.377.203-.39.49-.002.042 0 .086 0 .13-.002 2.602 0 5.204-.003 7.805 0 .42-.047.836-.215 1.227-.278.64-.77 1.04-1.434 1.233-.35.1-.71.16-1.075.172-.96.036-1.755-.6-1.92-1.544-.14-.812.23-1.685 1.154-2.075.357-.15.73-.232 1.108-.31.287-.06.575-.116.86-.177.383-.083.583-.323.6-.714v-.15c0-2.96 0-5.922.002-8.882 0-.123.013-.25.042-.37.07-.285.273-.448.546-.518.255-.066.515-.112.774-.165.733-.15 1.466-.296 2.2-.444l2.27-.46c.67-.134 1.34-.27 2.01-.403.22-.043.442-.088.663-.106.31-.025.523.17.554.482.008.073.012.148.012.223.002 1.91.002 3.822 0 5.732z"},child:[]}]})(n)}const kM=({song:n})=>{const e=ms(i=>i.addItem),t=i=>{if(!i||!i._id){console.error("songSelected is undefined or missing id");return}e(i)};return T.jsx("div",{className:"bg-transparent border-2 border-amber-400 pg-50 shadow cursor-pointer rounded-2xl bg-transparent shadow-md mt-2 mb-10",children:T.jsx("div",{className:"mx-auto flex flex-col md:flex-row justify-center object-center rounded-lg px-2 py-2 sm:py-5 lg:max-w-7xl",children:T.jsxs("div",{className:"flex flex-col items-center justify-center p-7",children:[T.jsx("h3",{className:"text-white text-center font-bold mb-2 text-xl md:text-2xl lg:text-3xl 2xl:text-5xl",children:n.cancion}),T.jsxs("div",{className:"flex flex-col md:justify-between p-2 items-center",children:[T.jsx("img",{className:"w-full h-auto aspect-square object-cover rounded-lg mx-18 mb-2 md:w-55 md:h-55 md:mb-5 lg:w-65 lg:h-65 2xl:w-110 2xl:h-110 md:mb-8 object-center object-cover 2xl:my-7",src:n.imagen,alt:n.cancion}),T.jsxs("div",{className:"items-start md:items center",children:[T.jsxs("h2",{className:"text-white text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-4xl font-semibold 2xl:mb-3",children:[T.jsxs("span",{className:"text-white text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-4xl",children:["CD:"," "]}),n.cd]}),T.jsxs("p",{className:"text-white text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-4xl mb-5",children:[T.jsxs("span",{className:"text-white text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-4xl",children:["Autores:"," "]}),n.autores]})]})]}),T.jsxs("ul",{className:"icon flex flex-row justify-center gap-x-7 md:gap-x-10 lg:gap-x-12 xl:gap-x-15 2xl:gap-x-20 xl:p-5 2xl:mt:10",children:[T.jsx("li",{children:T.jsx("a",{href:n.apple,target:"_blank",rel:"noopener noreferrer",children:T.jsx(MM,{className:"icon text-amber-400 text-xl sm:text-3xl xl:text-4xl 2xl:xl:text-6xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:n.youtube,target:"_blank",rel:"noopener noreferrer",children:T.jsx(bw,{className:"icon text-amber-400 text-xl sm:text-3xl xl:text-4xl 2xl:xl:text-6xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("li",{children:T.jsx("a",{href:n.spotify,target:"_blank",rel:"noopener noreferrer",children:T.jsx(Cw,{className:"icon text-amber-400 text-xl sm:text-3xl xl:text-4xl 2xl:xl:text-6xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300"})})}),T.jsx("button",{className:"icon text-amber-400 text-xl sm:text-3xl xl:text-4xl 2xl:xl:text-6xl transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95] hover:text-amber-300",onClick:()=>t(n),children:T.jsx(Sw,{})},n.id)]})]})})})},VM=()=>{const{id:n}=ub(),{productos:e,loading:t,error:i}=Tw(),[a,l]=X.useState(null);return X.useEffect(()=>{if(e.length>0){const c=e.find(d=>d._id===n);l(c)}},[e,n]),T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"container flex flex-col justify-items-center place-items-center mx-auto px-4 py-8",children:[T.jsx("h1",{className:"title font-thin tracking-widest text-white text-centermt-20 xl:mt-15 2xl:mt-28 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-30 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"DISCOGRAFÍA"}),t&&T.jsx("div",{className:"flex justify-center-items-center-py-20",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),i&&T.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded md text-center mb-6",children:T.jsxs("p",{className:"font-semibold",children:["Error: ",i.message]})}),e.length===0&&!t&&!i&&T.jsx("div",{className:"text-center-py-10 text-gray-500",children:T.jsx("p",{className:"text-xl font-semibold",children:"No hay productos disponibles"})}),a&&T.jsx(kM,{song:a},a._id),T.jsx("button",{className:"border-3 border-amber-500 rounded-lg text-white py-2 px-7 2xl:py-4 2xl:px-10 text-sm lg:text-base xl:text-lg 2xl:text-3xl",onClick:()=>window.history.back(),children:"Volver"})]})]})},X1={approved:{title:"¡Pago aprobado!",description:"Tu pago ha sido procesado con éxito. ¡Gracias por tu compra!",status:"approved"},failure:{title:"¡Pago Fallido!",description:"Lo sentimos. No fue posible procesar tu pago. Por favor, intenta nuevamente.",status:"failure"},pending:{title:"¡Pago Pendiente!",description:"Tu pago está pendiente de confirmación. Te notificaremos cuando se complete el proceso.",status:"pending"},default:{title:"Estado Desconocido",description:"El estado de tu pago es desconocido. Por favor, verifica tu cuenta de Mercado Pago para más detalles.",status:"default"}},W1={approved:"bg-green-100 border-green-500 text-green-900",failure:"bg-red-100 border-red-500 text-red-900",pending:"bg-blue-100 border-blue-500 text-yellow-900",default:"bg-gray-100 border-gray-500 text-gray-900"},LM=()=>{const n=Ts(),t=new URLSearchParams(n.search).get("status"),{title:i,description:a}=X1[t]||X1.default;return T.jsxs("div",{className:`max-w-md mx-auto mt-8 p-6 rounded-lg shadow-md border-1-4 ${W1[t]||W1.default}`,children:[T.jsx("h2",{className:"text-white text-2x1 font-bold mb-4",children:i}),T.jsx("p",{className:"text-gray-700 mb-6",children:a}),T.jsx(Et,{to:"/products",className:"inline-block px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-700 transition duration-300",children:"Volver a la tienda"})]})},er=({id:n,label:e,name:t,type:i="text",value:a="",onChange:l,placeholder:c,required:d=!1,error:m=null})=>T.jsxs("div",{className:"flex flex-col space-y-1",children:[T.jsxs("label",{htmlFor:n,className:"text-gray-300",children:[e,d&&"*"]}),T.jsx("input",{type:i,id:n,name:t,value:a||"",onChange:l,placeholder:c,required:d,className:`border ${m?"border-red-500":"border-amber-400"} rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500`}),m&&T.jsx("p",{className:"text-red-500 text-xs",children:m})]}),UM={nombre:"",apellido:"",pais:"",email:"",telefono:"",password:"",passwordConfirm:""},Z1={nombre:n=>n?/^[a-zA-Z\s]+$/.test(n)?n.length<3?"El nombre debe tener al menos 3 caracteres":n.length>20?"El nombre no puede tener más de 20 caracteres":"":"El nombre solo puede contener letras y espacios":"El nombre es requerido",apellido:n=>n?/^[a-zA-Z\s]+$/.test(n)?n.length<3?"El apellido debe tener al menos 3 caracteres":n.length>50?"El apellido no puede tener más de 50 caracteres":"":"El apellido solo puede contener letras y espacios":"El apellido es requerido",pais:n=>n?/^[a-zA-Z\s]+$/.test(n)?n.length<3?"El país debe tener al menos 3 caracteres":n.length>50?"El país no puede tener más de 50 caracteres":"":"El país solo puede contener letras y espacios":"El país es requerido",email:n=>n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?"":"El correo no es válido":"El correo es requerido",telefono:n=>n?/^\+[0-9]{11}$/.test(n)?"":"El teléfono no es válido":"El teléfono es requerido",password:n=>n?n.length<6?"La contraseña debe tener al menos 6 caracteres":n.length>20?"La contraseña no puede tener más de 20 caracteres":"":"La contraseña es requerida",confirmPassword:(n,e)=>n?e&&n!==e.password?"Las contraseñas no coinciden":"":"La confirmación de la contraseña es requerida"},Ow=n=>{const[e,t]=X.useState({}),i=X.useCallback((l,c)=>{let d="";return Z1[l]&&(d=Z1[l](c)),t(m=>({...m,[l]:d})),d},[n]),a=X.useCallback(()=>{const l={};let c=!1;return Object.keys(n).forEach(m=>{const p=i(m,n[m]);p&&(l[m]=p,c=!0)}),t(l),c},[n,i]);return{errors:e,validateField:i,validateForm:a}},jM=n=>({nombre:n.nombre,apellido:n.apellido,pais:n.pais,email:n.email,telefono:n.telefono,password:n.password}),zM=()=>{const{register:n}=$o(),e=Pu(),[t,i]=X.useState(UM),[a,l]=X.useState(""),{errors:c,validateField:d,validateForm:m}=Ow(t),p=X.useCallback(v=>{const{name:x,value:R}=v.target;i(I=>({...I,[x]:R})),d(x,R)},[d]),_=async v=>{if(v.preventDefault(),l(""),t.password!==t.confirmPassword){l("Las contraseñas no coinciden.");return}if(m()){l("Por favor, corrige los errores antes de continuar.");return}try{const x=jM(t);await n(x),e("/login")}catch(x){console.error("Error registering:",x),l("Error al registrar el usuario. Por favor, inténtelo de nuevo más tarde.")}};return T.jsxs("form",{onSubmit:_,className:"space-y-4 place-content-center md:mx-10 xl:mx-25 2xl:mx-70",children:[a&&T.jsx("div",{className:"bg-transparent text-red-700 p-3 rounded-md border-2 border-amber-200",children:a}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 background-transparent",children:[T.jsx(er,{id:"nombre",label:"Nombre",name:"nombre",value:t.nombre,onChange:p,placeholder:"Nombre",required:!0,error:c.nombre}),T.jsx(er,{id:"apellido",label:"Apellido",name:"apellido",value:t.apellido,onChange:p,placeholder:"Apellido",required:!0,error:c.apellido})]}),T.jsx(er,{id:"pais",label:"País",name:"pais",value:t.pais,onChange:p,placeholder:"País",required:!0,error:c.pais}),T.jsx(er,{id:"email",label:"Email",name:"email",type:"email",value:t.email,onChange:p,placeholder:"Email",required:!0,error:c.email}),T.jsx(er,{id:"telefono",label:"Teléfono",name:"telefono",value:t.telefono,onChange:p,placeholder:"Teléfono",required:!0,error:c.telefono}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 background-transparent",children:[T.jsx(er,{id:"password",label:"Contraseña",name:"password",type:"password",value:t.password,onChange:p,placeholder:"Contraseña",required:!0,error:c.password}),T.jsx(er,{id:"confirmPassword",label:"Confirmar Contraseña",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:p,placeholder:"Confirmar Contraseña",required:!0,error:c.confirmPassword})]}),T.jsx("div",{className:"flex justify-center",children:T.jsx("button",{className:"custom-button border-2 border-amber-300 mt-5 mb-5 text-white text-base md:text-lg lg:text-xl px-10 lg:px-15 xl:px-18 2xl:px-20 py-3 xl:py-4 rounded-md cursor-pointer transition duration-200 ease-in-out transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95]",type:"submit",children:"Regístrate"})})]})},BM=()=>T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex flex-col mx-auto justify-items-center text-white text-lg p-2 mt-25 sm:mt-28 md:mt-30 lg:mt-25 lg:pr-20 lg:pl-20 xl:pr-25 xl:pr-25 2xl:pr-50 2xl:pl-50",children:[T.jsx("h2",{className:"title font-thin tracking-widest text-white text-center mt-20 xl:mt-30 2xl:mt-25 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-20 text-lg xs:text-xl sm:text-2xl md:text-5xl lg:text-6xl xl:text-6xl 2xl:text-7xl",children:"REGÍSTRATE"}),T.jsx(zM,{}),T.jsxs("p",{className:"mt-15 text-base md:text-lg lg:text-xl 2xl:text-2xl text-gray-200 text-center",children:["¿Ya estás registrado?"," ",T.jsx(Et,{to:"/login",className:"text-amber-400 hover:underline hover:text-[#47a1eb]",children:"Iniciar Sesión"})]})]})]}),qM=n=>({nombre:n.nombre,apellido:n.apellido,pais:n.pais,telefono:n.telefono}),HM=({userUpdate:n})=>{const{update:e}=$o(),t=Pu(),[i,a]=X.useState(n),[l,c]=X.useState(""),{errors:d,validateField:m,validateForm:p}=Ow(i),_=X.useCallback(x=>{const{name:R,value:I}=x.target;a(k=>({...k,[R]:I})),m(R,I)},[m]),v=async x=>{if(x.preventDefault(),c(""),p()){c("Por favor, corrige los errores antes de continuar.");return}try{const R=qM(i);await e({...R,id:n._id||n.id}),t("/login")}catch(R){console.error("Error updating:",R),c("Error al actualizar la información del usuario. Por favor, inténtelo de nuevo más tarde.")}};return T.jsxs("form",{onSubmit:v,className:"space-y-4 place-content-center md:mx-10 xl:mx-25 2xl:mx-70",children:[l&&T.jsx("div",{className:"bg-transparent text-red-700 p-3 rounded-md border-2 border-amber-200",children:l}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 background-transparent",children:[T.jsx(er,{id:"nombre",label:"Nombre",name:"nombre",value:i.nombre,onChange:_,placeholder:"Nombre",required:!0,error:d.nombre}),T.jsx(er,{id:"apellido",label:"Apellido",name:"apellido",value:i.apellido,onChange:_,placeholder:"Apellido",required:!0,error:d.apellido})]}),T.jsx(er,{id:"pais",label:"País",name:"pais",value:i.pais,onChange:_,placeholder:"País",required:!0,error:d.pais}),T.jsx(er,{id:"telefono",label:"Teléfono",name:"telefono",value:i.telefono,onChange:_,placeholder:"Teléfono",required:!0,error:d.telefono}),T.jsx("div",{className:"flex justify-center",children:T.jsx("button",{className:"custom-button border-2 border-amber-300 mt-5 mb-5 text-white text-base md:text-lg lg:text-xl px-10 lg:px-15 xl:px-18 2xl:px-20 py-3 xl:py-4 rounded-md cursor-pointer transition duration-200 ease-in-out transition-transform duration-500 hover:scale-[1.05] active:scale-[0.95]",type:"submit",children:"Actualizar"})})]})},FM=()=>{const{id:n}=ub(),{user:e}=$o(),t=e&&(e._id===n||e.id===n)?e:null;return t?T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsxs("div",{className:"flex flex-col mx-auto justify-items-center text-white text-lg p-2 mt-25 sm:mt-28 md:mt-20 lg:mt-20 2xl:mt-15 lg:mx-20 xl:mx-25 2xl:mx-20",children:[T.jsx("h2",{className:"title font-thin tracking-widest text-white text-center mt-10 xl:mt-30 2xl:mt-25 mb-7 md:mb-18 lg:mb-15 xl:mb-20 2xl:mb-20 text-lg xs:text-xl sm:text-2xl md:text-4xl lg:text-5xl xl:text-6xl 2xl:text-5xl",children:"ACTUALIZAR INFORMACIÓN"}),T.jsx(HM,{userUpdate:t}),T.jsx("button",{className:"custom-button mx-15 my-10 lg:mx-20 xl:mx-25 2xl:mx-100 border-3 border-amber-500 rounded-lg text-white py-2 px-7 2xl:py-4 2xl:px-10 text-sm lg:text-base xl:text-lg 2xl:text-3xl",onClick:()=>window.history.back(),children:"Volver"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx(Lr,{}),T.jsx(Et,{to:"/login",className:"text-amber-400 hover:underline",children:"Favor ingresar nuevamente."})]})},GM=()=>T.jsxs(T.Fragment,{children:[T.jsx(eM,{}),T.jsxs(iA,{children:[T.jsx(Jn,{path:"/",element:T.jsx(tM,{})}),T.jsx(Jn,{path:"/about",element:T.jsx(nM,{})}),T.jsx(Jn,{path:"/login",element:T.jsx(iM,{})}),T.jsx(Jn,{path:"/register",element:T.jsx(BM,{})}),T.jsx(Jn,{path:"/update/:id",element:T.jsx(FM,{})}),T.jsx(Jn,{path:"/products",element:T.jsx(uM,{})}),T.jsx(Jn,{path:"/podcast",element:T.jsx(RM,{})}),T.jsx(Jn,{path:"/contacto",element:T.jsx(IM,{})}),T.jsx(Jn,{path:"/SongPage/:id",element:T.jsx(VM,{})}),T.jsx(Jn,{path:"/mercadopago/status",element:T.jsx(LM,{})})]}),T.jsx(DM,{})]}),KM=()=>T.jsx(ND,{children:T.jsx(GM,{})});m2.createRoot(document.getElementById("root")).render(T.jsx(X.StrictMode,{children:T.jsx(IA,{children:T.jsx(KM,{})})}));export{pn as _,Bf as a,dM as b,J1 as g,Lo as r};
