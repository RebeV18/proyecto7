import{r as _,g as m}from"./react-DoC2WAmd.js";var w=_();const E=m(w);var p={},h;function v(){if(h)return p;h=1,Object.defineProperty(p,"__esModule",{value:!0}),p.loadMercadoPago=void 0;const t="https://sdk.mercadopago.com/js/v2",c=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,e="MercadoPago has already been initialized in your window, please remove the duplicate import",n="MercadoPago.js not available",u="Failed to load MercadoPago.js",a=()=>{for(var i=document.querySelectorAll(`script[src^="${t}"`),o=0;o<i.length;o++){var r=i[o];if(c.test(r.src))return r}return null},d=()=>{const i=document.createElement("script");i.src=t;const o=document.head||document.body;if(!o)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return o.appendChild(i),i};let f=null;const l=()=>(f!==null||(f=new Promise((i,o)=>{if(typeof window>"u"){i(null);return}if(window.MercadoPago){console.warn(e),i(window.MercadoPago);return}try{let r=a();r?console.warn(e):r||(r=d()),r.addEventListener("load",()=>{window.MercadoPago?i(window.MercadoPago):o(new Error(n))}),r.addEventListener("error",()=>{o(new Error(u))})}catch(r){o(r);return}})),f);return p.loadMercadoPago=l,p}var M=v(),x=function(t,c,e,n){function u(a){return a instanceof e?a:new e(function(d){d(a)})}return new(e||(e=Promise))(function(a,d){function f(o){try{i(n.next(o))}catch(r){d(r)}}function l(o){try{i(n.throw(o))}catch(r){d(r)}}function i(o){o.done?a(o.value):u(o.value).then(f,l)}i((n=n.apply(t,c||[])).next())})};class s{static getInstance(){return x(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield M.loadMercadoPago(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago;console.error("Expected the PUBLIC_KEY to render the MercadoPago SDK React")})}}s.publicKey=null;s.options={};s.instanceMercadoPago=void 0;s.loadedInstanceMercadoPago=!1;function b(t,c){return Object.keys(t).length===Object.keys(c).length&&Object.keys(t).every(n=>Object.prototype.hasOwnProperty.call(c,n)&&t[n]===c[n])}const P=(t,c)=>{const e=Object.assign(Object.assign({},c),{frontEndStack:"react"}),n=!b(s.options,e);(t!==s.publicKey||n)&&(s.publicKey=t,s.options=e,s.instanceMercadoPago=void 0)};var I=function(t,c,e,n){function u(a){return a instanceof e?a:new e(function(d){d(a)})}return new(e||(e=Promise))(function(a,d){function f(o){try{i(n.next(o))}catch(r){d(r)}}function l(o){try{i(n.throw(o))}catch(r){d(r)}}function i(o){o.done?a(o.value):u(o.value).then(f,l)}i((n=n.apply(t,c||[])).next())})};const O=()=>I(void 0,void 0,void 0,function*(){}),S=()=>{},j=t=>{console.error(t)};var A=function(t,c,e,n){function u(a){return a instanceof e?a:new e(function(d){d(a)})}return new(e||(e=Promise))(function(a,d){function f(o){try{i(n.next(o))}catch(r){d(r)}}function l(o){try{i(n.throw(o))}catch(r){d(r)}}function i(o){o.done?a(o.value):u(o.value).then(f,l)}i((n=n.apply(t,c||[])).next())})};const D=({settings:t,name:c,containerId:e,controller:n})=>A(void 0,void 0,void 0,function*(){const u=yield s.getInstance(),a=u==null?void 0:u.bricks();window[n]=yield a==null?void 0:a.create(c,e,t)}),R=200,k=({onReady:t=S,onError:c=j,onSubmit:e=O,customization:n,initialization:u,locale:a,id:d="walletBrick_container"})=>(w.useEffect(()=>{const f={settings:{initialization:u,customization:n,locale:a,callbacks:{onReady:t,onSubmit:e,onError:c}},name:"wallet",containerId:d,controller:"walletBrickController"},l=setTimeout(()=>{D(f)},R);return()=>{var i;clearTimeout(l),(i=window.walletBrickController)===null||i===void 0||i.unmount()}},[n,u,t,c,e]),E.createElement("div",{id:d}));function y(t){var c,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var u=t.length;for(c=0;c<u;c++)t[c]&&(e=y(t[c]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function C(){for(var t,c,e=0,n="",u=arguments.length;e<u;e++)(t=arguments[e])&&(c=y(t))&&(n&&(n+=" "),n+=c);return n}export{E as R,k as W,C as c,P as i,w as r};
